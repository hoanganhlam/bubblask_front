(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,n){"use strict";n(24),n(25),n(7),n(21);var r=n(57),o=n(20),l=n(34),c={name:"BInput",components:{"b-icon":r.a},mixins:[l.a],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean,iconClickable:Boolean,hasCounter:{type:Boolean,default:function(){return o.a.defaultInputHasCounter}},customClass:{type:String,default:""}},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||o.a.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},rootClasses:function(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses:function(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight:function(){return this.passwordReveal||this.loading||this.statusTypeIcon},iconPosition:function(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage:function(){return!!this.statusMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"eye-off":"eye"},valueLength:function(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(t){this.newValue=t}},methods:{togglePasswordVisibility:function(){var t=this;this.isPasswordVisible=!this.isPasswordVisible,console.log(this.newType),this.newType=this.isPasswordVisible?"text":"password",this.$nextTick((function(){t.$refs.input.focus()}))},onInput:function(t){var e=this;this.$nextTick((function(){t.target&&(e.computedValue=t.target.value)}))},iconClick:function(t){var e=this;this.$emit("icon-click",t),this.$nextTick((function(){e.$refs.input.focus()}))}}},d=n(3),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.rootClasses},["textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"input",class:[t.inputClasses,t.customClass],attrs:{type:t.newType,autocomplete:t.newAutocomplete,maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"input",t.$attrs,!1)):n("textarea",t._b({ref:"textarea",staticClass:"textarea",class:[t.inputClasses,t.customClass],attrs:{maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"textarea",t.$attrs,!1)),t._v(" "),t.icon?n("x-icon",{staticClass:"is-left",class:{"is-clickable":t.iconClickable},attrs:{name:t.icon,size:t.iconSize},nativeOn:{click:function(e){return t.iconClick(e)}}}):t._e(),t._v(" "),t.loading||!t.passwordReveal&&!t.statusTypeIcon?t._e():n("x-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal},attrs:{name:"eye"},nativeOn:{click:function(e){return t.togglePasswordVisibility(e)}}}),t._v(" "),t.maxlength&&t.hasCounter&&"number"!==t.type?n("small",{staticClass:"help counter",class:{"is-invisible":!t.isFocused}},[t._v("\n        "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\n    ")]):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},31:function(t,e,n){"use strict";n(26),n(9);var r=n(2),o=(n(67),n(51),n(34)),l=n(414),c={name:"BUpload",mixins:[o.a],inheritAttrs:!1,props:{value:{type:[Object,Function,l.a,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value:function(t){var e=this.$refs.input.files;this.newValue=t,(!this.newValue||Array.isArray(this.newValue)&&0===this.newValue.length||!e[0]||Array.isArray(this.newValue)&&!this.newValue.some((function(a){return a.name===e[0].name})))&&(this.$refs.input.value=null),!this.isValid&&!this.dragDrop&&this.checkHtml5Validity()}},methods:{onFileChange:function(t){if(!this.disabled&&!this.loading){this.dragDrop&&this.updateDragDropFocus(!1);var e=t.target.files||t.dataTransfer.files;if(0===e.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){var n=!1;!this.native&&this.newValue||(this.newValue=[],n=!0);for(var i=0;i<e.length;i++){var r=e[i];this.checkType(r)&&(this.newValue.push(r),n=!0)}if(!n)return}else{if(this.dragDrop&&1!==e.length)return;var o=e[0];if(this.checkType(o))this.newValue=o;else{if(!this.newValue)return;this.newValue=null}}this.$emit("input",this.newValue),!this.dragDrop&&this.checkHtml5Validity()}},updateDragDropFocus:function(t){this.disabled||this.loading||(this.dragDropFocus=t)},checkType:function(t){if(!this.accept)return!0;var e=this.accept.split(",");if(0===e.length)return!0;for(var n=!1,i=0;i<e.length&&!n;i++){var r=e[i].trim();if(r)if("."===r.substring(0,1)){var o=t.name.lastIndexOf(".");(o>=0?t.name.substring(o):"").toLowerCase()===r.toLowerCase()&&(n=!0)}else t.type.match(r)&&(n=!0)}return n}}},d=n(3),h={components:{"b-upload":Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"upload control",class:{"is-expanded":t.expanded}},[t.dragDrop?n("div",{staticClass:"upload-draggable",class:[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus,"is-expanded":t.expanded}],on:{dragover:function(e){return e.preventDefault(),t.updateDragDropFocus(!0)},dragleave:function(e){return e.preventDefault(),t.updateDragDropFocus(!1)},dragenter:function(e){return e.preventDefault(),t.updateDragDropFocus(!0)},drop:function(e){return e.preventDefault(),t.onFileChange(e)}}},[t._t("default")],2):[t._t("default")],t._v(" "),n("input",t._b({ref:"input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,disabled:t.disabled},on:{change:t.onFileChange}},"input",t.$attrs,!1))],2)}),[],!1,null,null,null).exports},props:{text:{},multiple:{type:Boolean,default:!1}},data:function(){return{dropFiles:[],isLoading:!1}},name:"upload",methods:{handleInput:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t.isLoading=!0,!t.multiple){e.next=14;break}i=0;case 4:if(!(i<data.length)){e.next=12;break}return e.next=7,t.beforeUpload(data[i]);case 7:r=e.sent,n.push(r);case 9:i++,e.next=4;break;case 12:e.next=18;break;case 14:return e.next=16,t.beforeUpload(data);case 16:o=e.sent,n.push(o);case 18:t.$emit("done",n),t.dropFiles=[],t.isLoading=!1;case 21:case"end":return e.stop()}}),e)})))()},beforeUpload:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("path",t),r.append("title",t.name),n.next=5,e.$axios.$post("/media/medias/",r);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}}},v={name:"Avatar",components:{Upload:Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-upload",{attrs:{multiple:t.multiple,"drag-drop":""},on:{input:t.handleInput},model:{value:t.dropFiles,callback:function(e){t.dropFiles=e},expression:"dropFiles"}},[n("div",{staticClass:"content has-text-centered"},[n("p",[n("x-icon",{attrs:{name:"upload",size:"is-large"}})],1),t._v(" "),t.text?n("p",[t._v(t._s(t.text))]):t._e()])])}),[],!1,null,null,null).exports},props:{canUpdate:{type:Boolean,default:!1},value:{default:null,type:Object},name:{default:null},icon:{default:"account-circle-outline",type:String},imageSize:{default:"thumb_96_96",type:String}},data:function(){return{data:this.value,isUpdating:!1}},methods:{handleUpload:function(t){t.length&&(this.data=t[0],this.isUpdating=!1)},getRandomInt:function(t){return Math.floor(Math.random()*Math.floor(t))}},watch:{data:function(){this.$emit("input",this.data)},value:function(){this.data=this.value}}},m=(n(472),Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image avatar relative",class:{initials:!(t.isUpdating||t.data&&t.data.sizes)}},[t.isUpdating?n("Upload",{staticClass:"upload",on:{done:t.handleUpload}}):t.data&&t.data.sizes?n("img",{staticClass:"is-round",attrs:{src:t.cleanURI((t.data.sizes[t.imageSize],t.data.sizes[t.imageSize])),alt:""}}):t.name?n("span",[t._v(t._s(t.avatarName(t.name,2)))]):t.canUpdate?n("div",{staticClass:"image-blank"}):n("img",{attrs:{src:"/avatar/"+t.getRandomInt(4)+".png",alt:""}}),t._v(" "),t.canUpdate?n("div",{staticClass:"medal",on:{click:function(e){t.isUpdating=!t.isUpdating}}},[n("x-icon",{attrs:{size:"is-small",name:t.isUpdating?"close":"upload"}})],1):t._e(),t._v(" "),t.canUpdate&&t.data?n("div",{staticClass:"delete",on:{click:function(e){t.data=null}}}):t._e()],1)}),[],!1,null,null,null));e.a=m.exports},420:function(t,e,n){"use strict";n(46),n(18),n(35),n(45),n(14),n(7),n(36);var r=n(6),o=(n(30),n(9),n(2)),l=n(58),c=n(31),d=n(19),h=n(56),v=n(415),m=(n(140),n(16)),f={name:"index.vue",props:{value:{default:"",type:Object}},data:function(){return{search:"working",response:{total:0,results:[]},data:this.value}},methods:{select:function(img){this.data&&img.id===this.data.id?this.data=null:this.data=this.cleanData(img,["id","urls","user","alt_description"])},fetch:function(){var t=this;this.$axios.$get("/general/unsplash/",{params:{search:this.search}}).then((function(e){t.response=e}))},handleInput:Object(m.debounce)((function(){this.fetch()}),1e3)},watch:{data:function(){this.$emit("input",this.data),this.$store.commit("config/SET_SETTING_BACKGROUND",this.data)}},created:function(){this.fetch()}},k=n(3),y=Object(k.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unsplash"},[n("div",{staticClass:"field"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{placeholder:"Search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.handleInput]}})])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"columns is-mobile is-variable is-1 is-multiline"},t._l(t.response.results,(function(img){return n("div",{key:img.id,staticClass:"column is-6"},[n("div",{staticClass:"image clickable is-3by1",class:{selected:t.data&&t.data.id===img.id},on:{click:function(e){return t.select(img)}}},[n("img",{attrs:{src:img.urls.regular,alt:img.alt_description}})])])})),0)])])}),[],!1,null,null,null).exports,w=n(22),C={name:"Setting",props:{value:{default:function(){return Object.assign({},w.a)}}},components:{BDropdownItem:l.a,"color-picker":v.Chrome,Unsplash:y},data:function(){return{data:Object.assign({},w.a),colors:[],fieldColors:[{field:"--btn-color",label:"Button Background"},{field:"--btn-text-color",label:"Button Text"},{field:"--bg-color-primary",label:"Background"},{field:"--bg-color-primary-text",label:"Text Inside"},{field:"--task-color",label:"Task Background"},{field:"--task-text-color",label:"Task Text"}],activeTab:"c"}},methods:{updateColor:function(t,e){this.data.color[t]=e.hex},save:function(){var t=this;this.$axios.$put("/auth/users/".concat(this.currentUser.username,"/"),{options:this.data}).then((function(e){t.$store.commit("auth/SET_USER",e),t.$store.commit("config/SET_SETTING",e.profile.setting)}))},reset:function(){this.data=Object.assign({},w.a),this.$store.commit("config/SET_SETTING_BACKGROUND",null)}},watch:{value:{deep:!0,handler:function(){this.data=this.value}},data:{deep:!0,handler:function(){this.$emit("input",this.data)}}},created:function(){this.data=Object(m.cloneDeep)(this.$store.state.config.settings),void 0===this.data.notification&&(this.data.notification={wake_me:5})}},x=(n(476),Object(k.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"options"},[n("div",{staticClass:"tabs is-boxed"},[n("ul",[n("li",{class:{"is-active":"c"===t.activeTab},on:{click:function(e){t.activeTab="c"}}},[n("a",[t._v("Customize")])]),t._v(" "),n("li",{class:{"is-active":"n"===t.activeTab},on:{click:function(e){t.activeTab="n"}}},[n("a",[t._v("Notification")])]),t._v(" "),n("li",{class:{"is-active":"t"===t.activeTab},on:{click:function(e){t.activeTab="t"}}},[n("a",[t._v("Timer")])])])]),t._v(" "),"c"===t.activeTab?n("div",{staticClass:"color-picker"},[t._l(t.fieldColors,(function(e){return n("div",{key:e.field,staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[t._v("\n                "+t._s(e.label)+"\n            ")]),t._v(" "),n("div",{staticClass:"level-right"},[n("b-dropdown",[n("div",{staticClass:"button is-square",style:{background:t.data.color[e.field]},attrs:{slot:"trigger"},slot:"trigger"}),t._v(" "),n("b-dropdown-item",{attrs:{paddingless:"",custom:""}},[n("color-picker",{attrs:{value:t.data.color[e.field],"preset-colors":["#f00","#00ff00","#00ff0055","rgb(201, 76, 76)","rgba(0,0,255,1)","hsl(89, 43%, 51%)","hsla(89, 43%, 51%, 0.6)"]},on:{input:function(n){return t.updateColor(e.field,n)}}})],1)],1)],1)])})),t._v(" "),n("b-dropdown",{staticClass:"is-fullwidth",attrs:{"aria-role":"list"}},[n("div",{staticClass:"button is-fullwidth",attrs:{slot:"trigger"},slot:"trigger"},[t._v("Set Background")]),t._v(" "),n("b-dropdown-item",{attrs:{custom:"","aria-role":"listitem"}},[n("Unsplash",{model:{value:t.data.color.background,callback:function(e){t.$set(t.data.color,"background",e)},expression:"data['color']['background']"}})],1)],1)],2):t._e(),t._v(" "),"n"===t.activeTab?n("div",[n("div",{staticClass:"columns is-mobile"},[n("div",{staticClass:"column"},[t._v("Wake me in(m)")]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"field is-grouped"},[n("b-number-input",{attrs:{size:"is-small",min:5,type:"is-primary","controls-position":"compact"},model:{value:t.data.notification.wake_me,callback:function(e){t.$set(t.data.notification,"wake_me",e)},expression:"data.notification.wake_me"}})],1)])])]):t._e(),t._v(" "),"t"===t.activeTab?n("div",[n("div",{staticClass:"columns is-mobile"},[n("div",{staticClass:"column"},[t._v("Pomodoro")]),t._v(" "),n("div",{staticClass:"column"},[n("b-number-input",{attrs:{size:"is-small",min:25,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.tomato,callback:function(e){t.$set(t.data.timer,"tomato",e)},expression:"data.timer.tomato"}})],1)]),t._v(" "),n("div",{staticClass:"columns is-mobile"},[n("div",{staticClass:"column"},[t._v("Short Break")]),t._v(" "),n("div",{staticClass:"column"},[n("b-number-input",{attrs:{size:"is-small",min:5,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.short_break,callback:function(e){t.$set(t.data.timer,"short_break",e)},expression:"data.timer.short_break"}})],1)]),t._v(" "),n("div",{staticClass:"columns is-mobile"},[n("div",{staticClass:"column"},[t._v("Long Break")]),t._v(" "),n("div",{staticClass:"column"},[n("b-number-input",{attrs:{size:"is-small",min:10,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.long_break,callback:function(e){t.$set(t.data.timer,"long_break",e)},expression:"data.timer.long_break"}})],1)])]):t._e(),t._v(" "),n("div",{staticClass:"level is-mobile",staticStyle:{"margin-top":"1rem"}},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"button is-small is-fullwidth",on:{click:function(e){return t.reset()}}},[t._v("Reset")])]),t._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"button is-primary is-small is-fullwidth",on:{click:t.save}},[t._v("Save")])])])])}),[],!1,null,null,null).exports),S=n(17),T=n(421);function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={name:null,isPrivate:!1,password:null,isDone:!1,hasBoard:!1,boardName:null},R={components:{Template:T.default,BTaginput:h.a,BInput:d.a,BDropdownItem:l.a,Avatar:c.a,Options:x},data:function(){return{colors:[],burgerActive:!1,logging:!0,form:{email:null,password:null,username:null,first_name:null,last_name:null},formWS:O,isActive:!1,wsURI:null,wsResponse:{results:[],count:0},wsSearch:"",wsCode:null,wsLoading:!0,wsActive:!1,wsMinimize:!0,wsPassword:null,wsMembers:[],settings:null,notify:{msg:null,ssf:!0},loadingMember:!1,cloneReport:{},is_online:!0,strictTemp:!1}},methods:{initForm:function(data){this.formWS=data?Object(m.cloneDeep)(data):this.formWS=O,this.formWS.isDone=!1},logout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.logout();case 2:return t.$router.replace({path:"/"}),e.next=5,t.fetchTasks();case 5:case"end":return e.stop()}}),e)})))()},handleSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.logging){e.next=5;break}return e.next=3,t.$auth.login({email:t.form.email,password:t.form.password}).then((function(e){e?(t.fetchTasks(),t.notify.msg="Login successfully :D"):(t.notify.msg="Login Failed :(",t.notify.ssf=!1)}));case 3:e.next=6;break;case 5:t.$axios.post("/auth/rest-auth/registration/",E({},t.form,{password1:t.form.password,password2:t.form.password})).then((function(e){e?(t.logging=!0,t.notify.msg="Register successfully, please login!"):(t.notify.msg="Register Failed :(",t.notify.ssf=!1)})).catch((function(e){var n=Object.keys(e.response.data);t.notify.msg=[],n.forEach((function(n){t.notify.msg.push("".concat(n," - ").concat(e.response.data[n][0]))})),t.notify.ssf=!1}));case 6:n=t,setTimeout((function(){n.notify={msg:null,ssf:!0}}),2e3);case 8:case"end":return e.stop()}}),e)})))()},openGroupForm:function(t){t?this.initForm():this.initForm(this.ws),this.canUpdateWS&&(this.isActive=!0)},saveWS:function(){var t=this;void 0===this.formWS.id?this.$axios.$post("/general/workspaces/",this.formWS).then((function(e){t.formWS=O,t.formWS.isDone=!0,t.wsURI="https://bubblask.com?ws=".concat(e.id),t.joinWS(e)})):this.$axios.$put("/general/workspaces/".concat(this.formWS.id,"/"),this.formWS).then((function(e){t.formWS=O,t.formWS.isDone=!0,t.wsURI="https://bubblask.com?ws=".concat(e.id)}))},fetchWS:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wsLoading=!0,e.next=3,t.$axios.$get("/general/workspaces/",{params:{search:t.wsSearch?t.wsSearch:void 0,code:t.wsCode?t.wsCode:void 0,page_size:5}});case 3:t.wsResponse=e.sent,t.wsLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},searchCode:Object(m.debounce)((function(){this.wsSearch=null,this.fetchWS()}),500),searchWS:Object(m.debounce)((function(){this.fetchWS()}),500),onOpenSelect:function(){this.wsActive||this.fetchWS(),this.wsActive=!0},setStrict:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.currentUser){n.next=3;break}return n.next=3,e.$axios.$put("/auth/users/".concat(e.currentUser.username,"/"),{is_strict:t});case 3:e.$store.commit("config/SET_STRICT",t),e.settings.timer.is_strict=t;case 5:case"end":return n.stop()}}),n)})))()},fetchTasks:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.commit("task/SET_TASKS",[]);case 2:if(!t.currentUser){e.next=7;break}return e.next=5,t.$axios.$get("/task/tasks/",{params:{board:t.ws&&t.ws.board?t.ws.board.id:void 0}}).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<n.length)){e.next=7;break}return e.next=4,t.$store.commit("task/ADD_TASK",new S.a(n[i]));case 4:i++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:n=t,r=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.$indexedDB.readAll((function(cursor){["complete","stopped"].includes(cursor.value.status)||n.$store.commit("task/ADD_TASK",new S.a(cursor.value))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.$indexedDB.open(r,(function(){}),(function(){}),"title","uid",[]);case 10:case"end":return e.stop()}}),e)})))()},fetchMembers:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ws){e.next=8;break}return t.loadingMember=!0,e.next=4,t.$axios.$get("/general/workspaces/".concat(t.ws.id,"/members/"));case 4:t.wsMembers=e.sent,t.loadingMember=!1,e.next=9;break;case 8:t.wsMembers=[];case 9:case"end":return e.stop()}}),e)})))()},push_late:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$store.state.task.tasks.filter((function(t){return t.updating})),i=0;case 2:if(!(i<n.length)){e.next=33;break}if(r=null,o=_.cloneDeep(n[i]),t.ws&&(o.ws=t.ws.id),!t.currentUser){e.next=20;break}if(0===o.parent&&(o.parent=null),!o.id){e.next=15;break}if(t.currentUser.id!==o.user){e.next=13;break}return e.next=12,t.$axios.$put("/task/tasks/".concat(o.id,"/"),o);case 12:r=e.sent;case 13:e.next=18;break;case 15:return e.next=17,t.$axios.$post("/task/tasks/",o);case 17:r=e.sent;case 18:e.next=23;break;case 20:return e.next=22,t.$indexedDB.put(o);case 22:r={id:o.uid};case 23:if(!r){e.next=30;break}return o.id=r.id,o.force=!0,null===r.parent&&(r.parent=0),o.user=r.user,e.next=30,t.$store.commit("task/UPDATE_TASK",o);case 30:i++,e.next=2;break;case 33:case"end":return e.stop()}}),e)})))()},joinWS:function(t){var e=this;this.$axios.$post("/general/workspaces/".concat(t.id,"/join/"),{password:this.wsPassword}).then((function(n){n.status&&(e.ws&&e.ws.id===t.id?(e.$store.commit("config/SET_WS",null),e.wsMinimize=!0):(e.$store.commit("config/SET_WS",t),e.wsMinimize=!1),e.wsActive=!1,e.isActive=!1)}))},getScore:function(t){return t&&this.ws&&this.cloneReport?this.cloneReport[t.id]/60:0},connectSocket:function(){if(this.ws){var t=new Pusher("eccf1067acf541fbc5d4",{cluster:"ap1"}).subscribe("ws_".concat(this.ws.id));t.bind("change-user-score",function(data){data&&(this.cloneReport[data.user]=data.score)}.bind(this)),t.bind("change-user-status",function(data){if(data){var t=this.wsMembers.map((function(u){return u.id})).indexOf(data.user);t>=0&&(this.wsMembers[t].profile.extra.status=data.status)}}.bind(this))}},awakeMe:function(){var t=this;if(this.is_online&&null!==this.currentUser){var e=localStorage.getItem("time_off"),n=new Date;if(e){n>new Date(e)&&this.$axios.$put("/auth/users/".concat(this.currentUser.username,"/"),{status:"offline"}).then((function(){t.is_online=!1}))}else{var r=new Date;(new Date).setTime(r.getTime()+3e5)}}}},created:function(){this.settings=Object(m.cloneDeep)(this.$store.state.config.settings),this.strictTemp=!(!this.settings||!this.settings.timer)&&this.settings.timer.is_strict},computed:{displayTasks:function(){return this.$store.state.task.tasks.filter((function(t){return!["stopped","complete"].includes(t.status)}))},totalTime:function(){var t=this,e=0;return this.settings&&this.displayTasks.forEach((function(n){e+=t.settings.timer.tomato*n.interval})),e},ws:function(){return this.$store.state.config.ws},isRunning:function(){return Boolean(this.$store.state.task.running)},canUpdateWS:function(){return void 0===this.formWS.id||this.currentUser&&this.currentUser.id===this.formWS.user.id},openAuth:function(){return this.$store.state.auth.openAuth}},watch:{currentUser:function(){this.settings=Object(m.cloneDeep)(this.$store.state.config.settings)},"formWS.isPrivate":function(){!1===this.formWS.isPrivate&&(this.formWS.password=null)},ws:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ws?(t.wsMinimize=!1,t.cloneReport=Object(m.cloneDeep)(t.ws.report)):t.cloneReport={},t.fetchTasks(),t.fetchMembers(),t.connectSocket();case 4:case"end":return e.stop()}}),e)})))()},is_online:function(){this.is_online&&this.$axios.$put("/auth/users/".concat(this.currentUser.username,"/"),{status:"online"})},strictTemp:function(){this.setStrict(this.strictTemp)}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,a,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=4,t.fetchTasks();case 4:setInterval((function(){n.push_late(),n.awakeMe()}),800),t.connectSocket(),window.onmousemove=Object(m.debounce)((function(){n.is_online=!0;var t=new Date,e=new Date;e.setTime(t.getTime()+3e5),localStorage.setItem("time_off",e.toISOString())}),1e3),window.fhApp="bubblask",window.fhStyle={left:"4.5rem",right:"unset"},(a=document.createElement("script")).type="text/javascript",a.src="https://featurehub.co/analytic.js",document.head.appendChild(a),(b=document.createElement("script")).type="text/javascript",b.src="https://featurehub.co/embed.js",document.head.appendChild(b);case 17:case"end":return e.stop()}}),e)})))()}},A=(n(480),Object(k.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"has-custom":"/"===t.$route.path},style:t.settings.color},[t.isRunning||t.$route.path.includes("/workspace")?t._e():n("header",{staticClass:"header"},[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("n-link",{staticClass:"navbar-item logo",attrs:{to:"/"}},[n("img",{attrs:{src:"/logo.svg",alt:"Bubblask"}}),t._v(" "),n("span",{staticClass:"primary"},[t._v("BUBBLASK")]),t._v(" "),n("span",{staticClass:"second"},[t._v(".com")])]),t._v(" "),n("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false"},on:{click:function(e){t.burgerActive=!t.burgerActive}}},[n("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{attrs:{"aria-hidden":"true"}})])],1),t._v(" "),n("div",{staticClass:"navbar-menu",class:{"is-active":t.burgerActive}},[n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("div",[n("span",{staticClass:"field"},[t._v("Total: ")]),t._v(" "),n("span",{staticClass:"value"},[t._v(t._s(t.displayTasks.length))])])]),t._v(" "),n("div",{staticClass:"navbar-item"},[n("div",[n("span",{staticClass:"field"},[t._v("Time: ")]),t._v(" "),n("span",{staticClass:"value"},[t._v(t._s(t.totalTime)+"m")])])])])])])]),t._v(" "),n("div",{class:{"main-content":!t.isRunning}},[t.isRunning?t._e():n("div",{staticClass:"sidebar"},[n("aside",{staticClass:"menu"},[n("div",{staticClass:"menu-child"},[n("ul",{staticClass:"menu-list"},[n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Leader board"}},[n("n-link",{class:{"is-active":"/leaderboard"===t.$route.path},attrs:{to:"/leaderboard"}},[n("x-icon",{attrs:{name:"poll"}})],1)],1)],1),t._v(" "),n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Board"}},[n("n-link",{class:{"is-active":"/board"===t.$route.path},attrs:{to:"/board"}},[n("x-icon",{attrs:{name:"board"}})],1)],1)],1)])]),t._v(" "),n("div",{staticClass:"menu-child"},[n("ul",{staticClass:"menu-list"},[t.currentUser?n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Setting"}},[n("client-only",[n("b-dropdown",{staticClass:"elm",attrs:{position:"is-top-right","trap-focus":!0}},[n("template",{staticClass:"clickable",slot:"trigger"},[n("x-icon",{attrs:{name:"cogs"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{custom:""}},[n("Options",{model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}})],1)],2)],1)],1)],1):t._e(),t._v(" "),n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Strict Mode"}},[n("label",{staticClass:"elm b-checkbox checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.strictTemp,expression:"strictTemp"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.strictTemp)?t._i(t.strictTemp,null)>-1:t.strictTemp},on:{change:function(e){var n=t.strictTemp,r=e.target,o=!!r.checked;if(Array.isArray(n)){var l=t._i(n,null);r.checked?l<0&&(t.strictTemp=n.concat([null])):l>-1&&(t.strictTemp=n.slice(0,l).concat(n.slice(l+1)))}else t.strictTemp=o}}})])])],1),t._v(" "),Boolean(t.currentUser)?n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Report"}},[n("n-link",{attrs:{to:"/me"}},[n("x-icon",{attrs:{name:"report"}})],1)],1)],1):n("li",[n("b-dropdown",{staticClass:"elm",attrs:{"can-close":["escape"],position:"is-top-right","force-active":t.openAuth},on:{"active-change":function(e){return t.openLogin(e)}}},[n("div",{attrs:{slot:"trigger"},slot:"trigger"},[n("x-icon",{attrs:{name:"account"}})],1),t._v(" "),n("div",{staticClass:"dropdown-item",staticStyle:{"min-width":"335px"}},[n("div",{staticClass:"notification is-warning"},[t._v("Login to manage and track your work!")]),t._v(" "),t.logging?t._e():n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),n("div",{staticClass:"control"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})])])]),t._v(" "),t.logging?t._e():n("div",{staticClass:"field"},[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Firstname")]),t._v(" "),n("b-input",{attrs:{type:"text",placeholder:"John"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Lastname")]),t._v(" "),n("b-input",{attrs:{type:"text",placeholder:"Due"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1)])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Email")]),t._v(" "),n("div",{staticClass:"control has-icons-right"},[n("b-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),n("div",{staticClass:"control has-icons-right"},[n("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"level is-mobile"},[n("div",[n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("div",{staticClass:"button",on:{click:function(e){return t.openLogin(!1)}}},[n("x-icon",{attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"button",on:{click:function(e){t.logging=!t.logging}}},[n("span",[t._v(t._s(t.logging?"Register":"Login"))])])])])]),t._v(" "),n("div",{staticClass:"button is-primary",on:{click:t.handleSubmit}},[n("span",[t._v(t._s(t.logging?"Login":"Register"))])])])]),t._v(" "),t.notify.msg?n("div",{staticClass:"field"},[n("div",{class:"content notification "+(t.notify.ssf?"is-light":"is-danger")},["string"==typeof t.notify.msg?n("p",[t._v(t._s(t.notify.msg))]):n("ul",t._l(t.notify.msg,(function(e){return n("li",[t._v(t._s(e))])})),0)])]):t._e()])])],1),t._v(" "),t.currentUser&&"/me"===t.$route.path?n("li",[n("b-tooltip",{attrs:{position:"is-right",label:"Logout"}},[n("div",{staticClass:"elm",on:{click:function(e){return t.logout()}}},[n("x-icon",{attrs:{name:"logout"}})],1)])],1):t._e()])])])]),t._v(" "),n("main",{staticClass:"main"},[n("nuxt",{staticClass:"main-body"}),t._v(" "),t.isRunning?t._e():n("footer",{staticClass:"footer"},[n("div",{staticClass:"container small"},[n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-text"},[t._v("About")]),t._v(" "),n("n-link",{staticClass:"button is-text",attrs:{to:"/privacy"}},[t._v("Privacy")])],1)]),t._v(" "),t._m(0)])])])],1)]),t._v(" "),n("div",{staticClass:"ws-members",style:{height:t.wsMinimize?void 0:"300px"}},[n("div",{staticClass:"header"},[t.currentUser?n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("div",{staticClass:"buttons has-addons"},[n("button",{staticClass:"button is-small",on:{click:t.onOpenSelect}},[n("x-icon",{attrs:{name:"chevron-down"}})],1),t._v(" "),n("button",{staticClass:"button is-small is-selected",on:{click:function(e){return t.openGroupForm(!1)}}},[n("b",{staticClass:"clickable"},[t._v(t._s(t.ws?t.ws.name:"Create Workspace"))])])])]),t._v(" "),n("div",{staticClass:"media-right"},[n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-small",on:{click:function(e){t.wsMinimize=!t.wsMinimize}}},[n("x-icon",{attrs:{name:t.wsMinimize?"maximize":"minimize"}})],1)])])]):n("div",{staticClass:"button is-small is-fullwidth",on:{click:function(e){return t.openLogin(!0)}}},[t._v("Login to join Workspace")])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[!t.wsMinimize&&t.ws?n("div",{staticClass:"members"},[t.wsMembers.length?n("div",{staticClass:"wrapper"},t._l(t.wsMembers,(function(e){return n("div",{key:e.id,staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("avatar",{staticClass:"is-24x24",class:e.profile.extra.status,attrs:{value:e.profile.media}})],1),t._v(" "),n("div",{staticClass:"media-content"},[n("b",[t._v(t._s(t.convertName(e)))])])])]),t._v(" "),n("div",{staticClass:"level-right"},[n("small",[t._v(t._s(t.getScore(e).toFixed(2))+"m")])])])})),0):t._e(),t._v(" "),t.loadingMember?n("div",{staticClass:"wrapper"},t._l(5,(function(i){return n("div",{key:i,staticClass:"level"},[n("div",{staticClass:"skeleton-user"})])})),0):t._e()]):t._e()])],1),t._v(" "),n("b-modal",{attrs:{active:t.wsActive,scroll:"keep"},on:{"update:active":function(e){t.wsActive=e}}},[n("div",{staticClass:"container small"},[n("div",{staticClass:"group-selector has-background-white"},[n("div",{staticClass:"header"},[n("div",[n("p",{staticClass:"notification is-warning"},[t._v("Focus to work of meeting with others")])]),t._v(" "),n("div",{staticClass:"media"},[n("b-input",{attrs:{expanded:"",placeholder:"Enter keyword..."},on:{input:function(e){return t.searchWS()}},model:{value:t.wsSearch,callback:function(e){t.wsSearch=e},expression:"wsSearch"}})],1)]),t._v(" "),n("div",{staticClass:"list"},t._l(5,(function(i){return t.wsResponse.results[i-1]?n("div",{key:i,staticClass:"media",class:{"is-active":t.ws&&t.ws.id===t.wsResponse.results[i-1].id}},[n("div",{staticClass:"media-content"},[n("div",[t.wsResponse.results[i-1].board?n("x-icon",{staticClass:"is-small",attrs:{name:"board"}}):t._e(),t._v(" "),n("b",[t._v(t._s(t.wsResponse.results[i-1].name))])],1),t._v(" "),n("small",[t._v("By "+t._s(t.convertName(t.wsResponse.results[i-1].user)))])]),t._v(" "),t.ws&&t.ws.id===t.wsResponse.results[i-1].id?n("div",{staticClass:"media-right"},[n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[n("span",[t._v("Left")]),t._v(" "),n("x-icon",{attrs:{name:"logout"}})],1)]):n("div",{staticClass:"media-right"},[t.wsResponse.results[i-1].isPrivate?n("b-dropdown",{attrs:{position:"is-bottom-left","append-to-body":"","aria-role":"menu","trap-focus":""}},[n("div",{staticClass:"button is-small",attrs:{slot:"trigger"},slot:"trigger"},[n("span",[t._v("Join")]),t._v(" "),n("x-icon",{attrs:{name:"shield-lock"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:""}},[n("div",{staticClass:"field has-addons",staticStyle:{"min-width":"280px"}},[n("b-input",{attrs:{expanded:"",placeholder:"Enter Password"},model:{value:t.wsPassword,callback:function(e){t.wsPassword=e},expression:"wsPassword"}}),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"button is-primary",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[t._v("Join\n                                            ")])])],1)])],1):n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[n("span",[t._v("Join")]),t._v(" "),n("x-icon",{attrs:{name:"shield-open"}})],1)],1)]):t._e()})),0),t._v(" "),n("div",{staticClass:"has-background-light"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("div",{staticClass:"button is-static"},[t._v("OR")])]),t._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{placeholder:"Enter Code"},on:{input:t.searchCode},model:{value:t.wsCode,callback:function(e){t.wsCode=e},expression:"wsCode"}})],1)]),t._v(" "),n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("div",{staticClass:"button is-static"},[t._v("OR")])]),t._v(" "),n("div",{staticClass:"media-content"},[n("div",{staticClass:"button is-fullwidth",on:{click:function(e){return t.openGroupForm(!0)}}},[t._v("Create\n                            ")])])])])])])]),t._v(" "),n("b-modal",{attrs:{active:t.isActive,scroll:"keep"},on:{"update:active":function(e){t.isActive=e}}},[n("div",{staticClass:"container small"},[n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("div",{staticClass:"level is-mobile",staticStyle:{width:"100%"}},[n("h4",{staticClass:"level-left"},[n("b",[t._v("Create new workspace")])]),t._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-small",on:{click:function(e){t.isActive=!1}}},[t._v("Cancel")]),t._v(" "),t.ws?n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.ws)}}},[t._v("Left")]):t._e()])])])]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t.formWS.isDone?t._e():n("div",[n("ce",{staticClass:"title",attrs:{elm:"h1",placeholder:"Workspace name"},model:{value:t.formWS.name,callback:function(e){t.$set(t.formWS,"name",e)},expression:"formWS.name"}}),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.formWS.isPrivate,callback:function(e){t.$set(t.formWS,"isPrivate",e)},expression:"formWS.isPrivate"}},[t._v("Is private\n                                    ")])],1),t._v(" "),t.formWS.isPrivate?n("div",{staticClass:"field"},[n("b-input",{attrs:{expanded:"",type:"password","password-reveal":"",placeholder:"Password to access workspace"},model:{value:t.formWS.password,callback:function(e){t.$set(t.formWS,"password",e)},expression:"formWS.password"}})],1):t._e()]),t._v(" "),t.formWS.id?t._e():n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.formWS.hasBoard,callback:function(e){t.$set(t.formWS,"hasBoard",e)},expression:"formWS.hasBoard"}},[t._v("Create a board")])],1),t._v(" "),t.formWS.hasBoard?n("div",{staticClass:"field"},[n("b-input",{attrs:{expanded:"",placeholder:"Board name"},model:{value:t.formWS.board_name,callback:function(e){t.$set(t.formWS,"board_name",e)},expression:"formWS.board_name"}})],1):t._e()])])],1),t._v(" "),t.formWS.isDone&&t.wsURI?n("div",{staticClass:"notification is-warning content"},[n("p",[t._v("Share with your friends")]),t._v(" "),n("b-input",{attrs:{value:t.wsURI}})],1):t._e()]),t._v(" "),t.canUpdateWS?n("footer",{staticClass:"modal-card-foot"},[t.formWS.isDone?t._e():n("button",{staticClass:"button is-primary is-fullwidth",on:{click:t.saveWS}},[t._v("Save\n                    ")])]):t._e()])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-right"},[e("p",[e("strong",[this._v("Made")]),this._v(" with ❤️")])])}],!1,null,null,null));e.a=A.exports},421:function(t,e,n){"use strict";n.r(e);n(30),n(21),n(477),n(9);var r=n(2),o={name:"Board",props:{value:{type:Object}},data:function(){return{board:this.value}}},l=n(3),c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[e("div",{staticClass:"media-content"},[e("b",[e("n-link",{attrs:{to:"/board/"+this.board.slug+"/"}},[this._v(this._s(this.board.title))])],1)]),this._v(" "),e("div",{staticClass:"media-right"})])])])}),[],!1,null,null,null).exports,d=n(31),h={name:"BoardList",components:{Board:c},data:function(){return{response:{results:[],count:0},loading:!1,page:1}},methods:{fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.response.results=[],e.next=4,t.$axios.$get("/task/boards/",{params:{user:t.currentUser.id,page_size:4,only_user:!0,page:t.page}});case 4:t.response=e.sent,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},clickFetch:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.page=t?e.page+1:e.page-1,n.next=3,e.fetch();case 3:case"end":return n.stop()}}),n)})))()}},computed:{total:function(){return this.response.count/2}},created:function(){this.fetch()}},v=Object(l.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subsection"},[n("div",{staticClass:"level is-mobile"},[t._m(0),t._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[t.page>1?n("div",{staticClass:"button is-small previous",on:{click:function(e){return t.clickFetch(!1)}}},[n("x-icon",{attrs:{name:"chevron-left"}})],1):t._e(),t._v(" "),t.page<t.total?n("div",{staticClass:"button is-small next",on:{click:function(e){return t.clickFetch(!0)}}},[n("x-icon",{attrs:{name:"chevron-right"}})],1):t._e()])])]),t._v(" "),t.response.results.length?n("div",{staticClass:"columns is-multiline"},t._l(t.response.results,(function(t){return n("div",{key:t.id,staticClass:"column is-3"},[n("board",{attrs:{value:t}})],1)})),0):t._e(),t._v(" "),t.loading?n("div",{staticClass:"columns is-multiline"},t._l(4,(function(i){return n("div",{key:i,staticClass:"column is-3"},[t._m(1,!0)])})),0):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-left"},[e("h4",{staticClass:"widget_title"},[this._v("Your Board")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"skeleton-line"})])])}],!1,null,null,null).exports,m={name:"Template",components:{BInput:n(19).a,BoardList:v,Avatar:d.a,Board:c},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.query,e.next=3,n.$get("/general/hash-tags/?for_model=board");case 3:return o=e.sent,r.page_size=9,r.page=r.page?Number.parseInt(r.page):1,e.t0=o.results,e.t1=r,e.next=10,n.$get("/task/boards/",{params:r});case 10:return e.t2=e.sent,e.abrupt("return",{taxonomies:e.t0,query:e.t1,response:e.t2});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{response:{results:[],count:0},tag:null,selectedTax:[]}},methods:{fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response.results=[],e.next=3,t.$axios.$get("/task/boards/",{params:t.query});case 3:t.response=e.sent;case 4:case"end":return e.stop()}}),e)})))()},create:function(){var t=this;this.currentUser&&this.$axios.$post("/task/boards/",{title:"Untitled"}).then((function(e){t.$router.replace({path:"/board/".concat(e.slug,"/")})}))},clickTag:function(t,e){this.selectedTax.push(e.id),t.preventDefault(),this.tag&&e.id!==this.tag.id||null===this.tag?this.tag=e:this.tag=null,this.tag?this.query.tag=this.tag.id:this.query.tag=void 0,this.query.page=1,this.fetch()},paging:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=8;break}if(!(e.response.count/e.query.page_size>e.query.page)){n.next=5;break}e.query.page++,n.next=6;break;case 5:return n.abrupt("return");case 6:n.next=13;break;case 8:if(!(e.query.page>1)){n.next=12;break}e.query.page--,n.next=13;break;case 12:return n.abrupt("return");case 13:return n.next=15,e.fetch();case 15:case"end":return n.stop()}}),n)})))()}}},f=(n(479),Object(l.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"level is-mobile"},[t._m(0),t._v(" "),n("div",{staticClass:"level-right"},[t.currentUser?n("div",{staticClass:"button is-light",on:{click:t.create}},[n("x-icon",{attrs:{name:"plus"}}),t._v(" "),n("span",[t._v("Create")])],1):t._e()])]),t._v(" "),n("div",{staticClass:"subtitle"},[t._v("Get or sharing template to learn something by expert!")]),t._v(" "),1===t.query.page?n("div",{},[t.currentUser?n("board-list"):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"subsection"},[n("h2",{staticClass:"title has-text-centered"},[t._v("Template")]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("b-input",{attrs:{type:"search",placeholder:"Learn something"}})],1)]),t._v(" "),t.taxonomies.length?n("div",{staticClass:"buttons"},t._l(t.taxonomies,(function(e){return n("a",{key:e.id,staticClass:"button is-small",class:{"is-primary":t.tag&&t.tag.id===e.id},attrs:{href:"/board/?tag="+e.id},on:{click:function(n){return t.clickTag(n,e)}}},[t._v(t._s(e.title))])})),0):t._e(),t._v(" "),n("div",{staticClass:"level is-mobile"},[t._m(1),t._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-small",class:{"is-static":1===t.query.page},on:{click:function(e){return t.paging(!1)}}},[t._v("\n                                Previous\n                            ")]),t._v(" "),n("div",{staticClass:"button is-small",class:{"is-static":t.response.count/t.query.page_size<=t.query.page},on:{click:function(e){return t.paging(!0)}}},[t._v("Next\n                            ")])])])]),t._v(" "),t.response.results.length?n("div",{staticClass:"columns is-multiline"},t._l(t.response.results,(function(e){return n("div",{key:e.id,staticClass:"column is-4"},[n("div",{staticClass:"media box clickable template-board",on:{click:function(n){return t.navigate("/board/"+e.slug)}}},[n("div",{staticClass:"media-left"},[n("avatar",{staticClass:"is-48x48",attrs:{value:e.media}})],1),t._v(" "),n("div",{staticClass:"media-content"},[n("h4",{staticClass:"widget-title"},[n("n-link",{attrs:{to:"/board/"+e.slug}},[t._v(t._s(e.title))])],1),t._v(" "),n("p",[t._v(t._s(e.description))]),t._v(" "),n("small",[t._v("3 Tasks")])])])])})),0):n("div",{staticClass:"columns is-multiline"},t._l(t.query.page_size,(function(i){return n("div",{key:i,staticClass:"column is-4"},[t._m(2,!0)])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-left"},[e("h1",{staticClass:"title is-spaced"},[this._v("Board")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-left"},[e("h4",{staticClass:"widget_title"},[this._v("List")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("div",{staticClass:"skeleton-board"})])}],!1,null,null,null));e.default=f.exports},422:function(t,e,n){"use strict";n(21);var r=n(98),o=n(55),l={name:"BModal",directives:{trapFocus:r.a},props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:function(){return["escape","x","outside","button"]}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return"clip"},validator:function(t){return["clip","keep"].indexOf(t)>=0}},fullScreen:Boolean,trapFocus:{type:Boolean,default:!1},customClass:String,ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width,animating:!0}},computed:{cancelOptions:function(){return"boolean"==typeof this.canCancel?!this.canCancel&&[]:this.canCancel},showX:function(){return this.cancelOptions.indexOf("x")>=0},customStyle:function(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active:function(t){this.isActive=t},isActive:function(t){var e=this;this.handleScroll(),this.$nextTick((function(){t&&e.$el&&e.$el.focus&&e.$el.focus()}))}},methods:{handleScroll:function(){"undefined"!=typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel:function(t){this.cancelOptions.indexOf(t)<0||(this.onCancel.apply(null,arguments),this.close())},close:function(){var t=this;this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(o.b)(t.$el)}),150))},keyPress:function(t){this.isActive&&27===t.keyCode&&this.cancel("escape")},afterEnter:function(){this.animating=!1},beforeLeave:function(){this.animating=!0}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy:function(){if("undefined"!=typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");var t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}}},c=n(3),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation},on:{"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":t.fullScreen},t.customClass],attrs:{tabindex:"-1",role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){return t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"animation-content",class:{"modal-content":!t.hasModalCard},style:t.customStyle},[t.component?n(t.component,t._g(t._b({tag:"component",on:{close:t.close}},"component",t.props,!1),t.events)):t.content?n("div",{domProps:{innerHTML:t._s(t.content)}}):t._t("default"),t._v(" "),t.showX?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.animating,expression:"!animating"}],staticClass:"modal-close is-large",attrs:{type:"button"},on:{click:function(e){return t.cancel("x")}}}):t._e()],2)]):t._e()])}),[],!1,null,null,null);e.a=component.exports},423:function(t,e,n){"use strict";n(14),n(41),n(18),n(40),n(39),n(26),n(24),n(25),n(7),n(21);var r=n(98),o=n(20);function l(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))){var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d=["escape","outside"],h={name:"BDropdown",directives:{trapFocus:r.a},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator:function(t){return["is-top-right","is-top-left","is-bottom-left"].indexOf(t)>-1}},mobileModal:{type:Boolean,default:function(){return o.a.defaultDropdownMobileModal}},ariaRole:{type:String,default:""},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:o.a.defaultTrapFocus},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean,forceActive:{type:Boolean,default:!1}},data:function(){return{selected:this.value,isActive:this.forceActive,isHoverable:this.hoverable,_isDropdown:!0}},computed:{rootClasses:function(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded}]},isMobileModal:function(){return this.mobileModal&&!this.inline&&!this.hoverable},cancelOptions:function(){return"boolean"==typeof this.canClose?this.canClose?d:[]:this.canClose},ariaRoleMenu:function(){return"menu"===this.ariaRole||"list"===this.ariaRole?this.ariaRole:null}},watch:{value:function(t){this.selected=t},isActive:function(t){this.$emit("active-change",t)},forceActive:function(){this.isActive=this.forceActive}},methods:{selectItem:function(t){if(this.multiple){if(this.selected){var e=this.selected.indexOf(t);-1===e?this.selected.push(t):this.selected.splice(e,1)}else this.selected=[t];this.$emit("change",this.selected)}else this.selected!==t&&(this.selected=t,this.$emit("change",this.selected));this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList:function(t){if(t===this.$refs.dropdownMenu)return!0;if(t===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){var e,n=l(this.$refs.dropdownMenu.querySelectorAll("*"));try{for(n.s();!(e=n.n()).done;){if(t===e.value)return!0}}catch(t){n.e(t)}finally{n.f()}}if(void 0!==this.$refs.trigger){var r,o=l(this.$refs.trigger.querySelectorAll("*"));try{for(o.s();!(r=o.n()).done;){if(t===r.value)return!0}}catch(t){o.e(t)}finally{o.f()}}return!1},clickedOutside:function(t){this.cancelOptions.indexOf("outside")<0||this.inline||this.isInWhiteList(t.target)||(this.isActive=!1)},keyPress:function(t){if(this.isActive&&27===t.keyCode){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},toggle:function(){var t=this;this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick((function(){var e=!t.isActive;t.isActive=e,setTimeout((function(){return t.isActive=e}))})))},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))}},v=n(3),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown",class:t.rootClasses},[t.inline?t._e():n("div",{ref:"trigger",staticClass:"dropdown-trigger",attrs:{role:"button","aria-haspopup":"true"},on:{click:t.toggle,mouseenter:t.checkHoverable}},[t._t("trigger")],2),t._v(" "),n("transition",{attrs:{name:t.animation}},[t.isMobileModal?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!t.isActive}}):t._e()]),t._v(" "),n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(t.isActive||t.isHoverable)||t.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{"aria-hidden":!t.isActive}},[n("div",{staticClass:"dropdown-content",attrs:{role:t.ariaRoleMenu}},[t._t("default")],2)])])],1)}),[],!1,null,null,null);e.a=component.exports},424:function(t,e,n){"use strict";n(24),n(25),n(7),n(21);var r=n(57),o=n(19),l=n(34),c={name:"BNumberInput",components:{"b-icon":r.a,"b-input":o.a},mixins:[l.a],inheritAttrs:!1,props:{value:Number,min:[Number,String],max:[Number,String],step:[Number,String],disabled:Boolean,type:{type:String,default:"is-text"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsRounded:{type:Boolean,default:!1},controlsPosition:String},data:function(){return{newValue:isNaN(this.value)?parseFloat(this.min)||0:this.value,newStep:this.step||1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){var e=t;""===t&&(e=parseFloat(this.min)||null),this.newValue=e,this.$emit("input",e),!this.isValid&&this.$refs.input.checkHtml5Validity()}},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var t=this.stepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value:function(t){this.newValue=t}},methods:{decrement:function(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){var t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment:function(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){var t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick:function(t,e){0===t.detail&&"click"!==t.type&&(e?this.increment():this.decrement())},onStartLongPress:function(t,e){var n=this;0!==t.button&&"touchstart"!==t.type||(this._$intervalTime=new Date,clearInterval(this._$intervalRef),this._$intervalRef=setInterval((function(){e?n.increment():n.decrement()}),250))},onStopLongPress:function(t){this._$intervalRef&&(new Date-this._$intervalTime<250&&(t?this.increment():this.decrement()),clearInterval(this._$intervalRef),this._$intervalRef=null)}}},d=n(3),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){return t.onStopLongPress(!1)},mouseleave:function(e){return t.onStopLongPress(!1)},touchend:function(e){return t.onStopLongPress(!1)},touchcancel:function(e){return t.onStopLongPress(!1)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMin},on:{mousedown:function(e){return t.onStartLongPress(e,!1)},touchstart:function(e){return e.preventDefault(),t.onStartLongPress(e,!1)},click:function(e){return t.onControlClick(e,!1)}}},[n("b-icon",{attrs:{name:"minus"}})],1)]):t._e(),t._v(" "),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.newStep,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){return t.$emit("focus",e)},blur:function(e){return t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._v(" "),t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){return t.onStopLongPress(!0)},mouseleave:function(e){return t.onStopLongPress(!0)},touchend:function(e){return t.onStopLongPress(!0)},touchcancel:function(e){return t.onStopLongPress(!0)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMax},on:{mousedown:function(e){return t.onStartLongPress(e,!0)},touchstart:function(e){return e.preventDefault(),t.onStartLongPress(e,!0)},click:function(e){return t.onControlClick(e,!0)}}},[n("b-icon",{attrs:{name:"plus"}})],1)]):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},425:function(t,e,n){"use strict";n(21);var r={name:"BRate",props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array},data:function(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle:function(){return"width:".concat(this.valueDecimal,"%")},showMe:function(){var t="";return this.showScore?0===(t=this.disabled?this.value:this.newValue)&&(t=""):this.showText&&(t=this.texts[Math.ceil(this.newValue)-1]),t},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)}},watch:{value:function(t){this.newValue=t}},methods:{resetNewValue:function(){this.disabled||(this.hoverValue=0)},previewRate:function(t,e){this.disabled||(this.hoverValue=t,e.stopPropagation())},confirmValue:function(t){this.disabled||(this.newValue=t,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf:function(t){return this.disabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value},rateClass:function(t){var output="";return t<=(0!==this.hoverValue?this.hoverValue:this.newValue)?output="set-on":this.disabled&&Math.ceil(this.value)===t&&(output="set-half"),output}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":t.disabled,"is-spaced":t.spaced,"is-rtl":t.rtl}},[t._l(t.max,(function(e,r){return n("div",{key:r,staticClass:"rate-item",class:t.rateClass(e),on:{mousemove:function(n){return t.previewRate(e,n)},mouseleave:t.resetNewValue,click:function(n){return n.preventDefault(),t.confirmValue(e)}}},[n("x-icon",{attrs:{name:"square",size:t.size}}),t._v(" "),t.checkHalf(e)?n("x-icon",{staticClass:"is-half",style:t.halfStyle,attrs:{name:"square"}}):t._e()],1)})),t._v(" "),t.showText||t.showScore||t.customText?n("div",{staticClass:"rate-text",class:t.size},[n("span",[t._v(t._s(t.showMe))]),t._v(" "),t.customText&&!t.showText?n("span",[t._v(t._s(t.customText))]):t._e()]):t._e()],2)}),[],!1,null,null,null);e.a=component.exports},426:function(t,e,n){"use strict";n(21);var r={name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array,Date],nativeValue:[String,Number,Boolean,Function,Object,Array,Date],disabled:Boolean,type:String,name:String,required:Boolean,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!1},rounded:{type:Boolean,default:!0},outlined:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},newClass:function(){return[this.size,{"is-disabled":this.disabled},{"is-rounded":this.rounded},{"is-outlined":this.outlined}]}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"switch",class:t.newClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())},mousedown:function(e){t.isMouseDown=!0},mouseup:function(e){t.isMouseDown=!1},mouseout:function(e){t.isMouseDown=!1},blur:function(e){t.isMouseDown=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,name:t.name,required:t.required,"true-value":t.trueValue,"false-value":t.falseValue},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,o=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var l=t.nativeValue,c=t._i(n,l);r.checked?c<0&&(t.computedValue=n.concat([l])):c>-1&&(t.computedValue=n.slice(0,c).concat(n.slice(c+1)))}else t.computedValue=o}}}),t._v(" "),n("span",{staticClass:"check",class:[{"is-elastic":t.isMouseDown&&!t.disabled},t.type]}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])}),[],!1,null,null,null);e.a=component.exports},427:function(t,e,n){"use strict";n(46),n(18),n(14),n(7),n(36),n(9);var r=n(2),o=n(6),l=n(17);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=n(16),v={name:"Task",props:{value:{type:Object,default:function(){return{}}},readonly:{type:Boolean,default:!1},tree:{type:Boolean,default:!1}},data:function(){var t=this.value;return null===t.settings&&(t.settings={}),t.children&&t.settings.order&&(t.children.forEach((function(e){e.order=e.id?t.settings.order.indexOf(e.id):0})),t.children.sort((function(a,b){return a.order-b.order}))),{editing:!1,task:t,updateTree:!1,children:t.children}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:this.readonly,ghostClass:"ghost"}}},watch:{value:{deep:!0,handler:function(){this.task=new l.a(d({},this.value,{settings:this.value.settings?this.value.settings:{}}))}},"value.children":{deep:!0,handler:function(t){var e=this,n=h.cloneDeep(t);n.forEach((function(t){t.order=t.id&&e.task.settings.order?e.task.settings.order.indexOf(t.id):0})),n.sort((function(a,b){return a.order-b.order})),this.children=n}},task:{deep:!0,handler:function(){this.$emit("input",d({},this.task,{children:this.children}))}},editing:function(){this.$emit("editing",this.editing)}},methods:{dblClick:function(){0===this.task.id?this.$emit("board-update"):this.editing=!0,this.tree&&(this.updateTree=!0)},close:function(){this.tree?this.updateTree=!1:this.editing=!1},on_input:h.debounce((function(){this.task.id&&this.sendUpdate()}),500),task_run:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.playSource("audio_press"),0!==t.children.length){e.next=6;break}return e.next=4,t.$store.commit("task/SET_RUNNING",t.task);case 4:e.next=7;break;case 6:t.editing=!0;case 7:case"end":return e.stop()}}),e)})))()},task_done:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.children.length){e.next=6;break}return t.task.changeStatus("complete"),e.next=4,t.$store.commit("task/UPDATE_TASK",t.task);case 4:e.next=7;break;case 6:t.editing=!0;case 7:case"end":return e.stop()}}),e)})))()},task_add:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$store.state.config.settings.timer,r=new l.a({tomato:n.tomato,updating:!0,parent:0!==t.task.id?t.task.id:void 0,board:t.task.board}),t.$emit("add",r);case 3:case"end":return e.stop()}}),e)})))()},handle_add:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$emit("add",t);case 1:case"end":return n.stop()}}),n)})))()},handle_delete:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$delete("/task/tasks/".concat(t.task.id,"/"));case 2:t.$store.commit("task/REMOVE_TASK",t.task),t.editing=!1,t.$emit("deleted",t.task);case 5:case"end":return e.stop()}}),e)})))()},re_order:function(){this.task.settings.order=this.children.map((function(t){return t.id})),this.sendUpdate()},setPriority:function(t){this.task.settings.priority=t,this.sendUpdate()},sendUpdate:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task.updating=!0,e.next=3,t.$store.commit("task/UPDATE_TASK",h.cloneDeep(t.task));case 3:case"end":return e.stop()}}),e)})))()}}},m=n(3),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task",class:{"is-active":t.updateTree}},[n("div",{attrs:{id:"task-"+t.task.id}},[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"notification media",class:{"is-warning":"running"===t.task.status}},[n("div",{staticClass:"media-left"},[t.tree?n("div",{staticClass:"button",class:{"is-static":!t.children||0===t.children.length},on:{click:function(e){t.editing=!t.editing,t.updateTree=!1}}},[n("x-icon",{attrs:{name:"tree"}})],1):n("div",{staticClass:"button is-small",class:{"is-static":["stopped","complete"].includes(t.task.status)},on:{click:function(e){return t.task_done()}}},[n("x-icon",{attrs:{name:"check"}})],1)]),t._v(" "),n("div",{staticClass:"media-content",on:{click:t.dblClick}},[n("ce",{staticClass:"title",attrs:{placeholder:"Untitled",elm:"h4",editable:"running"!==t.task.status&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}}),t._v(" "),t.tree?n("small",{staticClass:"field"},[t._v(t._s(t.task.interval*t.task.tomato)+"m")]):n("b-rate",{staticClass:"is-small",attrs:{disabled:!t.editing||t.readonly},on:{input:t.setPriority},model:{value:t.task.settings.priority,callback:function(e){t.$set(t.task.settings,"priority",e)},expression:"task.settings.priority"}})],1),t._v(" "),["stopped","complete"].includes(t.task.status)||t.tree?t.tree?n("div",{staticClass:"media-right"},[n("b-rate",{attrs:{disabled:t.readonly,value:t.task.settings.priority},on:{input:t.setPriority}})],1):t._e():n("div",{staticClass:"media-right clickable"},[t.readonly?n("div",{staticClass:"button is-small",on:{click:t.task_add}},[n("x-icon",{attrs:{name:"plus"}})],1):n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-hidden-mobile is-text"},[t._v("\n                            "+t._s(t.task.times.length)+" / "+t._s(t.task.interval)+"\n                        ")]),t._v(" "),"running"!==t.task.status?n("div",{staticClass:"button is-text is-hidden-mobile"},[t._v("\n                            "+t._s(t.fancyTimeFormat(t.task.totalTimeLeft()))+"\n                        ")]):t._e(),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){return t.task_run()}}},[n("x-icon",{staticClass:"is-medium",attrs:{name:"running"===t.task.status?"pause":"play"}})],1)])])])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.editing?n("div",{staticClass:"card"},[t.task.parent&&!t.tree?n("div",{staticClass:"card-header"},[n("ce",{staticClass:"card-header-title title",attrs:{placeholder:"Untitled",elm:"h4",editable:"running"!==t.task.status&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1):t._e(),t._v(" "),t.task.parent&&!t.tree?n("div",{staticClass:"card-content"},[n("b-rate",{staticClass:"is-small",attrs:{"custom-text":"Priority",disabled:!t.editing},on:{input:t.setPriority},model:{value:t.task.settings.priority,callback:function(e){t.$set(t.task.settings,"priority",e)},expression:"task.settings.priority"}})],1):t._e(),t._v(" "),n("div",{staticClass:"card-content"},[!t.tree||t.updateTree?n("ce",{staticClass:"note",attrs:{elm:"div",placeholder:"Note","allow-paste-html":"",editable:!t.task.isRunning()&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}}):t._e(),t._v(" "),n("draggable",t._b({staticClass:"tasks",attrs:{list:t.children},on:{change:t.re_order}},"draggable",t.dragOptions,!1),t._l(t.children,(function(e){return n("task",{key:e.id,attrs:{value:e,readonly:t.readonly,tree:t.tree},on:{add:t.handle_add,deleted:function(e){return t.$emit("deleted",e)}}})})),1),t._v(" "),!t.task.id||t.tree&&!t.updateTree||t.readonly?t._e():n("div",{staticClass:"field"},[n("div",{staticClass:"button is-text is-small is-fullwidth",on:{click:t.task_add}},[n("x-icon",{attrs:{name:"plus"}}),t._v(" "),n("span",[t._v("Add child")])],1)]),t._v(" "),!t.tree||t.updateTree?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Estimate")]),t._v(" "),n("b-number-input",{attrs:{disabled:t.task.isRunning()||t.readonly,min:1,max:10,controlsPosition:"compact",expanded:"",size:"is-small"},on:{input:function(e){return t.on_input()}},model:{value:t.task.interval,callback:function(e){t.$set(t.task,"interval",e)},expression:"task.interval"}})],1):t._e()],1),t._v(" "),t.tree&&!t.updateTree||t.readonly?t._e():n("div",{staticClass:"card-footer"},[n("div",{staticClass:"card-footer-item",on:{click:t.handle_delete}},[n("x-icon",{attrs:{name:"trash"}})],1)]),t._v(" "),!t.tree||t.updateTree?n("div",{staticClass:"close",on:{click:function(e){return t.close()}}},[n("x-icon",{attrs:{name:"close"}})],1):t._e()]):t._e()])],1)])}),[],!1,null,null,null);e.a=component.exports},428:function(t,e,n){"use strict";n(9);var r=n(2),o=n(17),l={name:"Task",props:{value:{type:Object,default:function(){return{}}}},data:function(){return{task:this.value}},computed:{style:function(){return this.task.temp_setting?{top:this.task.temp_setting.top+"px",left:this.task.temp_setting.left+"px"}:{}}},watch:{value:function(){this.task=this.value},task:{deep:!0,handler:function(){this.$emit("input",this.task)}}},methods:{handle:function(data){this.$emit("down",data)},task_add:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$store.state.config.settings.timer,r=new o.a({tomato:n.tomato,updating:!0,parent:0!==t.task.id?t.task.id:void 0,board:t.task.board}),t.$emit("add",r);case 3:case"end":return e.stop()}}),e)})))()},handle_add:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$emit("add",t);case 1:case"end":return n.stop()}}),n)})))()}}},c=n(3),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task",style:t.style},[n("div",{attrs:{id:"task-"+t.task.id},on:{mousedown:function(e){return t.handle({e:e,task:t.task})}}},[n("div",{staticClass:"notification media"},[n("div",{staticClass:"media-content"},[n("h4",{staticClass:"title"},[t._v(t._s(t.task.title))]),t._v(" "),n("small",{staticClass:"field"},[t._v(t._s(t.task.interval*t.task.tomato)+"m")])]),t._v(" "),["stopped","complete"].includes(t.task.status)?t._e():n("div",{staticClass:"media-right clickable"},[n("div",{staticClass:"button is-small",on:{click:t.task_add}},[n("x-icon",{attrs:{name:"plus"}})],1)])])]),t._v(" "),t.task.children&&t.task.children.length?n("div",{staticClass:"tasks"},t._l(t.task.children,(function(e){return n("task-graph",{key:e.id,attrs:{value:e},on:{down:t.handle,add:t.handle_add,deleted:function(e){return t.$emit("deleted",e)}}})})),1):t._e()])}),[],!1,null,null,null);e.a=component.exports},429:function(t,e,n){"use strict";var r=n(505),o={name:"Chart",props:{width:{type:String,default:"100%"},height:{type:String,default:"250px"},data:{default:function(){return[]},type:Array}},computed:{style:function(){return{width:this.width,height:this.height}}},methods:{init:function(){var t=this.$refs.myChart.getContext("2d");r.defaults.global.defaultColor="#333333",r.defaults.global.defaultFontColor="#333333",r.defaults.global.defaultFontSize=14,new r(t,{type:"line",data:{labels:["0H","1H","2H","3H","4H","5H","6H","7H","8H","9H","10H","11H","12H","13H","14H","15H","16H","17H","18H","19H","20H","21H","22H","23H"],datasets:[{label:"",data:this.data,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1}})}},mounted:function(){this.init()},watch:{data:function(){this.init()}}},l=n(3),component=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{style:this.style},[e("canvas",{ref:"myChart"})])}),[],!1,null,"67521fac",null);e.a=component.exports},430:function(t,e,n){"use strict";n(21);var r=n(20),o={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:String,label:String,position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom","is-left","is-right"].indexOf(t)>-1}},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},delay:Number},computed:{newType:function(){return this.type||r.a.defaultTooltipType},newAnimated:function(){return this.animated||r.a.defaultTooltipAnimated},newDelay:function(){return this.delay||r.a.defaultTooltipDelay}}},l=n(3),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:[t.newType,t.position,t.size,{"b-tooltip":t.active,"is-square":t.square,"is-animated":t.newAnimated,"is-always":t.always,"is-multiline":t.multilined,"is-dashed":t.dashed}],style:{"transition-delay":t.newDelay+"ms"},attrs:{"data-label":t.label}},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},431:function(t,e,n){"use strict";var r={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}},o=(n(470),n(3)),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},432:function(t,e,n){"use strict";n(30),n(21);var r={name:"ContentEditable",render:function(t){var e=this.data;return t(this.elm,{on:{input:this.handleInput,paste:this.handlePaste},attrs:{contentEditable:this.editable},ref:"xxx",domProps:{innerHTML:this.data}},e)},props:{elm:{type:String,default:"div"},value:{type:String,default:""},editable:{type:Boolean,default:!0},allowPasteHtml:{default:!1,type:Boolean},rows:{default:null,type:Number}},data:function(){return{data:this.value,typing:!1}},methods:{handleInput:function(t){this.typing=!0,this.allowPasteHtml?this.$emit("input",t.target.innerHTML):this.$emit("input",t.target.innerText)},handlePaste:function(t){if(!this.allowPasteHtml){var data=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain");data=data.replace(/<(?!(\/\s*)?(b|i|em|s|strong|u)[>,\s])([^>])*>/g,""),document.execCommand("insertHTML",!1,data),t.preventDefault()}}},watch:{value:function(){this.typing&&null!==this.value||(this.$refs.xxx.innerHTML=this.value)}}},o=n(3),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},469:function(t,e,n){"use strict";var r=n(83);n.n(r).a},470:function(t,e,n){"use strict";var r=n(84);n.n(r).a},472:function(t,e,n){"use strict";var r=n(85);n.n(r).a},473:function(t,e,n){"use strict";var r=n(86);n.n(r).a},476:function(t,e,n){"use strict";var r=n(87);n.n(r).a},479:function(t,e,n){"use strict";var r=n(90);n.n(r).a},480:function(t,e,n){"use strict";var r=n(91);n.n(r).a},508:function(t,e,n){"use strict";var r=n(92);n.n(r).a},509:function(t,e,n){"use strict";var r=n(93);n.n(r).a},511:function(t,e,n){"use strict";var r=n(94);n.n(r).a},512:function(t,e,n){"use strict";var r=n(95);n.n(r).a},514:function(t,e,n){"use strict";var r=n(96);n.n(r).a},515:function(t,e,n){"use strict";var r=n(97);n.n(r).a},517:function(t,e,n){"use strict";n.r(e);n(46),n(18),n(14),n(36);var r=n(435),o=n(6),l=(n(7),n(9),n(2)),c=(n(434),n(21),n(513)),d=n(8),h={directives:{},props:{endDate:{required:!0},max:{type:Number},rangeColor:{type:Array,default:function(){return d.d}},values:{required:!0,type:Array},locale:{type:Object},tooltip:{type:Boolean,default:!0},tooltipUnit:{type:String,default:d.e},vertical:{type:Boolean,default:!1},noDataText:{type:String,default:null}},data:function(){return{now:new Date,DAYS_IN_WEEK:d.b,DEFAULT_LOCALE:d.c,DEFAULT_RANGE_COLOR:d.d,DEFAULT_TOOLTIP_UNIT:d.e}},computed:{position:function(){return this.vertical?"vertical":"horizontal"},heatMap:function(){return new c.a(this.endDate,this.values,this.max)},width:function(){return{horizontal:this.LEFT_SECTION_WIDTH+this.SQUARE_SIZE*this.heatMap.weekCount+this.SQUARE_BORDER_SIZE,vertical:this.LEFT_SECTION_WIDTH+this.SQUARE_SIZE*d.b+this.RIGHT_SECTION_WIDTH}},height:function(){return{horizontal:this.TOP_SECTION_HEIGTH+this.SQUARE_SIZE*d.b+this.SQUARE_BORDER_SIZE+this.BOTTOM_SECTION_HEIGTH,vertical:this.TOP_SECTION_HEIGTH+this.SQUARE_SIZE*this.heatMap.weekCount+this.SQUARE_BORDER_SIZE}},viewBox:function(){return"0 0 ".concat(this.width[this.position]," ").concat(this.height[this.position])},daysLabelWrapperTransform:function(){return{horizontal:"translate(0, ".concat(this.TOP_SECTION_HEIGTH,")"),vertical:"translate(".concat(this.LEFT_SECTION_WIDTH,", 0)")}},monthsLabelWrapperTransform:function(){return{horizontal:"translate(".concat(this.LEFT_SECTION_WIDTH,", 0)"),vertical:"translate(0, ".concat(this.TOP_SECTION_HEIGTH,")")}},legendWrapperTransform:function(){return{horizontal:"translate(".concat(this.width[this.position]-this.SQUARE_SIZE*this.rangeColor.length-30,", ").concat(this.height[this.position]-this.BOTTOM_SECTION_HEIGTH,")"),vertical:"translate(".concat(this.LEFT_SECTION_WIDTH+this.SQUARE_SIZE*d.b,", ").concat(this.TOP_SECTION_HEIGTH,")")}},yearWrapperTransform:function(){return"translate(".concat(this.LEFT_SECTION_WIDTH,", ").concat(this.TOP_SECTION_HEIGTH,")")},SQUARE_BORDER_SIZE:function(){return d.f/5},SQUARE_SIZE:function(){return d.f+this.SQUARE_BORDER_SIZE},TOP_SECTION_HEIGTH:function(){return d.f+d.f/2},RIGHT_SECTION_WIDTH:function(){return 3*this.SQUARE_SIZE},BOTTOM_SECTION_HEIGTH:function(){return d.f+d.f/2},LEFT_SECTION_WIDTH:function(){return Math.ceil(2.5*d.f)},lo:function(){return this.locale?{months:this.locale.months||d.c.months,days:this.locale.days||d.c.days,on:this.locale.on||d.c.on,less:this.locale.less||d.c.less,more:this.locale.more||d.c.more}:d.c}},methods:{getWeekPosition:function(t){return this.vertical?"translate(0, ".concat(this.SQUARE_SIZE*this.heatMap.weekCount-(t+1)*this.SQUARE_SIZE,")"):"translate(".concat(t*this.SQUARE_SIZE,", 0)")},getDayPosition:function(t){return this.vertical?"translate(".concat(t*this.SQUARE_SIZE,", 0)"):"translate(0, ".concat(t*this.SQUARE_SIZE,")")},getMonthLabelPosition:function(t){var e={x:0,y:0};return e.x=this.vertical?3:this.SQUARE_SIZE*t.index,e.y=this.vertical?this.SQUARE_SIZE*this.heatMap.weekCount-this.SQUARE_SIZE*t.index-this.SQUARE_SIZE/4:this.SQUARE_SIZE-this.SQUARE_BORDER_SIZE,e}}},v=(n(514),n(515),n(3)),m=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"vch__wrapper",attrs:{viewBox:t.viewBox}},[n("g",{staticClass:"vch__months__labels__wrapper",attrs:{transform:t.monthsLabelWrapperTransform[t.position]}},t._l(t.heatMap.firstFullWeekOfMonths,(function(e,r){return n("text",{staticClass:"vch__month__label",attrs:{x:t.getMonthLabelPosition(e).x,y:t.getMonthLabelPosition(e).y}},[t._v(t._s(t.lo.months[e.value])+"\n        ")])})),0),t._v(" "),n("g",{staticClass:"vch__days__labels__wrapper",attrs:{transform:t.daysLabelWrapperTransform[t.position]}},[n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?1*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:20}},[t._v(t._s(t.lo.days[1])+"\n        ")]),t._v(" "),n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?3*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:44}},[t._v(t._s(t.lo.days[3])+"\n        ")]),t._v(" "),n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?5*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:69}},[t._v(t._s(t.lo.days[5])+"\n        ")])]),t._v(" "),n("g",{staticClass:"vch__legend__wrapper",attrs:{transform:t.legendWrapperTransform[t.position]}},[n("text",{attrs:{x:t.vertical?1.25*t.SQUARE_SIZE:-25,y:t.vertical?8:t.SQUARE_SIZE+1}},[t._v(t._s(t.lo.less))]),t._v(" "),t._l(t.rangeColor,(function(e,r){return n("rect",{key:r,style:{fill:e},attrs:{width:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE,height:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE,x:t.vertical?1.75*t.SQUARE_SIZE:t.SQUARE_SIZE*r,y:t.vertical?t.SQUARE_SIZE*(r+1):5}})})),t._v(" "),n("text",{attrs:{x:t.vertical?1.25*t.SQUARE_SIZE:t.SQUARE_SIZE*t.rangeColor.length+1,y:t.vertical?t.SQUARE_SIZE*(t.rangeColor.length+2)-t.SQUARE_BORDER_SIZE:t.SQUARE_SIZE+1}},[t._v("\n            "+t._s(t.lo.more)+"\n        ")])],2),t._v(" "),n("g",{staticClass:"vch__year__wrapper",attrs:{transform:t.yearWrapperTransform}},t._l(t.heatMap.calendar,(function(e,r){return n("g",{key:r,staticClass:"vch__month__wrapper",attrs:{transform:t.getWeekPosition(r)}},t._l(e,(function(e,r){return e.date<t.now?n("rect",{key:r,staticClass:"vch__day__square",style:{fill:t.rangeColor[e.colorIndex]},attrs:{transform:t.getDayPosition(r),width:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE,height:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE},on:{click:function(n){return t.$emit("day-click",e)}}}):t._e()})),0)})),0)])}),[],!1,null,"5592a248",null).exports,f=n(31),_=n(19);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}Array.range=function(a,b,t){var e=[];for(e[0]=a,t=t||1;a+t<=b;)e[e.length]=a+=t;return e},Array.prototype.fill=function(t){for(var i=0;i<this.length;i++)this[i]=t;return this};var y={name:"index",components:{Avatar:f.a,CalendarHeatMap:m,"b-input":_.a},asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,e.next=3,n.$get("/auth/users/".concat(r.user,"/"));case 3:return e.t0=e.sent,e.abrupt("return",{user:e.t0});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{profile:{links:{}},updating:!1,report:{total_task_done:0,total_task_delay:0,tracking:[],accurate_estimates:0},time_works:[]}},created:function(){this.user.profile&&(this.profile=this.user.profile,Boolean(this.profile.links)||(this.profile.links={}),Boolean(this.profile.extra)||(this.profile.extra={})),this.fetchReport()},methods:{handleUpdate:function(){!1===this.updating?this.updating=!0:this.save()},save:function(){var t=this;this.$axios.$put("/auth/users/".concat(this.user.username,"/"),function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.user,{profile:this.cleanData(this.profile)})).finally((function(){t.updating=!1}))},fetchReport:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/auth/users/".concat(t.user.id,"/reports/"));case 2:t.report=e.sent,t.report.tracking.forEach((function(t){t.total_time=t.data.map((function(t){return t.time_taken})).reduce((function(a,b){return a+b}),0)})),n=new Array(24).fill(0),t.report.tracking.forEach((function(t){t.data.forEach((function(t){var e=t.time_start,r=t.time_stop;if(e&&r){var o=new Date(e),l=new Date(r);Array.range(o.getHours(),l.getHours()).forEach((function(t){n[t]=n[t]+1}))}}))})),o=Math.max.apply(Math,Object(r.a)(n)),t.time_works=n.map((function(t){return t/o}));case 8:case"end":return e.stop()}}),e)})))()}},computed:{reportData:function(){var t=this.report.tracking.map((function(t){return t.total_time})).reduce((function(a,b){return a+b}),0);return{total_task_done:this.report.total_task_done,total_task_delay:this.report.total_task_delay,total_focus:(this.user.profile.extra&&this.user.profile.extra.temp_score?this.user.profile.extra.temp_score:0)/3600,avg_focus:this.report.tracking.length?(t||0)/this.report.tracking.length/60:0,accurate_estimates:this.report.accurate_estimates/60,rank:0}},chartValues:function(){return this.report.tracking.map((function(t){return{date:new Date(t.date_record),count:t.total_time}}))},timeChart:function(){return this.report.tracking.length,[]}},mounted:function(){this.toTop()}},w=Object(v.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"hero is-light is-small"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left",staticStyle:{"margin-right":"2rem"}},[n("avatar",{staticClass:"is-96x96",attrs:{"can-update":t.updating},model:{value:t.profile.media,callback:function(e){t.$set(t.profile,"media",e)},expression:"profile.media"}})],1),t._v(" "),n("div",{staticClass:"media-content"},[t.updating?n("div",{staticClass:"columns is-grapless",staticStyle:{"margin-bottom":"0"}},[n("div",{staticClass:"column"},[n("ce",{staticClass:"title",attrs:{elm:"h1",editable:!0,placeholder:"First name"},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),t._v(" "),n("div",{staticClass:"column"},[n("ce",{staticClass:"title",attrs:{elm:"h1",editable:!0,placeholder:"Last name"},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1)]):n("h1",{staticClass:"title"},[t._v(t._s(t.convertName(t.user)))]),t._v(" "),n("ce",{staticClass:"subtitle",attrs:{elm:"div",editable:t.updating,placeholder:"Bio"},model:{value:t.profile.bio,callback:function(e){t.$set(t.profile,"bio",e)},expression:"profile.bio"}}),t._v(" "),n("div",{staticClass:"buttons"},t._l(Object.keys(t.profile.links),(function(e){return t.profile.links[e]?n("a",{key:e,staticClass:"button is-small",attrs:{href:t.profile.links[e],target:"_blank"}},[n("x-icon",{attrs:{name:e}})],1):t._e()})),0)],1),t._v(" "),t.currentUser&&t.currentUser.id===t.user.id?n("div",{staticClass:"media-right"},[n("div",{staticClass:"button is-text",on:{click:t.handleUpdate}},[n("x-icon",{attrs:{name:"pen"}})],1)]):t._e()])])])]),t._v(" "),n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[t.updating?n("div",[n("h4",{staticClass:"widget_title"},[t._v("Links")]),t._v(" "),n("div",{staticClass:"columns is-gapless is-mobile"},[t._m(6),t._v(" "),n("div",{staticClass:"column is-9"},[n("b-input",{attrs:{placeholder:"https://bubblask.com",expanded:""},model:{value:t.profile.links.ws,callback:function(e){t.$set(t.profile.links,"ws",e)},expression:"profile.links.ws"}})],1)]),t._v(" "),n("div",{staticClass:"columns is-gapless is-mobile"},[t._m(7),t._v(" "),n("div",{staticClass:"column is-9"},[n("b-input",{attrs:{placeholder:"https://facebook.com/bubblask",expanded:""},model:{value:t.profile.links.fb,callback:function(e){t.$set(t.profile.links,"fb",e)},expression:"profile.links.fb"}})],1)]),t._v(" "),n("div",{staticClass:"columns is-gapless is-mobile"},[t._m(8),t._v(" "),n("div",{staticClass:"column is-9"},[n("b-input",{attrs:{placeholder:"https://twitter.com@/bubblask",expanded:""},model:{value:t.profile.links.tw,callback:function(e){t.$set(t.profile.links,"tw",e)},expression:"profile.links.tw"}})],1)]),t._v(" "),n("div",{staticClass:"columns is-gapless is-mobile"},[t._m(9),t._v(" "),n("div",{staticClass:"column is-9"},[n("b-input",{attrs:{placeholder:"https://linkedin.com/bubblask",expanded:""},model:{value:t.profile.links.li,callback:function(e){t.$set(t.profile.links,"li",e)},expression:"profile.links.li"}})],1)])]):n("div",{staticClass:"columns is-multiline"},[n("div",{staticClass:"column is-12"},[n("calendar-heat-map",{attrs:{values:t.chartValues,"end-date":new Date}})],1),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(0),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s(t.reportData.total_focus.toFixed(1)))]),t._v(" "),n("span",[t._v("h")])])])])])]),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(1),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s(100-t.reportData.accurate_estimates.toFixed(1)))]),t._v(" "),n("span",[t._v("%")])])])])])]),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(2),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s((t.reportData.avg_focus/60).toFixed(1)))]),t._v(" "),n("span",[t._v("h/day")])])])])])]),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(3),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s(t.reportData.total_task_done))]),t._v(" "),n("span",[t._v("tasks")])])])])])]),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(4),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s(t.reportData.total_task_delay))]),t._v(" "),n("span",[t._v("tasks")])])])])])]),t._v(" "),n("div",{staticClass:"column is-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[t._m(5),t._v(" "),n("div",{staticClass:"media-right"},[n("span",{staticClass:"title"},[t._v(t._s(t.reportData.rank))]),t._v(" "),n("span",[t._v("th")])])])])])]),t._v(" "),n("div",{staticClass:"column is-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("h4",[t._v(t._s(t.convertName(t.user))+"'s work time")])]),t._v(" "),n("div",{staticClass:"level-right"},[t._v(t._s(t.convertName(t.user))+"'s timezone: "+t._s(t.user.profile.time_zone))])]),t._v(" "),n("time-chart",{attrs:{data:t.time_works}})],1)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("Focus")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("Accurate estimates")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("AVG focus")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("Total complete")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("Total Delays/Interruptions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-content"},[e("h4",[this._v("Ranking")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3 v-center is-text field"},[e("span",[this._v("Website")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3 v-center is-text field"},[e("span",[this._v("Facebook")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3 v-center is-text field"},[e("span",[this._v("Twitter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3 v-center is-text field"},[e("span",[this._v("LinkedIn")])])}],!1,null,"e8604c02",null);e.default=w.exports},518:function(t,e,n){"use strict";n.r(e);n(9);var r=n(2),o={name:"LeaderBoard",components:{Avatar:n(31).a},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,n.$get("/auth/users/");case 3:return e.t0=e.sent,e.abrupt("return",{response:e.t0});case 5:case"end":return e.stop()}}),e)})))()}},l=(n(508),n(3)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"hero"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container medium"},[n("div",{staticClass:"columns is-multiline"},t._l(t.response.results,(function(u,i){return n("div",{key:i,staticClass:"column is-4"},[n("div",{staticClass:"box user clickable",on:{click:function(e){return t.navigate("/"+u.username)}}},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[t._v(t._s(i+1))]),t._v(" "),n("div",{staticClass:"media-left"},[n("Avatar",{staticClass:"is-32x32",attrs:{value:u.profile.media}})],1),t._v(" "),n("div",{staticClass:"media-content"},[n("div",{},[n("n-link",{attrs:{to:"/"+u.username}},[t._v(t._s(t.convertName(u)))])],1)]),t._v(" "),u.profile.extra?n("div",{staticClass:"media-right"},[n("small",[t._v(t._s((u.profile.extra.temp_score/3600).toFixed(2))+"h")])]):t._e()])])])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hero is-dark"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container small"},[e("h1",{staticClass:"title"},[this._v("LeaderBoard")]),this._v(" "),e("div",{staticClass:"subtitle"},[this._v("See how others work")])])])])}],!1,null,null,null);e.default=component.exports},519:function(t,e,n){"use strict";n.r(e);var r={name:"privacy",head:function(){return{title:"Bubblask's Privacy"}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("div",{staticClass:"container content"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("h1",[t._v("Privacy Policy")]),t._v(" "),n("p",[t._v("At Bubblask, accessible from https://bubblask.com, one of our main priorities is the privacy of our visitors.\n                    This Privacy Policy document contains types of information that is collected and recorded by Bubblask and\n                    how we use it.")]),t._v(" "),n("p",[t._v("If you have additional questions or require more information about our Privacy Policy, do not hesitate to\n                    contact us.")]),t._v(" "),n("p",[t._v("This Privacy Policy applies only to our online activities and is valid for visitors to our website with\n                    regards to the information that they shared and/or collect in Bubblask. This policy is not applicable to any\n                    information collected offline or via channels other than this website.")]),t._v(" "),n("h2",[t._v("Consent")]),t._v(" "),n("p",[t._v("By using our website, you hereby consent to our Privacy Policy and agree to its terms.")]),t._v(" "),n("h2",[t._v("Information we collect")]),t._v(" "),n("p",[t._v("The personal information that you are asked to provide, and the reasons why you are asked to provide it, will\n                    be made clear to you at the point we ask you to provide your personal information.")]),t._v(" "),n("p",[t._v("If you contact us directly, we may receive additional information about you such as your name, email address,\n                    phone number, the contents of the message and/or attachments you may send us, and any other information you\n                    may choose to provide.")]),t._v(" "),n("p",[t._v("When you register for an Account, we may ask for your contact information, including items such as name,\n                    company name, address, email address, and telephone number.")]),t._v(" "),n("h2",[t._v("How we use your information")]),t._v(" "),n("p",[t._v("We use the information we collect in various ways, including to:")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Log Files")]),t._v(" "),n("p",[t._v("Bubblask follows a standard procedure of using log files. These files log visitors when they visit websites.\n                    All hosting companies do this and a part of hosting services' analytics. The information collected by log\n                    files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time\n                    stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that\n                    is personally identifiable. The purpose of the information is for analyzing trends, administering the site,\n                    tracking users' movement on the website, and gathering demographic information.")]),t._v(" "),n("h2",[t._v("Cookies and Web Beacons")]),t._v(" "),n("p",[t._v("Like any other website, Bubblask uses 'cookies'. These cookies are used to store information including\n                    visitors' preferences, and the pages on the website that the visitor accessed or visited. The information is\n                    used to optimize the users' experience by customizing our web page content based on visitors' browser type\n                    and/or other information.")]),t._v(" "),t._m(1),t._v(" "),n("h2",[t._v("Google DoubleClick DART Cookie")]),t._v(" "),t._m(2),t._v(" "),n("h2",[t._v("Advertising Partners Privacy Policies")]),t._v(" "),n("P",[t._v("You may consult this list to find the Privacy Policy for each of the advertising partners of Bubblask.")]),t._v(" "),n("p",[t._v("Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are\n                    used in their respective advertisements and links that appear on Bubblask, which are sent directly to users'\n                    browser. They automatically receive your IP address when this occurs. These technologies are used to measure\n                    the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see\n                    on websites that you visit.")]),t._v(" "),n("p",[t._v("Note that Bubblask has no access to or control over these cookies that are used by third-party\n                    advertisers.")]),t._v(" "),n("h2",[t._v("Third Party Privacy Policies")]),t._v(" "),n("p",[t._v("Bubblask's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to\n                    consult the respective Privacy Policies of these third-party ad servers for more detailed information. It\n                    may include their practices and instructions about how to opt-out of certain options. You may find a\n                    complete list of these Privacy Policies and their links here: Privacy Policy Links.")]),t._v(" "),n("p",[t._v("You can choose to disable cookies through your individual browser options. To know more detailed information\n                    about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n                    What Are Cookies?")]),t._v(" "),n("h2",[t._v("CCPA Privacy Rights (Do Not Sell My Personal Information)")]),t._v(" "),n("p",[t._v("Under the CCPA, among other rights, California consumers have the right to:")]),t._v(" "),n("p",[t._v("Request that a business that collects a consumer's personal data disclose the categories and specific pieces\n                    of personal data that a business has collected about consumers.")]),t._v(" "),n("p",[t._v("Request that a business delete any personal data about the consumer that a business has collected.")]),t._v(" "),n("p",[t._v("Request that a business that sells a consumer's personal data, not sell the consumer's personal data.")]),t._v(" "),n("p",[t._v("If you make a request, we have one month to respond to you. If you would like to exercise any of these\n                    rights, please contact us.")]),t._v(" "),n("h2",[t._v("GDPR Data Protection Rights")]),t._v(" "),n("p",[t._v("We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled\n                    to the following:")]),t._v(" "),n("p",[t._v("The right to access – You have the right to request copies of your personal data. We may charge you a small\n                    fee for this service.")]),t._v(" "),n("p",[t._v("The right to rectification – You have the right to request that we correct any information you believe is\n                    inaccurate. You also have the right to request that we complete the information you believe is\n                    incomplete.")]),t._v(" "),n("p",[t._v("The right to erasure – You have the right to request that we erase your personal data, under certain\n                    conditions.")]),t._v(" "),n("p",[t._v("The right to restrict processing – You have the right to request that we restrict the processing of your\n                    personal data, under certain conditions.")]),t._v(" "),n("p",[t._v("The right to object to processing – You have the right to object to our processing of your personal data,\n                    under certain conditions.")]),t._v(" "),n("p",[t._v("The right to data portability – You have the right to request that we transfer the data that we have\n                    collected to another organization, or directly to you, under certain conditions.")]),t._v(" "),n("p",[t._v("If you make a request, we have one month to respond to you. If you would like to exercise any of these\n                    rights, please contact us.")]),t._v(" "),n("h2",[t._v("Children's Information")]),t._v(" "),n("p",[t._v("Another part of our priority is adding protection for children while using the internet. We encourage parents\n                    and guardians to observe, participate in, and/or monitor and guide their online activity.")]),t._v(" "),n("p",[t._v("Bubblask does not knowingly collect any Personal Identifiable Information from children under the age of 13.\n                    If you think that your child provided this kind of information on our website, we strongly encourage you to\n                    contact us immediately and we will do our best efforts to promptly remove such information from our\n                    records.")])],1)])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("Provide, operate, and maintain our webste")]),t._v(" "),n("li",[t._v("Improve, personalize, and expand our webste")]),t._v(" "),n("li",[t._v("Understand and analyze how you use our webste")]),t._v(" "),n("li",[t._v("Develop new products, services, features, and functionality")]),t._v(" "),n("li",[t._v("Communicate with you, either directly or through one of our partners, including for customer service, to\n                        provide you with updates and other information relating to the webste, and for marketing and promotional\n                        purposes\n                    ")]),t._v(" "),n("li",[t._v("Send you emails")]),t._v(" "),n("li",[t._v("Find and prevent fraud")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For more general information on cookies, please read "),e("a",{attrs:{href:"https://en.wikipedia.org/wiki/HTTP_cookie"}},[this._v('"What Are Cookies"')]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Google is one of a third-party vendor on our site. It also uses cookies, known as DART cookies, to serve ads\n                    to our site visitors based upon their visit to www.website.com and other sites on the internet. However,\n                    visitors may choose to decline the use of DART cookies by visiting the Google ad and content network Privacy\n                    Policy at the following URL – "),e("a",{attrs:{href:"https://policies.google.com/technologies/ads"}},[this._v("https://policies.google.com/technologies/ads")])])}],!1,null,"dc9df3dc",null);e.default=component.exports},520:function(t,e,n){"use strict";n.r(e);n(46),n(18),n(14),n(7),n(36),n(35),n(45),n(30);var r=n(6),o=(n(9),n(2)),l=n(31),c=n(56),d=n(19),h=(n(17),n(99));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"TemplateDetail",components:{BDropdownItem:n(58).a,TaskBoard:h.a,BInput:d.a,BTaginput:c.a,Avatar:l.a},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$axios,r=t.params,o={title:"Your Work",description:"Manage your task on a tree!"},l={},"visual"===r.id){e.next=8;break}return e.next=6,n.$get("/task/boards/".concat(r.id,"/"));case 6:o=e.sent,l.board=o.id;case 8:return e.next=10,n.$get("/task/tasks/",{params:l});case 10:return c=e.sent,e.abrupt("return",{flat_tasks:c,board:m({},o,{text_tags:o.hash_tags?o.hash_tags.map((function(t){return t.title})):[],settings:o.settings?o.settings:{}}),boardSlug:o.slug});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{updating:!1}},head:function(){return{title:this.board.title+" - Self Study - Tasks and Steps"}},computed:{storeTasks:function(){var t=this;return this.$store.state.task.tasks.filter((function(e){return t.board.id?e.board===t.board.id&&e.id:null===e.board}))},readonly:function(){if(this.currentUser){if(!this.board.id)return!this.updating;if(this.currentUser.id===this.board.user)return!this.updating;if(!this.board.settings.is_readonly)return!this.updating}return!0}},methods:{handleUpdate:function(){var t=this,data={};["title","description","slug","text_tags","is_interface","media","settings"].forEach((function(e){"media"===e&&t.board.media?data[e]=t.board.media.id:data[e]=t.board[e]})),this.currentUser&&this.currentUser.id===this.board.user&&this.$axios.$put("/task/boards/".concat(this.boardSlug,"/"),data).then((function(e){e.slug!==t.boardSlug&&(t.$router.replace({path:"/board/".concat(e.slug)}),t.boardSlug=e.slug)})).then((function(){t.updating=!1}))},handleDeleted:function(t){var e=this.flat_tasks.map((function(t){return t.id})).indexOf(t.id);this.flat_tasks.splice(e,1)},useBoard:function(){var t=this;this.$axios.$post("/task/boards/".concat(this.board.id,"/clone/")).then((function(e){t.$router.replace({path:"/board/".concat(e.slug)})})).catch((function(){}))},launchBoard:function(){}},watch:{storeTasks:{deep:!0,handler:function(){var t=this,e=this.flat_tasks.map((function(t){return t.id}));this.storeTasks.forEach((function(n){e.includes(n.id)||t.flat_tasks.unshift(n)}))}}},mounted:function(){this.toTop()}},_=(n(509),n(3)),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board-detail"},[n("div",{staticClass:"hero tree-task"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-4"},[n("div",{staticClass:"media",staticStyle:{"margin-bottom":"1.5rem"}},[t.board.media||t.updating?n("div",{staticClass:"media-left"},[n("avatar",{attrs:{"can-update":t.updating},model:{value:t.board.media,callback:function(e){t.$set(t.board,"media",e)},expression:"board.media"}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[n("ce",{staticClass:"title",attrs:{editable:t.updating,elm:"h1"},model:{value:t.board.title,callback:function(e){t.$set(t.board,"title",e)},expression:"board.title"}})],1)]),t._v(" "),t.updating||t.board.description?n("div",{staticClass:"notification is-light"},[n("ce",{attrs:{editable:t.updating,elm:"p",placeholder:"Description"},model:{value:t.board.description,callback:function(e){t.$set(t.board,"description",e)},expression:"board.description"}})],1):t._e(),t._v(" "),t.currentUser&&t.currentUser.id===t.board.user?n("div",{staticClass:"buttons board-control"},[!t.updating&&t.board.is_interface?n("div",{staticClass:"button is-primary",on:{click:t.useBoard}},[t._v("Use")]):t._e(),t._v(" "),t.updating||t.board.is_interface?t._e():n("div",{staticClass:"button is-primary",on:{click:t.launchBoard}},[t._v("Launch")]),t._v(" "),t.updating?n("div",{staticClass:"button",on:{click:t.handleUpdate}},[n("x-icon",{attrs:{name:"check"}})],1):t._e(),t._v(" "),n("div",{staticClass:"button is-text",on:{click:function(e){t.updating=!t.updating}}},[n("x-icon",{attrs:{name:t.updating?"close":"pen"}})],1)]):t._e(),t._v(" "),n("n-link",{staticClass:"button is-fullwidth is-light",staticStyle:{"margin-bottom":".5rem"},attrs:{to:"/board"}},[n("x-icon",{attrs:{name:"chevron-left"}}),t._v(" "),n("span",[t._v("Back")])],1)],1),t._v(" "),n("div",{staticClass:"column"},[t.updating?n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[null===t.board.parent?n("div",{staticClass:"field"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.board.is_interface,callback:function(e){t.$set(t.board,"is_interface",e)},expression:"board.is_interface"}},[t._v("Template")])],1):t._e()]),t._v(" "),n("div",{staticClass:"level-right"},[n("b-dropdown",{attrs:{position:"is-bottom-left","trap-focus":!0}},[n("div",{staticClass:"navbar-item clickable",attrs:{slot:"trigger"},slot:"trigger"},[n("x-icon",{attrs:{name:"cogs"}}),t._v(" "),n("span",[t._v("Privacy")])],1),t._v(" "),n("b-dropdown-item",{staticStyle:{"min-width":"300px"},attrs:{custom:""}},[n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[t._v("Public")]),t._v(" "),n("div",{staticClass:"level-right"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.board.settings.is_public,callback:function(e){t.$set(t.board.settings,"is_public",e)},expression:"board.settings.is_public"}})],1)]),t._v(" "),n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[t._v("Team")]),t._v(" "),n("div",{staticClass:"level-right"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.board.settings.is_team,callback:function(e){t.$set(t.board.settings,"is_team",e)},expression:"board.settings.is_team"}})],1)]),t._v(" "),!t.board.settings.is_public&&t.board.settings.is_team?n("div",{staticClass:"field"},[n("b-input",{attrs:{expanded:"",placeholder:"Password"},model:{value:t.board.settings.password,callback:function(e){t.$set(t.board.settings,"password",e)},expression:"board.settings.password"}}),t._v(" "),n("p",{staticClass:"help"},[t._v("Use password to join!")])],1):t._e(),t._v(" "),n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[t._v("Readonly")]),t._v(" "),n("div",{staticClass:"level-right"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.board.settings.is_readonly,callback:function(e){t.$set(t.board.settings,"is_readonly",e)},expression:"board.settings.is_readonly"}})],1)])])],1)],1)]):t._e(),t._v(" "),t.updating?n("div",{staticClass:"field"},[n("b-input",{attrs:{icon:"label",placeholder:"Board Slug"},model:{value:t.board.slug,callback:function(e){t.$set(t.board,"slug",e)},expression:"board.slug"}})],1):t._e(),t._v(" "),t.updating?n("div",{staticClass:"field"},[n("b-taginput",{attrs:{icon:"tag",placeholder:"Hash tag"},model:{value:t.board.text_tags,callback:function(e){t.$set(t.board,"text_tags",e)},expression:"board.text_tags"}})],1):t._e(),t._v(" "),n("task-board",{attrs:{tasks:t.flat_tasks,board:t.board,readonly:t.readonly,tree:""},on:{deleted:t.handleDeleted}})],1)])])])])])}),[],!1,null,null,null);e.default=component.exports},521:function(t,e,n){"use strict";n.r(e);n(30),n(7),n(434),n(9);var r=n(2),o=n(510),l=n(17),c=n(19),d=n(56),h=n(16),v={name:"visual",components:{BTaginput:d.a,BInput:c.a},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$axios,r=t.params,o=null,l={},"visual"===r.id){e.next=8;break}return e.next=6,n.$get("/task/boards/".concat(r.id,"/"));case 6:o=e.sent,l.board=o.id;case 8:return e.next=10,n.$get("/task/tasks/",{params:l});case 10:return c=e.sent,e.abrupt("return",{flat_tasks:c,board:o});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{startMove:!1,offset:[],movingTask:null,drawing:null,lines:{},settings:{},documentSize:{w:9e3,h:9e3},tasks:[],activeBoardUpdate:!1,boardF:null}},methods:{listenerDown:function(t){null===this.movingTask&&this.mouse_down({e:t})},listenerUp:function(t){this.startMove=!1,this.offset=[],this.movingTask=null},mouse_down:function(t){var e=t.e,n=t.task;this.movingTask=void 0===n?this.tasks[0]:n;var r=document.getElementById("task-".concat(this.movingTask.id)).parentElement;this.startMove=!0,this.offset=[r.offsetLeft-e.clientX,r.offsetTop-e.clientY],this.draw(this.movingTask)},mouse_move:function(t){if(this.startMove&&this.movingTask){var e=document.getElementById("task-".concat(this.movingTask.id)).parentElement;t.preventDefault();var n={x:t.clientX,y:t.clientY};void 0===this.settings["T".concat(this.movingTask.id)]&&this.$set(this.settings,"T".concat(this.movingTask.id),{});var r=n.x+this.offset[0],o=n.y+this.offset[1];if(this.$set(this.settings["T".concat(this.movingTask.id)],"left",r),this.$set(this.settings["T".concat(this.movingTask.id)],"top",o),n.x<=0||n.y<=0)return;e.style.left=r+"px",e.style.top=o+"px",this.draw(this.movingTask)}},draw:function(t){var e=this;if(null!==document.getElementById("task-".concat(t.id))){var line=this.lines["task-".concat(t.id)],n=document.getElementById("task-".concat(t.id)).parentElement;if("number"==typeof t.parent){var r=document.getElementById("task-".concat(t.parent)).parentElement,o=this.getOffset(r),l=this.getOffset(n),c=this.settings["T".concat(t.id)],d=c?c.p1c:5,h=c?c.p2c:1,v=c?c.arrow:"bottom",m=!!c&&c.vertical;l.center.x<o.points[0].x?l.center.y>o.points[0].y&&l.center.y<o.points[6].y&&(m=!1,d=7,h=3):l.center.x>o.points[0].x&&l.center.x<o.points[2].x?l.center.y<o.points[0].y?(m=!0,d=1,h=5):l.center.y>o.points[6].y&&(m=!0,d=5,h=1):l.center.y>o.points[0].y&&l.center.y<o.points[6].y&&(d=3,h=7,m=!1);var f=o.points[d],_=l.points[h],k={x:m?f.x:o.center.x+.5*(l.center.x-o.center.x),y:m?o.center.y+.5*(l.center.y-o.center.y):f.y},y={x:m?_.x:o.center.x+.5*(l.center.x-o.center.x),y:m?o.center.y+.5*(l.center.y-o.center.y):_.y};void 0===this.settings["T".concat(t.id)]&&this.$set(this.settings,"T".concat(t.id),{}),this.$set(this.settings["T".concat(t.id)],"p1c",d),this.$set(this.settings["T".concat(t.id)],"p2c",h),this.$set(this.settings["T".concat(t.id)],"arrow",v),this.$set(this.settings["T".concat(t.id)],"vertical",m),line&&line.remove(),this.lines["task-".concat(t.id)]=this.drawing.path("M ".concat(f.x," ").concat(f.y," L").concat(k.x," ").concat(k.y," L").concat(y.x," ").concat(y.y," L").concat(_.x," ").concat(_.y)).stroke({color:"#cccccc",width:2,linecap:"round",dasharray:8.3}).fill("transparent"),this.lines["task-".concat(t.id)].attr("marker-end","url(#arrow-".concat(v,")"))}t.children&&t.children.forEach((function(t){e.draw(t)}))}},initDraw:function(t){var e=this;t&&t.forEach((function(t){e.draw(t),e.initDraw(t.children)}))},saveSetting:h.debounce((function(){var t=this;this.board?this.$axios.$put("/task/boards/".concat(this.board.slug,"/"),{task_graph_setting:this.settings}):this.$axios.$put("/auth/users/".concat(this.currentUser.username,"/"),{task_graph_setting:this.settings}).then((function(){t.$store.commit("config/SET_SETTING_GRAPH",h.cloneDeep(t.settings))}))}),1e3),handle_add_child:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.$post("/task/tasks/",t);case 2:if(r=n.sent,e.flat_tasks.push(r),e.init(),null!==e.board){n.next=12;break}return r=new l.a(r),n.next=9,e.$store.commit("task/ADD_TASK",r);case 9:if(null!==e.currentUser){n.next=12;break}return n.next=12,e.$indexedDB.add(r);case 12:case"end":return n.stop()}}),n)})))()},handle_delete_task:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,i,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=function t(e,n){return n.push(e),e.children&&e.children.forEach((function(e){n.concat(t(e,n))})),n}(t,[]),i=0;case 3:if(!(i<r.length)){n.next=13;break}if(o=r[i],!(i>0)){n.next=8;break}return n.next=8,e.$axios.$delete("/task/tasks/".concat(o.id,"/"));case 8:(l=e.flat_tasks.map((function(t){return t.id})).indexOf(o.id))>=0&&(e.lines["task-".concat(o.id)].remove(),e.flat_tasks.splice(l,1));case 10:i++,n.next=3;break;case 13:case"end":return n.stop()}}),n)})))()},init:function(){var t=this;this.flat_tasks.forEach((function(e){e.temp_setting=t.settings["T".concat(e.id)]}));var e=this.hierarchy(this.flat_tasks,{idKey:"id",parentKey:"parent"});e.forEach((function(t){return t.parent=0}));var n=new l.a({id:0,temp_setting:this.settings.T0,title:this.board?this.board.title:"Workspace",board:this.board?this.board.id:void 0});n.children=e,this.tasks=[n]},saveBoard:function(){var t=this,data={};["title","description","slug","text_tags","is_interface"].forEach((function(e){data[e]=t.boardF[e]})),this.currentUser&&this.currentUser.id===this.board.user&&this.$axios.$put("/task/boards/".concat(this.board.slug,"/"),data).then((function(e){t.boardF=null,e.slug!==t.board.slug&&t.$router.replace({path:"/template/".concat(e.slug)}),t.board=e,t.tasks[0].title=e.title})).finally((function(){t.activeBoardUpdate=!1}))},openBoardModal:function(){this.board&&(this.boardF=h.cloneDeep(this.board),this.activeBoardUpdate=!0)}},mounted:function(){document.addEventListener("mousedown",this.listenerDown),document.addEventListener("mouseup",this.listenerUp),document.addEventListener("mousemove",this.mouse_move);var t=document.getElementById("visual");this.drawing=Object(o.a)().addTo("#vs-background").size(t.clientWidth,t.clientWidth),this.drawing.defs().path("M5,0 0,2.5 5,5 3.5,3 3.5,2z").id("raphael-marker-classic"),this.drawing.marker(10,10,(function(t){t.use("raphael-marker-classic").rotate(0).fill("#CCC")})).ref(5,2.5).id("arrow-top"),this.drawing.marker(10,10,(function(t){t.use("raphael-marker-classic").rotate(180).fill("#CCC")})).ref(5,2.5).id("arrow-bottom"),this.drawing.marker(10,10,(function(t){t.use("raphael-marker-classic").rotate(270).fill("#CCC")})).ref(5,2.5).id("arrow-right"),this.drawing.marker(10,10,(function(t){t.use("raphael-marker-classic").rotate(90).fill("#CCC")})).ref(5,2.5).id("arrow-left"),this.settings&&this.initDraw(this.tasks)},watch:{settings:{deep:!0,handler:function(){this.saveSetting()}},flat_tasks:{deep:!0,handler:function(){this.init(),this.initDraw(this.tasks)}}},created:function(){this.board?this.settings=this.board.settings?this.board.settings.task_graph_setting:{}:this.settings=this.$store.state.config.settings.task_graph_setting?h.cloneDeep(this.$store.state.config.settings.task_graph_setting):{},this.init()},beforeDestroy:function(){document.removeEventListener("mousedown",this.listenerDown),document.removeEventListener("mouseup",this.listenerUp),document.removeEventListener("mousemove",this.mouse_move)}},m=(n(511),n(3)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"visual",staticClass:"visual",attrs:{id:"visual"}},[n("div",{staticClass:"background",attrs:{id:"vs-background"}}),t._v(" "),n("div",{staticClass:"wrapper"},t._l(t.tasks,(function(e){return n("task-graph",{key:e.id,attrs:{readonly:"",value:e},on:{down:t.mouse_down,add:t.handle_add_child,"board-update":t.openBoardModal,deleted:t.handle_delete_task}})})),1),t._v(" "),n("b-modal",{attrs:{active:t.activeBoardUpdate,scroll:"keep"},on:{"update:active":function(e){t.activeBoardUpdate=e}}},[n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("div",{staticClass:"level is-mobile",staticStyle:{width:"100%"}},[n("h4",{staticClass:"level-left"},[t._v("Board Setting")]),t._v(" "),n("div",{staticClass:"level-right"},[n("button",{staticClass:"button is-small",attrs:{type:"button"},on:{click:function(e){t.activeBoardUpdate=!1}}},[t._v("Cancel\n                        ")])])])]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t.boardF?n("div",[n("div",{staticClass:"field"},[n("ce",{staticClass:"title",attrs:{elm:"h1",placeholder:"Board title"},model:{value:t.boardF.title,callback:function(e){t.$set(t.boardF,"title",e)},expression:"boardF.title"}})],1),t._v(" "),n("div",{staticClass:"field"},[n("b-input",{attrs:{placeholder:"Board title"},model:{value:t.boardF.slug,callback:function(e){t.$set(t.boardF,"slug",e)},expression:"boardF.slug"}})],1),t._v(" "),n("div",{staticClass:"field"},[n("ce",{staticClass:"notification is-light",attrs:{elm:"div",placeholder:"description"},model:{value:t.boardF.description,callback:function(e){t.$set(t.boardF,"description",e)},expression:"boardF.description"}})],1),t._v(" "),n("div",{staticClass:"field"},[n("b-switch",{model:{value:t.boardF.is_interface,callback:function(e){t.$set(t.boardF,"is_interface",e)},expression:"boardF.is_interface"}},[t._v("Template")])],1),t._v(" "),n("div",{staticClass:"field"},[n("b-taginput",{attrs:{placeholder:"Hash tag"},model:{value:t.boardF.text_tags,callback:function(e){t.$set(t.boardF,"text_tags",e)},expression:"boardF.text_tags"}})],1)]):t._e()]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-primary",on:{click:t.saveBoard}},[t._v("Save")])])])])],1)}),[],!1,null,null,null);e.default=component.exports},522:function(t,e,n){"use strict";n.r(e);n(30),n(9);var r=n(2),o=n(31),l=n(99),c=n(16),d={components:{TaskBoard:l.a,Avatar:o.a},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:"Bubblask is small application with many features that help you increase productivity by using pomodoro technique."}]}},data:function(){return{timer:0,mode:"POMODORO TIMER",showNote:!1,wsPassword:null,askPassword:!1,wsTemp:null}},computed:{title:function(){return this.timer?this.fancyTimeFormat(this.timer)+" - Bubblask":"Bubblask - Online Pomodoro Timer - Best pomodoro tool!"},tasks:function(){var t=this.ws&&this.ws.board?this.ws.board.id:null;return this.$store.state.task.tasks.filter((function(e){return e.board===t}))},runningTask:function(){return this.$store.state.task.running},setting:function(){return this.$store.state.config.settings.timer},style:function(){var t=this.$store.state.config.settings,img=t.color?t.color.background:null;return img?{backgroundImage:"url(".concat(img.urls.full,")"),backgroundSize:"cover"}:null},ws:function(){return this.$store.state.config.ws}},methods:{task_break:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.mode=5===t?"Short Break":"Long Break",n.next=3,e.$store.commit("task/SET_RUNNING",null);case 3:e.setting.is_strict||(e.timer=60*t,e.toTop(41));case 4:case"end":return n.stop()}}),n)})))()},move_text:function(t,e,time){var n=this.$refs[t];if(n)for(var i=0;i<n.children.length;i++){var r=n.children[i].querySelector(".number-grp-wrp"),o=n.children[i].querySelector(".num-".concat(time[e+i]));r.style.transform="translate3d(0px, -".concat(o.offsetTop,"px, 0px)")}},run_timer:function(){if(this.timer>0){var t=this.fancyTimeFormat(this.timer);this.move_text("seconds",6,t),this.move_text("minutes",3,t),this.timer=this.timer-1}else this.move_text("seconds",3,"00:00:00"),this.move_text("minutes",6,"00:00:00")},joinWS:function(t){var e=this;this.$axios.$post("/general/workspaces/".concat(t.id,"/join/"),{password:this.wsPassword}).then((function(n){n.status&&e.$store.commit("config/SET_WS",t),e.$router.replace({path:"/"}),e.askPassword=!1}))},makeDone:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.cloneDeep(t.runningTask),e.next=3,t.$store.commit("task/SET_RUNNING",null);case 3:return n.changeStatus("complete"),e.next=6,t.$store.commit("task/UPDATE_TASK",n);case 6:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,setInterval((function(){n.run_timer()}),1e3),t.runningTask&&(r=new Date,o=new Date(t.runningTask.dueDate()),t.timer=(o.getTime()-r.getTime())/1e3,t.toTop(41)),t.$route.query.ws&&t.currentUser&&t.currentUser.profile.setting.ws!==t.$route.query.ws&&t.$axios.$get("/general/workspaces/".concat(t.$route.query.ws,"/")).then((function(e){e.isPrivate?(t.wsTemp=e,t.askPassword=!0):t.joinWS(e)})).catch((function(){t.$router.replace({path:"/"})})),t.toTop();case 5:case"end":return e.stop()}}),e)})))()},watch:{timer:function(){this.timer<=0&&this.runningTask&&this.runningTask.changeStatus("stopping",0),3===this.timer&&this.playSource("audio_rang")},runningTask:function(){if(this.runningTask){this.mode=this.runningTask.title;var t=new Date,e=new Date(this.runningTask.dueDate());this.timer=(e.getTime()-t.getTime())/1e3,this.toTop(41)}else this.timer=0,this.mode="POMODORO TIMER";this.showNote=!1}}},h=(n(512),n(3)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"hero is-primary",class:{"is-fullheight":t.timer>0},style:t.style},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container pomodoro"},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"timer"},[n("div",{staticClass:"title uppercase"},[t._v(t._s(t.mode))]),t._v(" "),n("div",{staticClass:"timer--clock"},[n("div",{ref:"minutes",staticClass:"minutes-group clock-display-grp"},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),t._m(2),t._v(" "),n("div",{ref:"seconds",staticClass:"seconds-group clock-display-grp"},[t._m(3),t._v(" "),t._m(4)])]),t._v(" "),n("h4",[t._v("A SIMPLE HACK FOR DEEP WORK")])])]),t._v(" "),n("div",{staticClass:"buttons timer-control"},[null!==t.runningTask&&t.setting.is_strict?t._e():n("div",{staticClass:"button is-primary",on:{click:function(e){return t.task_break(5)}}},[t._v("Short Break\n                    ")]),t._v(" "),null!==t.runningTask&&t.setting.is_strict?t._e():n("div",{staticClass:"button is-primary",on:{click:function(e){return t.task_break(10)}}},[t._v("Long Break\n                    ")]),t._v(" "),t.runningTask&&!t.setting.is_strict?n("div",{staticClass:"button is-primary",on:{click:function(e){return t.$store.commit("task/SET_RUNNING",t.runningTask)}}},[n("x-icon",{attrs:{name:"pause"}})],1):t._e(),t._v(" "),t.runningTask?n("div",{staticClass:"button is-primary",on:{click:t.makeDone}},[n("x-icon",{attrs:{name:"check"}})],1):t._e()]),t._v(" "),t.runningTask&&!t.showNote&&t.runningTask.description?n("div",{staticClass:"button is-text",on:{click:function(e){t.showNote=!0}}},[t._v("Show Note\n                ")]):t._e()])])]),t._v(" "),t.runningTask?t._e():n("div",{staticClass:"hero is-secondary is-small",staticStyle:{"min-height":"50vh"}},[n("div",{staticClass:"hero-body"},[t.setting.is_strict?n("div",{staticClass:"container small"},[t._m(5)]):t._e(),t._v(" "),n("div",{staticClass:"boards"},[n("task-board",{attrs:{tasks:t.tasks,board:t.ws?t.ws.board:null}})],1)])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.runningTask||t.currentUser?t._e():n("div",{staticClass:"hero is-light"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container small content"},[n("h1",{staticClass:"title"},[t._v("Bublask")]),t._v(" "),n("p",[t._v("Bubblask is small application with many features that help you increase productivity by using\n                        pomodoro technique.")]),t._v(" "),n("p",[t._v("Pomodoro technique divides your total working/studying time into sessions of 25 minutes.")]),t._v(" "),n("ul",[n("li",[t._v("You have to just set the timer of 25 minutes and start studying. In these 25 minutes,\n                            you\n                            should focus only on whatever you have decided to study/work. Take care of that nothing\n                            should interrupt you.\n                        ")]),t._v(" "),n("li",[t._v("After 25 minutes you have to take a break of 5 minutes. In these 5 minutes, you can do\n                            anything. You can attend calls you missed in those 25 minutes or you can take a small\n                            walk.\n                            You can just relax!\n                        ")]),t._v(" "),n("li",[t._v("After 5 minutes you have to again start studying for 25 minutes.")]),t._v(" "),n("li",[t._v("After 4 sessions of 25 minutes, you can take a break of 15–20 minutes.")])])])])])]),t._v(" "),n("b-modal",{attrs:{active:t.showNote,scroll:"keep"},on:{"update:active":function(e){t.showNote=e}}},[t.runningTask?n("div",{staticClass:"container small"},[n("div",{staticClass:"notification is-warning"},[n("div",{domProps:{innerHTML:t._s(t.runningTask.description)}})])]):t._e()]),t._v(" "),n("b-modal",{attrs:{active:t.askPassword,scroll:"keep"},on:{"update:active":function(e){t.askPassword=e}}},[t.wsTemp?n("div",{staticClass:"container small"},[n("div",{staticClass:"notification is-warning"},[n("div",{staticClass:"field"},[t._v("\n                    Join "+t._s(t.wsTemp.name)+"\n                ")]),t._v(" "),n("label",{staticClass:"field has-addons"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.wsPassword,expression:"wsPassword"}],staticClass:"input",attrs:{placeholder:"Enter Password"},domProps:{value:t.wsPassword},on:{input:function(e){e.target.composing||(t.wsPassword=e.target.value)}}}),t._v(" "),n("span",{staticClass:"control"},[n("span",{staticClass:"button is-primary",on:{click:function(e){return t.joinWS(t.wsTemp)}}},[t._v("Join")])])])])]):t._e()])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"first number-grp"},[n("div",{staticClass:"number-grp-wrp"},[n("div",{staticClass:"num num-0"},[n("p",[t._v("0")])]),t._v(" "),n("div",{staticClass:"num num-1"},[n("p",[t._v("1")])]),t._v(" "),n("div",{staticClass:"num num-2"},[n("p",[t._v("2")])]),t._v(" "),n("div",{staticClass:"num num-3"},[n("p",[t._v("3")])]),t._v(" "),n("div",{staticClass:"num num-4"},[n("p",[t._v("4")])]),t._v(" "),n("div",{staticClass:"num num-5"},[n("p",[t._v("5")])]),t._v(" "),n("div",{staticClass:"num num-6"},[n("p",[t._v("6")])]),t._v(" "),n("div",{staticClass:"num num-7"},[n("p",[t._v("7")])]),t._v(" "),n("div",{staticClass:"num num-8"},[n("p",[t._v("8")])]),t._v(" "),n("div",{staticClass:"num num-9"},[n("p",[t._v("9")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"second number-grp"},[n("div",{staticClass:"number-grp-wrp"},[n("div",{staticClass:"num num-0"},[n("p",[t._v("0")])]),t._v(" "),n("div",{staticClass:"num num-1"},[n("p",[t._v("1")])]),t._v(" "),n("div",{staticClass:"num num-2"},[n("p",[t._v("2")])]),t._v(" "),n("div",{staticClass:"num num-3"},[n("p",[t._v("3")])]),t._v(" "),n("div",{staticClass:"num num-4"},[n("p",[t._v("4")])]),t._v(" "),n("div",{staticClass:"num num-5"},[n("p",[t._v("5")])]),t._v(" "),n("div",{staticClass:"num num-6"},[n("p",[t._v("6")])]),t._v(" "),n("div",{staticClass:"num num-7"},[n("p",[t._v("7")])]),t._v(" "),n("div",{staticClass:"num num-8"},[n("p",[t._v("8")])]),t._v(" "),n("div",{staticClass:"num num-9"},[n("p",[t._v("9")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clock-separator"},[e("p",[this._v(":")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"first number-grp"},[n("div",{staticClass:"number-grp-wrp"},[n("div",{staticClass:"num num-0"},[n("p",[t._v("0")])]),t._v(" "),n("div",{staticClass:"num num-1"},[n("p",[t._v("1")])]),t._v(" "),n("div",{staticClass:"num num-2"},[n("p",[t._v("2")])]),t._v(" "),n("div",{staticClass:"num num-3"},[n("p",[t._v("3")])]),t._v(" "),n("div",{staticClass:"num num-4"},[n("p",[t._v("4")])]),t._v(" "),n("div",{staticClass:"num num-5"},[n("p",[t._v("5")])]),t._v(" "),n("div",{staticClass:"num num-6"},[n("p",[t._v("6")])]),t._v(" "),n("div",{staticClass:"num num-7"},[n("p",[t._v("7")])]),t._v(" "),n("div",{staticClass:"num num-8"},[n("p",[t._v("8")])]),t._v(" "),n("div",{staticClass:"num num-9"},[n("p",[t._v("9")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"second number-grp"},[n("div",{staticClass:"number-grp-wrp"},[n("div",{staticClass:"num num-0"},[n("p",[t._v("0")])]),t._v(" "),n("div",{staticClass:"num num-1"},[n("p",[t._v("1")])]),t._v(" "),n("div",{staticClass:"num num-2"},[n("p",[t._v("2")])]),t._v(" "),n("div",{staticClass:"num num-3"},[n("p",[t._v("3")])]),t._v(" "),n("div",{staticClass:"num num-4"},[n("p",[t._v("4")])]),t._v(" "),n("div",{staticClass:"num num-5"},[n("p",[t._v("5")])]),t._v(" "),n("div",{staticClass:"num num-6"},[n("p",[t._v("6")])]),t._v(" "),n("div",{staticClass:"num num-7"},[n("p",[t._v("7")])]),t._v(" "),n("div",{staticClass:"num num-8"},[n("p",[t._v("8")])]),t._v(" "),n("div",{staticClass:"num num-9"},[n("p",[t._v("9")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification is-warning content"},[e("b",[this._v("Strict mode")]),this._v(" "),e("ul",[e("li",[this._v("You can't stop timer when working")]),this._v(" "),e("li",[this._v("You can't update running task")])])])}],!1,null,null,null);e.default=component.exports},56:function(t,e,n){"use strict";var r=n(12),o=(n(51),n(67),n(30),n(138),n(21),n(6)),l=(n(26),n(55)),c={name:"BTag",props:{attached:Boolean,closable:Boolean,type:String,size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String},methods:{close:function(){this.disabled||this.$emit("close")}}},d=n(3),h=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.attached&&t.closable?n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2)]),t._v(" "),n("a",{staticClass:"tag is-delete",class:[t.size,{"is-rounded":t.rounded}],attrs:{role:"button","aria-label":t.ariaCloseLabel,tabindex:!!t.tabstop&&0,disabled:t.disabled},on:{click:function(e){return t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close())}}})]):n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2),t._v(" "),t.closable?n("a",{staticClass:"delete is-small",attrs:{role:"button","aria-label":t.ariaCloseLabel,disabled:t.disabled,tabindex:!!t.tabstop&&0},on:{click:function(e){return t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close())}}}):t._e()])}),[],!1,null,null,null).exports,v=(n(14),n(41),n(18),n(40),n(39),n(24),n(25),n(7),n(34)),m=n(19);function f(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))){var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var k,y={name:"BAutocomplete",components:Object(o.a)({},m.a.name,m.a),mixins:[v.a],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:function(){return[]}},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function,checkInfiniteScroll:Boolean},data:function(){return{selected:null,hovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",isListInViewportVertically:!0,hasFocus:!1,_isAutocomplete:!0,_elementRef:"input"}},computed:{whiteList:function(){var t=[];if(t.push(this.$refs.input.$el.querySelector("input")),t.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){var e,n=f(this.$refs.dropdown.querySelectorAll("*"));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(t){n.e(t)}finally{n.f()}}if(this.$parent.$data._isTaginput){t.push(this.$parent.$el);var o,l=f(this.$parent.$el.querySelectorAll("*"));try{for(l.s();!(o=l.n()).done;){var c=o.value;t.push(c)}}catch(t){l.e(t)}finally{l.f()}}return t},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer}},watch:{isActive:function(t){var e=this;t?this.calcDropdownInViewportVertical():(this.$nextTick((function(){return e.setHovered(null)})),setTimeout((function(){e.calcDropdownInViewportVertical()}),100))},newValue:function(t){this.$emit("input",t);var e=this.getValue(this.selected);e&&e!==t&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!t||(this.isActive=!!t)},value:function(t){this.newValue=t,!this.isValid&&this.$refs.input.checkHtml5Validity()},data:function(t){this.keepFirst&&this.selectFirstOption(t)}},methods:{setHovered:function(option){void 0!==option&&(this.hovered=option)},setSelected:function(option){var t=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0!==option&&(this.selected=option,this.$emit("select",this.selected),null!==this.selected&&(this.newValue=this.clearOnSelect?"":this.getValue(this.selected)),e&&this.$nextTick((function(){t.isActive=!1})))},selectFirstOption:function(t){var e=this;this.$nextTick((function(){t.length?(e.openOnFocus||""!==e.newValue&&e.hovered!==t[0])&&e.setHovered(t[0]):e.setHovered(null)}))},enterPressed:function(){null!==this.hovered&&this.setSelected(this.hovered)},tabPressed:function(){null!==this.hovered?this.setSelected(this.hovered):this.isActive=!1},clickedOutside:function(t){this.whiteList.indexOf(t.target)<0&&(this.isActive=!1)},getValue:function(option){if(null!==option)return void 0!==this.customFormatter?this.customFormatter(option):"object"===Object(r.a)(option)?Object(l.a)(option,this.field):option},checkIfReachedTheEndOfScroll:function(t){t.clientHeight!==t.scrollHeight&&t.scrollTop+t.clientHeight>=t.scrollHeight&&this.$emit("infinite-scroll")},calcDropdownInViewportVertical:function(){var t=this;this.$nextTick((function(){if(void 0!==t.$refs.dropdown){var rect=t.$refs.dropdown.getBoundingClientRect();t.isListInViewportVertically=rect.top>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)}}))},keyArrows:function(t){var e="down"===t?1:-1;if(this.isActive){var n=this.data.indexOf(this.hovered)+e;n=(n=n>this.data.length-1?this.data.length:n)<0?0:n,this.setHovered(this.data[n]);var r=this.$refs.dropdown.querySelector(".dropdown-content"),element=r.querySelectorAll("a.dropdown-item:not(.is-disabled)")[n];if(!element)return;var o=r.scrollTop,l=r.scrollTop+r.clientHeight-element.clientHeight;element.offsetTop<o?r.scrollTop=element.offsetTop:element.offsetTop>=l&&(r.scrollTop=element.offsetTop-r.clientHeight+element.clientHeight)}else this.isActive=!0},focused:function(t){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.data)),this.hasFocus=!0,this.$emit("focus",t)},onBlur:function(t){this.hasFocus=!1,this.$emit("blur",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e===this.newValue||this.$emit("typing",this.newValue)}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),window.addEventListener("resize",this.calcDropdownInViewportVertical))},mounted:function(){var t=this;if(this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){var e=this.$refs.dropdown.querySelector(".dropdown-content");e.addEventListener("scroll",(function(){return t.checkIfReachedTheEndOfScroll(e)}))}},beforeDestroy:function(){("undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),window.removeEventListener("resize",this.calcDropdownInViewportVertical)),this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content"))&&this.$refs.dropdown.querySelector(".dropdown-content").removeEventListener("scroll",this.checkIfReachedTheEndOfScroll)}},w=Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":t.expanded}},[n("b-input",t._b({ref:"input",attrs:{type:"text",size:t.size,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,autocomplete:t.newAutocomplete,"use-html5-validation":t.useHtml5Validation},on:{input:t.onInput,focus:t.focused,blur:t.onBlur},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.isActive=!1},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.tabPressed(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.enterPressed(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.keyArrows("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.keyArrows("down"))}]},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},"b-input",t.$attrs,!1)),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&(t.data.length>0||t.hasEmptySlot||t.hasHeaderSlot),expression:"isActive && (data.length > 0 || hasEmptySlot || hasHeaderSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":!t.isListInViewportVertically}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"dropdown-content"},[t.hasHeaderSlot?n("div",{staticClass:"dropdown-item"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.data,(function(option,e){return n("a",{key:e,staticClass:"dropdown-item",class:{"is-hovered":option===t.hovered},on:{click:function(e){return t.setSelected(option)}}},[t.hasDefaultSlot?t._t("default",null,{option:option,index:e}):n("span",[t._v("\n                        "+t._s(t.getValue(option,!0))+"\n                    ")])],2)})),t._v(" "),0===t.data.length&&t.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[t._t("empty")],2):t._e(),t._v(" "),t.hasFooterSlot?n("div",{staticClass:"dropdown-item"},[t._t("footer")],2):t._e()],2)])])],1)}),[],!1,null,null,null).exports,C=n(20),x={name:"BTaginput",components:(k={},Object(o.a)(k,w.name,w),Object(o.a)(k,h.name,h),k),mixins:[v.a],inheritAttrs:!1,props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:function(){return C.a.defaultTaginputHasCounter}},field:{type:String,default:"value"},autocomplete:Boolean,nativeAutocomplete:String,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},confirmKeyCodes:{type:Array,default:function(){return[13,188]}},removeOnKeys:{type:Array,default:function(){return[8]}},allowNew:Boolean,onPasteSeparators:{type:Array,default:function(){return[","]}},beforeAdding:{type:Function,default:function(){return!0}},allowDuplicates:{type:Boolean,default:!1},checkInfiniteScroll:{type:Boolean,default:!1}},data:function(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",_elementRef:"input",_isTaginput:!0}},computed:{rootClasses:function(){return{"is-expanded":this.expanded}},containerClasses:function(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength:function(){return this.newTag.trim().length},defaultSlotName:function(){return this.hasDefaultSlot?"default":"dontrender"},emptySlotName:function(){return this.hasEmptySlot?"empty":"dontrender"},headerSlotName:function(){return this.hasHeaderSlot?"header":"dontrender"},footerSlotName:function(){return this.hasFooterSlot?"footer":"dontrender"},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},hasInput:function(){return null==this.maxtags||this.tagsLength<this.maxtags},tagsLength:function(){return this.tags.length},separatorsAsRegExp:function(){var t=this.onPasteSeparators;return t.length?new RegExp(t.map((function(s){return s?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null})).join("|"),"g"):null}},watch:{value:function(t){this.tags=t},hasInput:function(){this.hasInput||this.onBlur()}},methods:{addTag:function(t){var e=t||this.newTag.trim();if(e){if(!this.autocomplete){var n=this.separatorsAsRegExp;if(n&&e.match(n))return void e.split(n).map((function(t){return t.trim()})).filter((function(t){return 0!==t.length})).map(this.addTag)}(!!this.allowDuplicates||-1===this.tags.indexOf(e))&&this.beforeAdding(e)&&(this.tags.push(e),this.$emit("input",this.tags),this.$emit("add",e))}this.newTag=""},getNormalizedTagText:function(t){return"object"===Object(r.a)(t)?Object(l.a)(t,this.field):t},customOnBlur:function(t){this.autocomplete||this.addTag(),this.onBlur(t)},onSelect:function(option){var t=this;option&&(this.addTag(option),this.$nextTick((function(){t.newTag=""})))},removeTag:function(t){var e=this.tags.splice(t,1)[0];return this.$emit("input",this.tags),this.$emit("remove",e),e},removeLastTag:function(){this.tagsLength>0&&this.removeTag(this.tagsLength-1)},keydown:function(t){-1===this.removeOnKeys.indexOf(t.keyCode)||this.newTag.length||this.removeLastTag(),this.autocomplete&&!this.allowNew||this.confirmKeyCodes.indexOf(t.keyCode)>=0&&(t.preventDefault(),this.addTag())},onTyping:function(t){this.$emit("typing",t.trim())},emitInfiniteScroll:function(){this.$emit("infinite-scroll")}}},S=Object(d.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taginput control",class:t.rootClasses},[n("div",{staticClass:"taginput-container",class:[t.statusType,t.size,t.containerClasses],attrs:{disabled:t.disabled},on:{click:function(e){t.hasInput&&t.focus(e)}}},[t._l(t.tags,(function(e,r){return n("b-tag",{key:r,attrs:{type:t.type,size:t.size,rounded:t.rounded,attached:t.attached,tabstop:!1,disabled:t.disabled,ellipsis:t.ellipsis,closable:t.closable,title:t.ellipsis&&t.getNormalizedTagText(e)},on:{close:function(e){return t.removeTag(r)}}},[t._v("\n            "+t._s(t.getNormalizedTagText(e))+"\n        ")])})),t._v(" "),t.hasInput?n("b-autocomplete",t._b({ref:"autocomplete",attrs:{data:t.data,field:t.field,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,"has-counter":!1,size:t.size,disabled:t.disabled,loading:t.loading,autocomplete:t.nativeAutocomplete,"keep-first":!t.allowNew,"use-html5-validation":t.useHtml5Validation,"check-infinite-scroll":t.checkInfiniteScroll},on:{typing:t.onTyping,focus:t.onFocus,blur:t.customOnBlur,select:t.onSelect,"infinite-scroll":t.emitInfiniteScroll},nativeOn:{keydown:function(e){return t.keydown(e)}},scopedSlots:t._u([{key:t.defaultSlotName,fn:function(e){return[t._t("default",null,{option:e.option,index:e.index})]}}],null,!0),model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"b-autocomplete",t.$attrs,!1),[n("template",{slot:t.headerSlotName},[t._t("header")],2),t._v(" "),t._v(" "),n("template",{slot:t.emptySlotName},[t._t("empty")],2),t._v(" "),n("template",{slot:t.footerSlotName},[t._t("footer")],2)],2):t._e()],2),t._v(" "),t.hasCounter&&(t.maxtags||t.maxlength)?n("small",{staticClass:"help counter"},[t.maxlength&&t.valueLength>0?[t._v("\n            "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\n        ")]:t.maxtags?[t._v("\n            "+t._s(t.tagsLength)+" / "+t._s(t.maxtags)+"\n        ")]:t._e()],2):t._e()])}),[],!1,null,null,null);e.a=S.exports},57:function(t,e,n){"use strict";var r=n(12),o=(n(26),n(60)),l={name:"AppIcon",props:{name:String},computed:{path:function(){return"string"==typeof o[this.name]?o[this.name]:o[this.name].path},transform:function(){return"object"===Object(r.a)(o[this.name])?o[this.name].transform:void 0}}},c=(n(473),n(3)),component=Object(c.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("svg",{attrs:{viewBox:"0 0 24 24"}},[e("path",{attrs:{d:this.path,transform:this.transform}})])])}),[],!1,null,null,null);e.a=component.exports},58:function(t,e,n){"use strict";n(21);var r={name:"BDropdownItem",props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses:function(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses:function(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem:function(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable:function(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)},isActive:function(){return null!==this.$parent.selected&&(this.$parent.multiple?this.$parent.selected.indexOf(this.value)>=0:this.value===this.$parent.selected)}},methods:{selectItem:function(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created:function(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.separator?n("hr",{staticClass:"dropdown-divider"}):t.custom||t.hasLink?n("div",{class:t.itemClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2):n("a",{staticClass:"dropdown-item",class:t.anchorClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},68:function(t,e,n){"use strict";var r={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"}]}}},o=(n(469),n(3)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.message))]),t._v(" "),404===t.statusCode?n("p",{staticClass:"description"},[n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt.js")])])}],!1,null,null,null);e.a=component.exports},83:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},87:function(t,e,n){},90:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},99:function(t,e,n){"use strict";n(9);var r=n(2),o=(n(24),n(25),n(7),n(35),n(45),n(17)),l=n(16),c={name:"TaskBoard",props:{tasks:{default:function(){return[]},type:Array},board:{default:null,type:Object},readonly:{default:!1,type:Boolean},tree:{default:!1,type:Boolean}},data:function(){return{activeTasks:[],disabledDrag:this.readonly,loading:!1,boardSlug:this.board?this.board.slug:null}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:this.disabledDrag,ghostClass:"ghost"}},taskOrder:function(){return this.board&&this.board.id?this.board.settings&&this.board.settings.task_order?this.board.settings.task_order:[]:this.$store.state.config.settings.task_order||[]},timerSetting:function(){return this.$store.state.config.settings.timer}},methods:{init_task:function(t){var e=this;this.activeTasks=[];var n=l.cloneDeep(t.filter((function(t){return!["stopped","complete"].includes(t.status)})));this.activeTasks=this.hierarchy(n,{idKey:"id",parentKey:"parent"}),this.activeTasks.forEach((function(t){t.order=t.id?e.taskOrder.indexOf(t.id):0})),this.activeTasks.sort((function(a,b){return a.order-b.order}))},handle_order:function(){var t=this,e=this.activeTasks.map((function(t){return t.id}));this.currentUser?this.board&&this.board.id?this.$axios.$put("/task/boards/".concat(this.boardSlug,"/"),{task_order:e}):this.$axios.$put("/auth/users/".concat(this.currentUser.username,"/"),{task_order:e}).then((function(){t.$store.commit("config/SET_SETTING_ORDER",e)})):localStorage.setItem("task_order",e.toString())},handle_add_child:function(t){this.$store.commit("task/ADD_TASK",t),null===this.currentUser&&this.$indexedDB.add(t)},handle_add:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new o.a({tomato:t.timerSetting.tomato,updating:!0,board:t.board?t.board.id:null}),e.next=3,t.$store.commit("task/ADD_TASK",n);case 3:if(null!==t.currentUser){e.next=6;break}return e.next=6,t.$indexedDB.add(n);case 6:t.handle_order();case 7:case"end":return e.stop()}}),e)})))()}},watch:{tasks:{deep:!0,handler:function(t,e){this.init_task(t),0===t.length&&(this.loading=!0,setTimeout(function(){this.loading=!1}.bind(this),800))}},readonly:function(){this.disabledDrag=this.readonly}},created:function(){this.init_task(this.tasks)}},d=n(3),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board"},[t.readonly?t._e():n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("div",{staticClass:"task has-text-centered",on:{click:t.handle_add}},[n("div",{staticClass:"notification"},[n("x-icon",{attrs:{name:"plus"}})],1)])]),t._v(" "),n("n-link",{staticClass:"media-right",attrs:{to:"/board/visual"}},[n("div",{staticClass:"task"},[n("div",{staticClass:"notification"},[n("x-icon",{attrs:{name:"file-tree-outline"}})],1)])])],1),t._v(" "),!t.loading&&t.activeTasks.length?n("draggable",t._b({on:{change:t.handle_order},model:{value:t.activeTasks,callback:function(e){t.activeTasks=e},expression:"activeTasks"}},"draggable",t.dragOptions,!1),t._l(t.activeTasks,(function(e,i){return n("task",{key:i,staticClass:"master",attrs:{value:e,readonly:t.readonly,tree:t.tree},on:{add:t.handle_add_child,editing:function(e){t.disabledDrag=e},deleted:function(e){return t.$emit("deleted",e)}}})})),1):t._e(),t._v(" "),t.loading?n("div",{staticClass:"tasks"},t._l(5,(function(i){return n("div",{key:i,staticClass:"task"},[t._m(0,!0)])})),0):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification media"},[e("div",{staticClass:"skeleton-task"})])}],!1,null,"1914c646",null);e.a=component.exports}}]);