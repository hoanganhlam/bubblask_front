module.exports=function(t){var e={},n={0:0};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.e=function(e){if(0!==n[e]){var o=require("./"+{1:"80dc4a1760f87c36c733",2:"a5cbae6e29b092f3820e",3:"10a2c279c490955bd71b",4:"cec5e614c7d35e2ad28b",5:"6bee4120a295e0b822d2",6:"8e4dde267407b6ecd281"}[e]+".js"),r=o.modules,l=o.ids;for(var c in r)t[c]=r[c];for(var i=0;i<l.length;i++)n[l[i]]=0}return Promise.all([])},o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},o.p="/_nuxt/",o.oe=function(t){process.nextTick((function(){throw t}))},o(o.s=35)}([function(t,e){t.exports=require("vue")},function(t,e,n){"use strict";function o(t,e,n,o,r,l,c,d){var h,m="function"==typeof t?t.options:t;if(e&&(m.render=e,m.staticRenderFns=n,m._compiled=!0),o&&(m.functional=!0),l&&(m._scopeId="data-v-"+l),c?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},m._ssrRegister=h):r&&(h=d?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(m.functional){m._injectStyles=h;var f=m.render;m.render=function(t,e){return h.call(e),f(t,e)}}else{var v=m.beforeCreate;m.beforeCreate=v?[].concat(v,h):[h]}return{exports:t,options:m}}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));let o={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultIconPrev:"chevron-left",defaultIconNext:"chevron-right",defaultDialogConfirmText:null,defaultDialogCancelText:null,defaultSnackbarDuration:3500,defaultSnackbarPosition:null,defaultToastDuration:2e3,defaultToastPosition:null,defaultNotificationDuration:2e3,defaultNotificationPosition:null,defaultTooltipType:"is-primary",defaultTooltipAnimated:!1,defaultTooltipDelay:0,defaultInputAutocomplete:"on",defaultDateFormatter:null,defaultDateParser:null,defaultDateCreator:null,defaultTimeCreator:null,defaultDayNames:null,defaultMonthNames:null,defaultFirstDayOfWeek:null,defaultUnselectableDaysOfWeek:null,defaultTimeFormatter:null,defaultTimeParser:null,defaultModalCanCancel:["escape","x","outside","button"],defaultModalScroll:null,defaultDatepickerMobileNative:!0,defaultTimepickerMobileNative:!0,defaultNoticeQueue:!0,defaultInputHasCounter:!0,defaultTaginputHasCounter:!0,defaultUseHtml5Validation:!0,defaultDropdownMobileModal:!0,defaultFieldLabelPosition:null,defaultDatepickerYearsRange:[-100,3],defaultDatepickerNearbyMonthDays:!0,defaultDatepickerNearbySelectableMonthDays:!1,defaultDatepickerShowWeekNumber:!1,defaultDatepickerMobileModal:!0,defaultTrapFocus:!1,defaultButtonRounded:!1,defaultCarouselInterval:3500,customIconPacks:null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o={color:{"--task-color":"#FFF","--task-text-color":"#333333","--btn-color":"#cd2653","--btn-text-color":"#FFF","--bg-color-primary":"#FFFFFF","--bg-color-secondary":"#FAFAFA","--bg-color-primary-text":"#333333","--bg-color-secondary-text":"#333333",background:null},timer:{tomato:25,short_break:5,long_break:10,is_strict:!1},task_order:[],notification:{wake_me:5},ws:null}},function(t,e){t.exports=require("lodash")},function(t,e,n){"use strict";function o(t){function e(t){return(t+="").length<2?"0"+t:t}return t.getFullYear()+"/"+e(t.getMonth()+1)+"/"+e(t.getDate())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())}n.d(e,"a",(function(){return r}));class r{constructor({updating:t,uid:e,title:title=null,description:n=null,interval:o=1,tomato:r,times:l,status:c,id:d,parent:h,board:m=null,temp_setting:f,settings:v={},order:_=0,user:y=0}){this.uid=void 0===e?"_"+Math.random().toString(36).substr(2,9):e,this.title=title,this.description=n,this.times=l||[],this.interval=o,this.status=c||"pending",this.tomato=r||25,this.id="number"==typeof d?d:null,this.updating=void 0!==t&&t,this.parent=h,this.board=m,this.temp_setting=f,this.settings=v,this.order=_,this.user=y}changeStatus(t,e){this.updating=!0;let n=this.lastTime(),r=new Date,l={start:o(r),stop_times:[o(r)],due_estimate:o(new Date(r.setSeconds(r.getSeconds()+60*this.tomato)))};if("running"===t)if(["pending","OFF"].includes(this.status))this.times.push(l);else{r=new Date;let t=new Date(n.stop_times[n.stop_times.length-1]),e=(new Date(n.due_estimate).getTime()-t.getTime())/1e3;n.due_estimate=o(new Date(r.setSeconds(r.getSeconds()+e)))}else if("stopping"===t)if(0===e){if(!(this.interval>this.times.length))return void(this.status="complete");this.times.push(l)}else n.stop_times.push(o(new Date));this.status=t}isRunning(){return"running"===this.status}lastTime(){return this.times.length?this.times[this.times.length-1]:null}timeLeft(){let t=this.tomato*this.interval*60;for(let i=0;i<this.times.length;i++){let e=new Date(this.times[i].stop_times[this.times[i].stop_times.length-1]),n=(new Date(this.times[i].due_estimate).getTime()-e.getTime())/1e3;t-=60*this.tomato-n}return t<=0?0:t}totalTimeLeft(){return function t(e){let n=0;if(e.children&&0!==e.children.length||(n+=e.timeLeft()),e.children)for(let i=0;i<e.children.length;i++)n+=t(e.children[i]);return n}(this)}total(){return this.interval*this.tomato*60}timer(){let t=this.lastTime();return t?t.remainder:0}dueDate(){return this.lastTime().due_estimate}check(){if(this.lastTime()&&this.isRunning()){let t=new Date,e=new Date(this.lastTime().due_estimate);t.getTime()>=e.getTime()&&this.changeStatus("stopped")}}}},function(t,e,n){"use strict";var o=n(2);e.a={props:{size:String,expanded:Boolean,loading:Boolean,rounded:Boolean,icon:String,iconPack:String,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:()=>o.a.defaultUseHtml5Validation},validationMessage:String},data(){return{isValid:!0,isFocused:!1,newIconPack:this.iconPack||o.a.defaultIconPack}},computed:{parentField(){let t=this.$parent;for(let i=0;i<3;i++)t&&!t.$data._isField&&(t=t.$parent);return t},statusType(){if(this.parentField&&this.parentField.newType){if("string"==typeof this.parentField.newType)return this.parentField.newType;for(let t in this.parentField.newType)if(this.parentField.newType[t])return t}},statusMessage(){if(this.parentField)return this.parentField.newMessage},iconSize(){switch(this.size){case"is-small":return this.size;case"is-medium":return;case"is-large":return"mdi"===this.newIconPack?"is-medium":""}}},methods:{focus(){void 0!==this.$data._elementRef&&this.$nextTick(()=>{const t=this.$el.querySelector(this.$data._elementRef);t&&t.focus()})},onBlur(t){this.isFocused=!1,this.$emit("blur",t),this.checkHtml5Validity()},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},getElement(){return this.$el.querySelector(this.$data._elementRef)},setInvalid(){let t=this.validationMessage||this.getElement().validationMessage;this.setValidity("is-danger",t)},setValidity(t,e){this.$nextTick(()=>{this.parentField&&(this.parentField.type||(this.parentField.newType=t),this.parentField.message||(this.parentField.newMessage=e))})},checkHtml5Validity(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef])return this.getElement().checkValidity()?(this.setValidity(null,null),this.isValid=!0):(this.setInvalid(),this.isValid=!1),this.isValid}}}},function(t,e,n){"use strict";var o=n(9),r=n(2),l=n(6),c={name:"BInput",components:{"b-icon":o.a},mixins:[l.a],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean,iconClickable:Boolean,hasCounter:{type:Boolean,default:()=>r.a.defaultInputHasCounter},customClass:{type:String,default:""}},data(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||r.a.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get(){return this.newValue},set(t){this.newValue=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},rootClasses(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight(){return this.passwordReveal||this.loading||this.statusTypeIcon},iconPosition(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage(){return!!this.statusMessage},passwordVisibleIcon(){return this.isPasswordVisible?"eye-off":"eye"},valueLength(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value(t){this.newValue=t}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible,console.log(this.newType),this.newType=this.isPasswordVisible?"text":"password",this.$nextTick(()=>{this.$refs.input.focus()})},onInput(t){this.$nextTick(()=>{t.target&&(this.computedValue=t.target.value)})},iconClick(t){this.$emit("icon-click",t),this.$nextTick(()=>{this.$refs.input.focus()})}}},d=n(1),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.rootClasses},[t._ssrNode(("textarea"!==t.type?"<input"+t._ssrAttr("type",t.newType)+t._ssrAttr("autocomplete",t.newAutocomplete)+t._ssrAttr("maxlength",t.maxlength)+t._ssrAttr("value",t.computedValue)+t._ssrAttrs(t.$attrs)+t._ssrClass("input",[t.inputClasses,t.customClass])+">":"<textarea"+t._ssrAttr("maxlength",t.maxlength)+t._ssrAttr("value",t.computedValue)+t._ssrAttrs(t.$attrs)+t._ssrClass("textarea",[t.inputClasses,t.customClass])+"></textarea>")+" "),t.icon?n("x-icon",{staticClass:"is-left",class:{"is-clickable":t.iconClickable},attrs:{name:t.icon,size:t.iconSize},nativeOn:{click:function(e){return t.iconClick(e)}}}):t._e(),t._ssrNode(" "),t.loading||!t.passwordReveal&&!t.statusTypeIcon?t._e():n("x-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal},attrs:{name:"eye"},nativeOn:{click:function(e){return t.togglePasswordVisibility(e)}}}),t._ssrNode(" "+(t.maxlength&&t.hasCounter&&"number"!==t.type?"<small"+t._ssrClass("help counter",{"is-invisible":!t.isFocused})+">"+t._ssrEscape("\n        "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\n    ")+"</small>":"\x3c!----\x3e"))],2)}),[],!1,null,null,"079c675d");e.a=component.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));Math.sign;function o(t,path){return path.split(".").reduce((t,i)=>t?t[i]:null,t)}function r(t){void 0!==t.remove?t.remove():void 0!==t.parentNode&&null!==t.parentNode&&t.parentNode.removeChild(t)}},function(t,e,n){"use strict";var o=n(10),r={name:"AppIcon",props:{name:String},computed:{path(){return"string"==typeof o[this.name]?o[this.name]:o[this.name].path},transform(){return"object"==typeof o[this.name]?o[this.name].transform:void 0}}},l=n(1);var component=Object(l.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"icon"},[this._ssrNode('<svg viewBox="0 0 24 24"><path'+this._ssrAttr("d",this.path)+this._ssrAttr("transform",this.transform)+"></path></svg>")])}),[],!1,(function(t){var e=n(40);e.__inject__&&e.__inject__(t)}),null,"4efcc891");e.a=component.exports},function(t){t.exports=JSON.parse('{"heart":"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z","play":"M8,5.14V19.14L19,12.14L8,5.14Z","plus":"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z","dots-vertical":"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","cogs":"M15.9,18.45C17.25,18.45 18.35,17.35 18.35,16C18.35,14.65 17.25,13.55 15.9,13.55C14.54,13.55 13.45,14.65 13.45,16C13.45,17.35 14.54,18.45 15.9,18.45M21.1,16.68L22.58,17.84C22.71,17.95 22.75,18.13 22.66,18.29L21.26,20.71C21.17,20.86 21,20.92 20.83,20.86L19.09,20.16C18.73,20.44 18.33,20.67 17.91,20.85L17.64,22.7C17.62,22.87 17.47,23 17.3,23H14.5C14.32,23 14.18,22.87 14.15,22.7L13.89,20.85C13.46,20.67 13.07,20.44 12.71,20.16L10.96,20.86C10.81,20.92 10.62,20.86 10.54,20.71L9.14,18.29C9.05,18.13 9.09,17.95 9.22,17.84L10.7,16.68L10.65,16L10.7,15.31L9.22,14.16C9.09,14.05 9.05,13.86 9.14,13.71L10.54,11.29C10.62,11.13 10.81,11.07 10.96,11.13L12.71,11.84C13.07,11.56 13.46,11.32 13.89,11.15L14.15,9.29C14.18,9.13 14.32,9 14.5,9H17.3C17.47,9 17.62,9.13 17.64,9.29L17.91,11.15C18.33,11.32 18.73,11.56 19.09,11.84L20.83,11.13C21,11.07 21.17,11.13 21.26,11.29L22.66,13.71C22.75,13.86 22.71,14.05 22.58,14.16L21.1,15.31L21.15,16L21.1,16.68M6.69,8.07C7.56,8.07 8.26,7.37 8.26,6.5C8.26,5.63 7.56,4.92 6.69,4.92A1.58,1.58 0 0,0 5.11,6.5C5.11,7.37 5.82,8.07 6.69,8.07M10.03,6.94L11,7.68C11.07,7.75 11.09,7.87 11.03,7.97L10.13,9.53C10.08,9.63 9.96,9.67 9.86,9.63L8.74,9.18L8,9.62L7.81,10.81C7.79,10.92 7.7,11 7.59,11H5.79C5.67,11 5.58,10.92 5.56,10.81L5.4,9.62L4.64,9.18L3.5,9.63C3.41,9.67 3.3,9.63 3.24,9.53L2.34,7.97C2.28,7.87 2.31,7.75 2.39,7.68L3.34,6.94L3.31,6.5L3.34,6.06L2.39,5.32C2.31,5.25 2.28,5.13 2.34,5.03L3.24,3.47C3.3,3.37 3.41,3.33 3.5,3.37L4.63,3.82L5.4,3.38L5.56,2.19C5.58,2.08 5.67,2 5.79,2H7.59C7.7,2 7.79,2.08 7.81,2.19L8,3.38L8.74,3.82L9.86,3.37C9.96,3.33 10.08,3.37 10.13,3.47L11.03,5.03C11.09,5.13 11.07,5.25 11,5.32L10.03,6.06L10.06,6.5L10.03,6.94Z","minus":"M19,13H5V11H19V13Z","close":"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z","check":"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z","pause":"M14,19H18V5H14M6,19H10V5H6V19Z","test":{"path":"M194.41,392.29a7.5,7.5,0,1,0,7.5,7.5A7.5,7.5,0,0,0,194.41,392.29Zm-1.237,11.063-3.265-3.262.992-.989,2.273,2.273,4.749-4.751.992.989Z","transform":"translate(-186.91 -392.29)"},"minimize":"M20,14H4V10H20","maximize":"M4,4H20V20H4V4M6,8V18H18V8H6Z","logout":"M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z","trash":"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z","eye":"M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z","file-tree-outline":"M12 13H7V18H12V20H5V10H7V11H12V13M8 4V6H4V4H8M10 2H2V8H10V2M20 11V13H16V11H20M22 9H14V15H22V9M20 18V20H16V18H20M22 16H14V22H22V16Z","tree":"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z","square":"M3,3V21H21V3","square-outline":"M3,3H21V21H3V3M5,5V19H19V5H5Z","pen":"M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z","upload":"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z","lock":"M22 17V16.5C22 15.12 20.88 14 19.5 14S17 15.12 17 16.5V17C16.45 17 16 17.45 16 18V22C16 22.55 16.45 23 17 23H22C22.55 23 23 22.55 23 22V18C23 17.45 22.55 17 22 17M21 17H18V16.5C18 15.67 18.67 15 19.5 15S21 15.67 21 16.5V17M8 8C8 5.79 9.79 4 12 4S16 5.79 16 8 14.21 12 12 12 8 10.21 8 8M14 20H4V18C4 15.79 7.58 14 12 14C13.27 14 14.46 14.15 15.53 14.41C15.32 14.82 15.15 15.25 15.07 15.71C14.42 16.26 14 17.08 14 18V20Z","chevron-down":"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z","chevron-up":"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z","chevron-left":"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z","chevron-right":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z","shield-lock":"M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,21C15.75,20 19,15.54 19,11.22V6.3L12,3.18L5,6.3V11.22C5,15.54 8.25,20 12,21M14.8,11V9.5C14.8,8.1 13.4,7 12,7C10.6,7 9.2,8.1 9.2,9.5V11C8.6,11 8,11.6 8,12.2V15.7C8,16.4 8.6,17 9.2,17H14.7C15.4,17 16,16.4 16,15.8V12.3C16,11.6 15.4,11 14.8,11M13.5,11H10.5V9.5C10.5,8.7 11.2,8.2 12,8.2C12.8,8.2 13.5,8.7 13.5,9.5V11Z","shield-open":"M1,4.27L3,6.27V11C3,16.55 6.84,21.74 12,23C13.87,22.54 15.57,21.56 16.97,20.24L19.23,22.5L20.5,21.22L2.28,3L1,4.27M12,21C8.25,20 5,15.54 5,11.22V8.27L15.59,18.86C14.53,19.89 13.3,20.65 12,21M21,5V11C21,13.28 20.35,15.5 19.23,17.4L17.77,15.95C18.54,14.5 19,12.84 19,11.22V6.3L12,3.18L7.16,5.34L5.65,3.82L12,1L21,5Z","ws":"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z","fb":"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z","tw":"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z","li":"M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5A2 2 0 0 1 5 3H19M18.5 18.5V13.2A3.26 3.26 0 0 0 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17A1.4 1.4 0 0 1 15.71 13.57V18.5H18.5M6.88 8.56A1.68 1.68 0 0 0 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19A1.69 1.69 0 0 0 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56M8.27 18.5V10.13H5.5V18.5H8.27Z","board":"M4 7V21H18V23H4C2.9 23 2 22.1 2 21V7H4M20 3C21.1 3 22 3.9 22 5V17C22 18.1 21.1 19 20 19H8C6.9 19 6 18.1 6 17V5C6 3.9 6.9 3 8 3H11.18C11.6 1.84 12.7 1 14 1C15.3 1 16.4 1.84 16.82 3H20M14 3C13.45 3 13 3.45 13 4C13 4.55 13.45 5 14 5C14.55 5 15 4.55 15 4C15 3.45 14.55 3 14 3M10 7V5H8V17H20V5H18V7H10Z","tag":"M21.41,11.58L12.41,2.58C12.04,2.21 11.53,2 11,2H4A2,2 0 0,0 2,4V11C2,11.53 2.21,12.04 2.59,12.41L3,12.81C3.9,12.27 4.94,12 6,12A6,6 0 0,1 12,18C12,19.06 11.72,20.09 11.18,21L11.58,21.4C11.95,21.78 12.47,22 13,22C13.53,22 14.04,21.79 14.41,21.41L21.41,14.41C21.79,14.04 22,13.53 22,13C22,12.47 21.79,11.96 21.41,11.58M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M10,19H7V22H5V19H2V17H5V14H7V17H10V19Z","label":"M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z","poll":"M3,22V8H7V22H3M10,22V2H14V22H10M17,22V14H21V22H17Z","account":"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,3.18L19,6.3V11.22C19,12.92 18.5,14.65 17.65,16.17C16,14.94 13.26,14.5 12,14.5C10.74,14.5 8,14.94 6.35,16.17C5.5,14.65 5,12.92 5,11.22V6.3L12,3.18M12,6A3.5,3.5 0 0,0 8.5,9.5A3.5,3.5 0 0,0 12,13A3.5,3.5 0 0,0 15.5,9.5A3.5,3.5 0 0,0 12,6M12,8A1.5,1.5 0 0,1 13.5,9.5A1.5,1.5 0 0,1 12,11A1.5,1.5 0 0,1 10.5,9.5A1.5,1.5 0 0,1 12,8M12,16.5C13.57,16.5 15.64,17.11 16.53,17.84C15.29,19.38 13.7,20.55 12,21C10.3,20.55 8.71,19.38 7.47,17.84C8.37,17.11 10.43,16.5 12,16.5Z","report":"M15 3H5A2 2 0 0 0 3 5V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V9L15 3M19 19H5V5H14V10H19M17 14H7V12H17M14 17H7V15H14"}')},function(t,e){t.exports=require("vue-router")},function(t,e){t.exports=require("axios")},function(t,e){t.exports=require("moment")},function(t,e,n){"use strict";var o=n(6);const r="undefined"==typeof window,l=(r||window.HTMLElement,r?Object:window.File);var c={name:"BUpload",mixins:[o.a],inheritAttrs:!1,props:{value:{type:[Object,Function,l,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},data(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value(t){let e=this.$refs.input.files;this.newValue=t,(!this.newValue||Array.isArray(this.newValue)&&0===this.newValue.length||!e[0]||Array.isArray(this.newValue)&&!this.newValue.some((function(a){return a.name===e[0].name})))&&(this.$refs.input.value=null),!this.isValid&&!this.dragDrop&&this.checkHtml5Validity()}},methods:{onFileChange(t){if(this.disabled||this.loading)return;this.dragDrop&&this.updateDragDropFocus(!1);const e=t.target.files||t.dataTransfer.files;if(0===e.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){let t=!1;!this.native&&this.newValue||(this.newValue=[],t=!0);for(let i=0;i<e.length;i++){const n=e[i];this.checkType(n)&&(this.newValue.push(n),t=!0)}if(!t)return}else{if(this.dragDrop&&1!==e.length)return;{const t=e[0];if(this.checkType(t))this.newValue=t;else{if(!this.newValue)return;this.newValue=null}}}this.$emit("input",this.newValue),!this.dragDrop&&this.checkHtml5Validity()},updateDragDropFocus(t){this.disabled||this.loading||(this.dragDropFocus=t)},checkType(t){if(!this.accept)return!0;const e=this.accept.split(",");if(0===e.length)return!0;let n=!1;for(let i=0;i<e.length&&!n;i++){const o=e[i].trim();if(o)if("."===o.substring(0,1)){const e=t.name.lastIndexOf(".");(e>=0?t.name.substring(e):"").toLowerCase()===o.toLowerCase()&&(n=!0)}else t.type.match(o)&&(n=!0)}return n}}},d=n(1),h={components:{"b-upload":Object(d.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{staticClass:"upload control",class:{"is-expanded":t.expanded}},[t.dragDrop?t._ssrNode("<div"+t._ssrClass("upload-draggable",[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus,"is-expanded":t.expanded}])+">","</div>",[t._t("default")],2):[t._t("default")],t._ssrNode(' <input type="file"'+t._ssrAttr("multiple",t.multiple)+t._ssrAttr("accept",t.accept)+t._ssrAttr("disabled",t.disabled)+t._ssrAttrs(t.$attrs)+">")],2)}),[],!1,null,null,"0a7dc1b2").exports},props:{text:{},multiple:{type:Boolean,default:!1}},data:()=>({dropFiles:[],isLoading:!1}),name:"upload",methods:{async handleInput(data){let t=[];if(this.isLoading=!0,this.multiple)for(let i=0;i<data.length;i++){let e=await this.beforeUpload(data[i]);t.push(e)}else{let e=await this.beforeUpload(data);t.push(e)}this.$emit("done",t),this.dropFiles=[],this.isLoading=!1},async beforeUpload(t){let e=new FormData;return e.append("path",t),e.append("title",t.name),await this.$axios.$post("/media/medias/",e)}}},m={name:"Avatar",components:{Upload:Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-upload",{attrs:{multiple:t.multiple,"drag-drop":""},on:{input:t.handleInput},model:{value:t.dropFiles,callback:function(e){t.dropFiles=e},expression:"dropFiles"}},[n("div",{staticClass:"content has-text-centered"},[n("p",[n("x-icon",{attrs:{name:"upload",size:"is-large"}})],1),t._v(" "),t.text?n("p",[t._v(t._s(t.text))]):t._e()])])}),[],!1,null,null,"5df7d3ce").exports},props:{canUpdate:{type:Boolean,default:!1},value:{default:null,type:Object},name:{default:null},icon:{default:"account-circle-outline",type:String},imageSize:{default:"thumb_96_96",type:String}},data(){return{data:this.value,isUpdating:!1}},methods:{handleUpload(t){t.length&&(this.data=t[0],this.isUpdating=!1)},getRandomInt:t=>Math.floor(Math.random()*Math.floor(t))},watch:{data(){this.$emit("input",this.data)},value(){this.data=this.value}}};var f=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image avatar relative",class:{initials:!(t.isUpdating||t.data&&t.data.sizes)}},[t.isUpdating?n("Upload",{staticClass:"upload",on:{done:t.handleUpload}}):t.data&&t.data.sizes?n("img",{staticClass:"is-round",attrs:{src:t.cleanURI((t.data.sizes[t.imageSize],t.data.sizes[t.imageSize])),alt:""}}):t.name?n("span",[t._v(t._s(t.avatarName(t.name,2)))]):t.canUpdate?n("div",{staticClass:"image-blank"}):n("img",{attrs:{src:"/avatar/"+t.getRandomInt(4)+".png",alt:""}}),t._ssrNode(" "),t.canUpdate?t._ssrNode('<div class="medal">',"</div>",[n("x-icon",{attrs:{size:"is-small",name:t.isUpdating?"close":"upload"}})],1):t._e(),t._ssrNode(" "+(t.canUpdate&&t.data?'<div class="delete"></div>':"\x3c!----\x3e"))],2)}),[],!1,(function(t){var e=n(39);e.__inject__&&e.__inject__(t)}),null,"710d451e");e.a=f.exports},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e,n){"use strict";var o={name:"BDropdownItem",props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)},isActive(){return null!==this.$parent.selected&&(this.$parent.multiple?this.$parent.selected.indexOf(this.value)>=0:this.value===this.$parent.selected)}},methods:{selectItem(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")}},r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.separator?n("hr",{staticClass:"dropdown-divider"}):t.custom||t.hasLink?n("div",{class:t.itemClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2):n("a",{staticClass:"dropdown-item",class:t.anchorClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2)}),[],!1,null,null,"15885bda");e.a=component.exports},function(t,e){t.exports=require("vue-no-ssr")},function(t,e){t.exports=require("vue-client-only")},function(t,e){t.exports=require("vuex")},function(t,e,n){"use strict";var o=n(8),r={name:"BTag",props:{attached:Boolean,closable:Boolean,type:String,size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String},methods:{close(){this.disabled||this.$emit("close")}}},l=n(1),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.attached&&t.closable?n("div",{staticClass:"tags has-addons"},[t._ssrNode("<span"+t._ssrClass("tag",[t.type,t.size,{"is-rounded":t.rounded}])+">","</span>",[t._ssrNode("<span"+t._ssrClass(null,{"has-ellipsis":t.ellipsis})+">","</span>",[t._t("default")],2)]),t._ssrNode(' <a role="button"'+t._ssrAttr("aria-label",t.ariaCloseLabel)+t._ssrAttr("tabindex",!!t.tabstop&&0)+t._ssrAttr("disabled",t.disabled)+t._ssrClass("tag is-delete",[t.size,{"is-rounded":t.rounded}])+"></a>")],2):n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[t._ssrNode("<span"+t._ssrClass(null,{"has-ellipsis":t.ellipsis})+">","</span>",[t._t("default")],2),t._ssrNode(" "+(t.closable?'<a role="button"'+t._ssrAttr("aria-label",t.ariaCloseLabel)+t._ssrAttr("disabled",t.disabled)+t._ssrAttr("tabindex",!!t.tabstop&&0)+' class="delete is-small"></a>':"\x3c!----\x3e"))],2)}),[],!1,null,null,"777449bd").exports,d=n(6),h=n(7),m={name:"BAutocomplete",components:{[h.a.name]:h.a},mixins:[d.a],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:()=>[]},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function,checkInfiniteScroll:Boolean},data(){return{selected:null,hovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",isListInViewportVertically:!0,hasFocus:!1,_isAutocomplete:!0,_elementRef:"input"}},computed:{whiteList(){const t=[];if(t.push(this.$refs.input.$el.querySelector("input")),t.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){const e=this.$refs.dropdown.querySelectorAll("*");for(const n of e)t.push(n)}if(this.$parent.$data._isTaginput){t.push(this.$parent.$el);const e=this.$parent.$el.querySelectorAll("*");for(const n of e)t.push(n)}return t},hasDefaultSlot(){return!!this.$scopedSlots.default},hasEmptySlot(){return!!this.$slots.empty},hasHeaderSlot(){return!!this.$slots.header},hasFooterSlot(){return!!this.$slots.footer}},watch:{isActive(t){t?this.calcDropdownInViewportVertical():(this.$nextTick(()=>this.setHovered(null)),setTimeout(()=>{this.calcDropdownInViewportVertical()},100))},newValue(t){this.$emit("input",t);const e=this.getValue(this.selected);e&&e!==t&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!t||(this.isActive=!!t)},value(t){this.newValue=t,!this.isValid&&this.$refs.input.checkHtml5Validity()},data(t){this.keepFirst&&this.selectFirstOption(t)}},methods:{setHovered(option){void 0!==option&&(this.hovered=option)},setSelected(option,t=!0){void 0!==option&&(this.selected=option,this.$emit("select",this.selected),null!==this.selected&&(this.newValue=this.clearOnSelect?"":this.getValue(this.selected)),t&&this.$nextTick(()=>{this.isActive=!1}))},selectFirstOption(t){this.$nextTick(()=>{t.length?(this.openOnFocus||""!==this.newValue&&this.hovered!==t[0])&&this.setHovered(t[0]):this.setHovered(null)})},enterPressed(){null!==this.hovered&&this.setSelected(this.hovered)},tabPressed(){null!==this.hovered?this.setSelected(this.hovered):this.isActive=!1},clickedOutside(t){this.whiteList.indexOf(t.target)<0&&(this.isActive=!1)},getValue(option){if(null!==option)return void 0!==this.customFormatter?this.customFormatter(option):"object"==typeof option?Object(o.a)(option,this.field):option},checkIfReachedTheEndOfScroll(t){t.clientHeight!==t.scrollHeight&&t.scrollTop+t.clientHeight>=t.scrollHeight&&this.$emit("infinite-scroll")},calcDropdownInViewportVertical(){this.$nextTick(()=>{if(void 0===this.$refs.dropdown)return;const rect=this.$refs.dropdown.getBoundingClientRect();this.isListInViewportVertically=rect.top>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)})},keyArrows(t){const e="down"===t?1:-1;if(this.isActive){let t=this.data.indexOf(this.hovered)+e;t=t>this.data.length-1?this.data.length:t,t=t<0?0:t,this.setHovered(this.data[t]);const n=this.$refs.dropdown.querySelector(".dropdown-content"),element=n.querySelectorAll("a.dropdown-item:not(.is-disabled)")[t];if(!element)return;const o=n.scrollTop,r=n.scrollTop+n.clientHeight-element.clientHeight;element.offsetTop<o?n.scrollTop=element.offsetTop:element.offsetTop>=r&&(n.scrollTop=element.offsetTop-n.clientHeight+element.clientHeight)}else this.isActive=!0},focused(t){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.data)),this.hasFocus=!0,this.$emit("focus",t)},onBlur(t){this.hasFocus=!1,this.$emit("blur",t)},onInput(t){const e=this.getValue(this.selected);e&&e===this.newValue||this.$emit("typing",this.newValue)}},created(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),window.addEventListener("resize",this.calcDropdownInViewportVertical))},mounted(){if(this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){const t=this.$refs.dropdown.querySelector(".dropdown-content");t.addEventListener("scroll",()=>this.checkIfReachedTheEndOfScroll(t))}},beforeDestroy(){if("undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),window.removeEventListener("resize",this.calcDropdownInViewportVertical)),this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){this.$refs.dropdown.querySelector(".dropdown-content").removeEventListener("scroll",this.checkIfReachedTheEndOfScroll)}}},f=Object(l.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":t.expanded}},[n("b-input",t._b({ref:"input",attrs:{type:"text",size:t.size,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,autocomplete:t.newAutocomplete,"use-html5-validation":t.useHtml5Validation},on:{input:t.onInput,focus:t.focused,blur:t.onBlur},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.isActive=!1},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.tabPressed(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.enterPressed(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.keyArrows("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.keyArrows("down"))}]},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},"b-input",t.$attrs,!1)),t._ssrNode(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&(t.data.length>0||t.hasEmptySlot||t.hasHeaderSlot),expression:"isActive && (data.length > 0 || hasEmptySlot || hasHeaderSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":!t.isListInViewportVertically}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"dropdown-content"},[t.hasHeaderSlot?n("div",{staticClass:"dropdown-item"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.data,(function(option,e){return n("a",{key:e,staticClass:"dropdown-item",class:{"is-hovered":option===t.hovered},on:{click:function(e){return t.setSelected(option)}}},[t.hasDefaultSlot?t._t("default",null,{option:option,index:e}):n("span",[t._v("\n                        "+t._s(t.getValue(option,!0))+"\n                    ")])],2)})),t._v(" "),0===t.data.length&&t.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[t._t("empty")],2):t._e(),t._v(" "),t.hasFooterSlot?n("div",{staticClass:"dropdown-item"},[t._t("footer")],2):t._e()],2)])])],2)}),[],!1,null,null,"177237f2").exports,v=n(2),_={name:"BTaginput",components:{[f.name]:f,[c.name]:c},mixins:[d.a],inheritAttrs:!1,props:{value:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},type:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:()=>v.a.defaultTaginputHasCounter},field:{type:String,default:"value"},autocomplete:Boolean,nativeAutocomplete:String,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},confirmKeyCodes:{type:Array,default:()=>[13,188]},removeOnKeys:{type:Array,default:()=>[8]},allowNew:Boolean,onPasteSeparators:{type:Array,default:()=>[","]},beforeAdding:{type:Function,default:()=>!0},allowDuplicates:{type:Boolean,default:!1},checkInfiniteScroll:{type:Boolean,default:!1}},data(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",_elementRef:"input",_isTaginput:!0}},computed:{rootClasses(){return{"is-expanded":this.expanded}},containerClasses(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength(){return this.newTag.trim().length},defaultSlotName(){return this.hasDefaultSlot?"default":"dontrender"},emptySlotName(){return this.hasEmptySlot?"empty":"dontrender"},headerSlotName(){return this.hasHeaderSlot?"header":"dontrender"},footerSlotName(){return this.hasFooterSlot?"footer":"dontrender"},hasDefaultSlot(){return!!this.$scopedSlots.default},hasEmptySlot(){return!!this.$slots.empty},hasHeaderSlot(){return!!this.$slots.header},hasFooterSlot(){return!!this.$slots.footer},hasInput(){return null==this.maxtags||this.tagsLength<this.maxtags},tagsLength(){return this.tags.length},separatorsAsRegExp(){const t=this.onPasteSeparators;return t.length?new RegExp(t.map(s=>s?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null).join("|"),"g"):null}},watch:{value(t){this.tags=t},hasInput(){this.hasInput||this.onBlur()}},methods:{addTag(t){const e=t||this.newTag.trim();if(e){if(!this.autocomplete){const t=this.separatorsAsRegExp;if(t&&e.match(t))return void e.split(t).map(t=>t.trim()).filter(t=>0!==t.length).map(this.addTag)}(!!this.allowDuplicates||-1===this.tags.indexOf(e))&&this.beforeAdding(e)&&(this.tags.push(e),this.$emit("input",this.tags),this.$emit("add",e))}this.newTag=""},getNormalizedTagText(t){return"object"==typeof t?Object(o.a)(t,this.field):t},customOnBlur(t){this.autocomplete||this.addTag(),this.onBlur(t)},onSelect(option){option&&(this.addTag(option),this.$nextTick(()=>{this.newTag=""}))},removeTag(t){const e=this.tags.splice(t,1)[0];return this.$emit("input",this.tags),this.$emit("remove",e),e},removeLastTag(){this.tagsLength>0&&this.removeTag(this.tagsLength-1)},keydown(t){-1===this.removeOnKeys.indexOf(t.keyCode)||this.newTag.length||this.removeLastTag(),this.autocomplete&&!this.allowNew||this.confirmKeyCodes.indexOf(t.keyCode)>=0&&(t.preventDefault(),this.addTag())},onTyping(t){this.$emit("typing",t.trim())},emitInfiniteScroll(){this.$emit("infinite-scroll")}}},y=Object(l.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taginput control",class:t.rootClasses},[t._ssrNode("<div"+t._ssrAttr("disabled",t.disabled)+t._ssrClass("taginput-container",[t.statusType,t.size,t.containerClasses])+">","</div>",[t._l(t.tags,(function(e,o){return n("b-tag",{key:o,attrs:{type:t.type,size:t.size,rounded:t.rounded,attached:t.attached,tabstop:!1,disabled:t.disabled,ellipsis:t.ellipsis,closable:t.closable,title:t.ellipsis&&t.getNormalizedTagText(e)},on:{close:function(e){return t.removeTag(o)}}},[t._v("\n            "+t._s(t.getNormalizedTagText(e))+"\n        ")])})),t._ssrNode(" "),t.hasInput?n("b-autocomplete",t._b({ref:"autocomplete",attrs:{data:t.data,field:t.field,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,"has-counter":!1,size:t.size,disabled:t.disabled,loading:t.loading,autocomplete:t.nativeAutocomplete,"keep-first":!t.allowNew,"use-html5-validation":t.useHtml5Validation,"check-infinite-scroll":t.checkInfiniteScroll},on:{typing:t.onTyping,focus:t.onFocus,blur:t.customOnBlur,select:t.onSelect,"infinite-scroll":t.emitInfiniteScroll},nativeOn:{keydown:function(e){return t.keydown(e)}},scopedSlots:t._u([{key:t.defaultSlotName,fn:function(e){return[t._t("default",null,{option:e.option,index:e.index})]}}],null,!0),model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"b-autocomplete",t.$attrs,!1),[n("template",{slot:t.headerSlotName},[t._t("header")],2),t._v(" "),t._v(" "),n("template",{slot:t.emptySlotName},[t._t("empty")],2),t._v(" "),n("template",{slot:t.footerSlotName},[t._t("footer")],2)],2):t._e()],2),t._ssrNode(" "+(t.hasCounter&&(t.maxtags||t.maxlength)?'<small class="help counter">'+(t.maxlength&&t.valueLength>0?t._ssrEscape("\n            "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\n        "):t.maxtags?t._ssrEscape("\n            "+t._s(t.tagsLength)+" / "+t._s(t.maxtags)+"\n        "):"\x3c!----\x3e")+"</small>":"\x3c!----\x3e"))],2)}),[],!1,null,null,"9fa52ef2");e.a=y.exports},function(t,e){t.exports=require("querystring")},function(t,e){t.exports=require("node-fetch")},function(t,e){t.exports=require("vue-meta")},function(t,e){t.exports=require("vue-color")},function(t,e){t.exports=require("cookie-universal")},function(t,e){t.exports=require("defu")},function(t,e){t.exports=require("vuedraggable")},function(t,e,n){"use strict";n.r(e);var o={name:"Board",props:{value:{type:Object}},data(){return{board:this.value}}},r=n(1);var l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[t._ssrNode('<div class="card-content">',"</div>",[t._ssrNode('<div class="media">',"</div>",[t._ssrNode('<div class="media-content">',"</div>",[t._ssrNode("<b>","</b>",[n("n-link",{attrs:{to:"/board/"+t.board.slug+"/"}},[t._v(t._s(t.board.title))])],1)]),t._ssrNode(' <div class="media-right"></div>')],2)])])}),[],!1,(function(t){}),null,"f3407f04").exports,c=n(14),d={name:"BoardList",components:{Board:l},data:()=>({response:{results:[],count:0},loading:!1,page:1}),methods:{async fetch(){this.loading=!0,this.response.results=[],this.response=await this.$axios.$get("/task/boards/",{params:{user:this.currentUser.id,page_size:4,only_user:!0,page:this.page}}),this.loading=!1},async clickFetch(t){this.page=t?this.page+1:this.page-1,await this.fetch()}},computed:{total(){return this.response.count/2}},created(){this.fetch()}},h=Object(r.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subsection"},[t._ssrNode('<div class="level is-mobile">',"</div>",[t._ssrNode('<div class="level-left"><h4 class="widget_title">Your Board</h4></div> '),t._ssrNode('<div class="level-right">',"</div>",[t._ssrNode('<div class="buttons">',"</div>",[t.page>1?t._ssrNode('<div class="button is-small previous">',"</div>",[n("x-icon",{attrs:{name:"chevron-left"}})],1):t._e(),t._ssrNode(" "),t.page<t.total?t._ssrNode('<div class="button is-small next">',"</div>",[n("x-icon",{attrs:{name:"chevron-right"}})],1):t._e()],2)])],2),t._ssrNode(" "),t.response.results.length?t._ssrNode('<div class="columns is-multiline">',"</div>",t._l(t.response.results,(function(e){return t._ssrNode('<div class="column is-3">',"</div>",[n("board",{attrs:{value:e}})],1)})),0):t._e(),t._ssrNode(" "+(t.loading?'<div class="columns is-multiline">'+t._ssrList(4,(function(i){return'<div class="column is-3"><div class="card"><div class="card-content"><div class="skeleton-line"></div></div></div></div>'}))+"</div>":"\x3c!----\x3e"))],2)}),[],!1,null,null,"51a1f33c").exports,m={name:"Template",components:{BInput:n(7).a,BoardList:h,Avatar:c.a,Board:l},async asyncData({$axios:t,query:e}){let n=await t.$get("/general/hash-tags/?for_model=board");return e.page_size=9,e.page=e.page?Number.parseInt(e.page):1,{taxonomies:n.results,query:e,response:await t.$get("/task/boards/",{params:e})}},data:()=>({response:{results:[],count:0},tag:null,selectedTax:[]}),methods:{async fetch(){this.response.results=[],this.response=await this.$axios.$get("/task/boards/",{params:this.query})},create(){this.currentUser&&this.$axios.$post("/task/boards/",{title:"Untitled"}).then(t=>{this.$router.replace({path:`/board/${t.slug}/`})})},clickTag(t,e){this.selectedTax.push(e.id),t.preventDefault(),this.tag&&e.id!==this.tag.id||null===this.tag?this.tag=e:this.tag=null,this.tag?this.query.tag=this.tag.id:this.query.tag=void 0,this.query.page=1,this.fetch()},async paging(t){if(t){if(!(this.response.count/this.query.page_size>this.query.page))return;this.query.page++}else{if(!(this.query.page>1))return;this.query.page--}await this.fetch()}}};var f=Object(r.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._ssrNode('<div class="section">',"</div>",[t._ssrNode('<div class="container">',"</div>",[t._ssrNode('<div class="level is-mobile">',"</div>",[t._ssrNode('<div class="level-left"><h1 class="title is-spaced">Board</h1></div> '),t._ssrNode('<div class="level-right">',"</div>",[t.currentUser?t._ssrNode('<div class="button is-light">',"</div>",[n("x-icon",{attrs:{name:"plus"}}),t._ssrNode(" <span>Create</span>")],2):t._e()])],2),t._ssrNode(' <div class="subtitle">Get or sharing template to learn something by expert!</div> '),1===t.query.page?t._ssrNode("<div>","</div>",[t.currentUser?n("board-list"):t._e()],1):t._e(),t._ssrNode(" "),t._ssrNode('<div class="subsection">',"</div>",[t._ssrNode('<h2 class="title has-text-centered">Template</h2> '),t._ssrNode('<div class="field">',"</div>",[t._ssrNode('<div class="control">',"</div>",[n("b-input",{attrs:{type:"search",placeholder:"Learn something"}})],1)]),t._ssrNode(" "+(t.taxonomies.length?'<div class="buttons">'+t._ssrList(t.taxonomies,(function(e){return"<a"+t._ssrAttr("href","/board/?tag="+e.id)+t._ssrClass("button is-small",{"is-primary":t.tag&&t.tag.id===e.id})+">"+t._ssrEscape(t._s(e.title))+"</a>"}))+"</div>":"\x3c!----\x3e")+' <div class="level is-mobile"><div class="level-left"><h4 class="widget_title">List</h4></div> <div class="level-right"><div class="buttons"><div'+t._ssrClass("button is-small",{"is-static":1===t.query.page})+">\n                                Previous\n                            </div> <div"+t._ssrClass("button is-small",{"is-static":t.response.count/t.query.page_size<=t.query.page})+">Next\n                            </div></div></div></div> "),t.response.results.length?t._ssrNode('<div class="columns is-multiline">',"</div>",t._l(t.response.results,(function(e){return t._ssrNode('<div class="column is-4">',"</div>",[t._ssrNode('<div class="media box clickable template-board">',"</div>",[t._ssrNode('<div class="media-left">',"</div>",[n("avatar",{staticClass:"is-48x48",attrs:{value:e.media}})],1),t._ssrNode(" "),t._ssrNode('<div class="media-content">',"</div>",[t._ssrNode('<h4 class="widget-title">',"</h4>",[n("n-link",{attrs:{to:"/board/"+e.slug}},[t._v(t._s(e.title))])],1),t._ssrNode(" <p>"+t._ssrEscape(t._s(e.description))+"</p> <small>3 Tasks</small>")],2)],2)])})),0):t._ssrNode('<div class="columns is-multiline">'+t._ssrList(t.query.page_size,(function(i){return'<div class="column is-4"><div class="box"><div class="skeleton-board"></div></div></div>'}))+"</div>")],2)],2)])])}),[],!1,(function(t){var e=n(42);e.__inject__&&e.__inject__(t)}),null,"72ac4f7d");e.default=f.exports},function(t,e,n){t.exports=n(52)},function(t,e,n){"use strict";n.r(e);var o=n(15),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e);var o=n(16),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e){t.exports={}},function(t,e,n){"use strict";n.r(e);var o=n(17),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e);var o=n(18),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e);var o=n(19),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e);var o=n(20),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e);var o=n(21),r=n.n(o);for(var l in o)"default"!==l&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},function(t,e,n){"use strict";n.r(e),e.default={namespaced:!0,state:()=>({user:null,token:null,loggedIn:!1,openAuth:!1}),mutations:{SET_USER(t,e){t.user=e,t.loggedIn=!!e},SET_TOKEN(t,e){t.token=e},SET_OPEN_AUTH(t,e){t.openAuth=e}},actions:{},getters:{getUser:t=>t.user}}},function(t,e,n){"use strict";n.r(e);var o=n(3);e.default={namespaced:!0,state:()=>({contentTypes:null,settings:o.a,ws:!1}),mutations:{SET_CONTENT_TYPE(t,e){t.contentTypes=e},SET_SETTING_COLOR(t,e){t.settings.color=e},SET_SETTING_BACKGROUND(t,e){t.settings.color.background=e},SET_SETTING_ORDER(t,e){t.settings.task_order=e},SET_SETTING_GRAPH(t,e){t.settings.task_graph_setting=e},SET_STRICT(t,e){t.settings.timer.is_strict=e},SET_SETTING(t,e){t.settings=e?{color:e.color?e.color:o.a.color,timer:e.timer?e.timer:o.a.timer,task_order:e.task_order?e.task_order:o.a.task_order,notification:e.notification?e.notification:o.a.notification,task_graph_setting:e.task_graph_setting?e.task_graph_setting:o.a.task_graph_setting}:o.a},SET_WS(t,e){t.ws=e}},actions:{setColorSetting(t,e){t.commit("SET_SETTING_COLOR",e)}}}},function(t,e,n){"use strict";n.r(e),e.default={namespaced:!0,state:()=>({form:null}),mutations:{SET_FORM(t,form){t.form=form}},actions:{},getters:{getForm:t=>t.form}}},function(t,e,n){"use strict";n.r(e),e.default={namespaced:!0,state:()=>({article:null}),mutations:{SET_ARTICLE(t,article){t.article=article}},actions:{},getters:{getArticle:t=>t.article}}},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);e.default={namespaced:!0,state:()=>({running:null,tasks:[],timer:0}),mutations:{SET_RUNNING(t,e){let n=[];null===e?t.running&&(t.running.changeStatus("stopping"),n.push(t.running),t.running=null):(t.running&&t.running.uid===e.uid?(e.changeStatus("stopping"),t.running=null):(t.running&&(t.running.changeStatus("stopping"),n.push(t.running)),e.changeStatus("running"),t.running=e),n.push(e)),n.forEach(e=>{let n=t.tasks.map(t=>t.uid).indexOf(e.uid);r.a.set(t.tasks,n,e)})},SET_TASKS(t,e){t.tasks=e},ADD_TASK(t,e){t.tasks.unshift(e),e.check(),e.isRunning()&&(t.running=e)},UPDATE_TASK(t,e){e.updating=!e.force,delete e.force;let n=t.tasks.map(t=>t.uid).indexOf(e.uid);n>=0?r.a.set(t.tasks,n,e):t.tasks.push(e)},REMOVE_TASK(t,e){let n=t.tasks.map(t=>t.uid).indexOf(e.uid);t.tasks.splice(n,1)}},actions:{},getters:{}}},function(t,e){},function(t,e){t.exports=require("cookieparser")},function(t,e){t.exports=require("chart.js")},function(t,e,n){"use strict";n.r(e);var o=n(27),r=n(0),l=n.n(r),c=n(28),d=n.n(c);var h={};function m(t){return t.then(t=>t.default||t)}function f(t){return t.options&&t._Ctor===t||(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=l.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file)),t}function v(t,e=!1,n="components"){return Array.prototype.concat.apply([],t.matched.map((t,o)=>Object.keys(t[n]).map(r=>(e&&e.push(o),t[n][r]))))}function y(t,e){return Promise.all(function(t,e){return Array.prototype.concat.apply([],t.matched.map((t,n)=>Object.keys(t.components).reduce((o,r)=>(t.components[r]?o.push(e(t.components[r],t.instances[r],t,r,n)):delete t.components[r],o),[])))}(t,async(t,n,o,r)=>("function"!=typeof t||t.options||(t=await t()),o.components[r]=t=f(t),"function"==typeof e?e(t,n,o,r):t)))}async function w(t){if(t)return await y(t),{...t,meta:v(t).map((e,n)=>({...e.options.meta,...(t.matched[n]||{}).meta}))}}async function x(t,e){t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:e.payload,error:e.error,base:"/",env:{BASE_URL:"https://bubblask.com",API_DOMAIN:"https://api.bubblask.com",NODE_ENV:"production"}},e.req&&(t.context.req=e.req),e.res&&(t.context.res=e.res),e.ssrContext&&(t.context.ssrContext=e.ssrContext),t.context.redirect=(e,path,n)=>{if(!e)return;t.context._redirected=!0;let o=typeof path;"number"==typeof e||"undefined"!==o&&"object"!==o||(n=path||{},o=typeof(path=e),e=302),"object"===o&&(path=t.router.resolve(path).route.fullPath),/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path)?t.context.next({path:path,query:n,status:e}):(path=function(t,e){let n;const o=t.indexOf("://");-1!==o?(n=t.substring(0,o),t=t.substring(o+3)):t.startsWith("//")&&(t=t.substring(2));let r,l=t.split("/"),c=(n?n+"://":"//")+l.shift(),path=l.filter(Boolean).join("/");l=path.split("#"),2===l.length&&([path,r]=l);c+=path?"/"+path:"",e&&"{}"!==JSON.stringify(e)&&(c+=(2===t.split("?").length?"&":"?")+function(t){return Object.keys(t).sort().map(e=>{const n=t[e];return null==n?"":Array.isArray(n)?n.slice().map(t=>[e,"=",t].join("")).join("&"):e+"="+n}).filter(Boolean).join("&")}(e));return c+=r?"#"+r:"",c}(path,n),t.context.next({path:path,status:e}))},t.context.beforeNuxtRender=t=>e.beforeRenderFns.push(t));const[n,o]=await Promise.all([w(e.route),w(e.from)]);e.route&&(t.context.route=n),e.from&&(t.context.from=o),t.context.next=e.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{}}function C(t,e){return!t.length||e._redirected||e._errored?Promise.resolve():k(t[0],e).then(()=>C(t.slice(1),e))}function k(t,e){let n;return n=2===t.length?new Promise(n=>{t(e,(function(t,data){t&&e.error(t),n(data=data||{})}))}):t(e),n&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function $(t,e){return function(t,e){const n=new Array(t.length);for(let i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",L(e)));return function(e,o){let path="";const data=e||{},r=(o||{}).pretty?N:encodeURIComponent;for(let i=0;i<t.length;i++){const e=t[i];if("string"==typeof e){path+=e;continue}const o=data[e.name||"pathMatch"];let l;if(null==o){if(e.optional){e.partial&&(path+=e.prefix);continue}throw new TypeError('Expected "'+e.name+'" to be defined')}if(Array.isArray(o)){if(!e.repeat)throw new TypeError('Expected "'+e.name+'" to not repeat, but received `'+JSON.stringify(o)+"`");if(0===o.length){if(e.optional)continue;throw new TypeError('Expected "'+e.name+'" to not be empty')}for(let t=0;t<o.length;t++){if(l=r(o[t]),!n[i].test(l))throw new TypeError('Expected all "'+e.name+'" to match "'+e.pattern+'", but received `'+JSON.stringify(l)+"`");path+=(0===t?e.prefix:e.delimiter)+l}}else{if(l=e.asterisk?N(o,!0):r(o),!n[i].test(l))throw new TypeError('Expected "'+e.name+'" to match "'+e.pattern+'", but received "'+l+'"');path+=e.prefix+l}}return path}}(function(t,e){const n=[];let o=0,r=0,path="";const l=e&&e.delimiter||"/";let c;for(;null!=(c=T.exec(t));){const e=c[0],d=c[1],h=c.index;if(path+=t.slice(r,h),r=h+e.length,d){path+=d[1];continue}const m=t[r],f=c[2],v=c[3],_=c[4],y=c[5],w=c[6],x=c[7];path&&(n.push(path),path="");const C=null!=f&&null!=m&&m!==f,k="+"===w||"*"===w,$="?"===w||"*"===w,S=c[2]||l,pattern=_||y;n.push({name:v||o++,prefix:f||"",delimiter:S,optional:$,repeat:k,partial:C,asterisk:Boolean(x),pattern:pattern?V(pattern):x?".*":"[^"+A(S)+"]+?"})}r<t.length&&(path+=t.substr(r));path&&n.push(path);return n}(t,e),e)}function S(t){let e;if(t.message||"string"==typeof t)e=t.message||t;else try{e=JSON.stringify(t,null,2)}catch(n){e=`[${t.constructor.name}]`}return{...t,message:e,statusCode:t.statusCode||t.status||t.response&&t.response.status||500}}const T=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(t,e){const n=e?/[?#]/g:/[/?#]/g;return encodeURI(t).replace(n,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())}function A(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function V(t){return t.replace(/([=!:$/()])/g,"\\$1")}function L(t){return t&&t.sensitive?"":"i"}async function M(){if(!this._fetchOnServer)return;try{await this.$options.fetch.call(this)}catch(t){this.$fetchState.error=S(t)}this.$fetchState.pending=!1,this._fetchKey=this.$ssrContext.nuxt.fetch.length,(this.$vnode.data.attrs=this.$vnode.data.attrs||{})["data-fetch-key"]=this._fetchKey,this.$ssrContext.nuxt.fetch.push(this.$fetchState.error?{_error:this.$fetchState.error}:this._data)}var H={beforeCreate(){var t;(t=this).$options&&"function"==typeof t.$options.fetch&&!t.$options.fetch.length&&("function"==typeof this.$options.fetchOnServer?this._fetchOnServer=!1!==this.$options.fetchOnServer.call(this):this._fetchOnServer=!1!==this.$options.fetchOnServer,l.a.util.defineReactive(this,"$fetchState",{pending:!0,error:null,timestamp:Date.now()}),function(t,e,n){t.$options[e]||(t.$options[e]=[]),t.$options[e].includes(n)||t.$options[e].push(n)}(this,"serverPrefetch",M))}},E=n(29),O=n.n(E),D=n(24),B=n.n(D),R=n(23),j=n.n(R),F=n(11),P=n.n(F);const I=()=>{},U=P.a.prototype.push;P.a.prototype.push=function(t,e=I,n){return U.call(this,t,e,n)},l.a.use(P.a);const z={mode:"history",base:decodeURI("/"),linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(t,e,n){let o=!1;const r=v(t);(r.length<2&&r.every(t=>!1!==t.options.scrollToTop)||r.some(t=>t.options.scrollToTop))&&(o={x:0,y:0}),n&&(o=n);const l=window.$nuxt;return t.path===e.path&&t.hash!==e.hash&&l.$nextTick(()=>l.$emit("triggerScroll")),new Promise(e=>{l.$once("triggerScroll",()=>{if(t.hash){let e=t.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(e="#"+window.CSS.escape(e.substr(1)));try{document.querySelector(e)&&(o={selector:e})}catch(t){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}e(o)})})},routes:[{path:"/board",component:()=>m(Promise.resolve().then(n.bind(null,34))),name:"board"},{path:"/leaderboard",component:()=>m(n.e(5).then(n.bind(null,68))),name:"leaderboard"},{path:"/privacy",component:()=>m(n.e(6).then(n.bind(null,69))),name:"privacy"},{path:"/board/:id",component:()=>m(n.e(2).then(n.bind(null,70))),name:"board-id"},{path:"/board/:id/mindmap",component:()=>m(n.e(3).then(n.bind(null,71))),name:"board-id-mindmap"},{path:"/",component:()=>m(n.e(4).then(n.bind(null,72))),name:"index"},{path:"/:user",component:()=>m(n.e(1).then(n.bind(null,67))),name:"user"}],fallback:!1};var W={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render(t,{parent:e,data:data,props:n}){const o=e.$createElement;data.nuxtChild=!0;const r=e,l=e.$nuxt.nuxt.transitions,c=e.$nuxt.nuxt.defaultTransition;let d=0;for(;e;)e.$vnode&&e.$vnode.data.nuxtChild&&d++,e=e.$parent;data.nuxtChildDepth=d;const h=l[d]||c,m={};Z.forEach(t=>{void 0!==h[t]&&(m[t]=h[t])});const f={};if(K.forEach(t=>{"function"==typeof h[t]&&(f[t]=h[t].bind(r))}),!1===h.css){const t=f.leave;(!t||t.length<2)&&(f.leave=(e,n)=>{t&&t.call(r,e),r.$nextTick(n)})}let v=o("routerView",data);return n.keepAlive&&(v=o("keep-alive",{props:n.keepAliveProps},[v])),o("transition",{props:m,on:f},[v])}};const Z=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],K=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"];var Y={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode(){return this.error&&this.error.statusCode||500},message(){return this.error.message||"Error"}},head(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"}]}}},G=n(1);var J=Object(G.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__nuxt-error-page"},[t._ssrNode('<div class="error">',"</div>",[t._ssrNode('<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="#DBE1EC" viewBox="0 0 48 48"><path d="M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"></path></svg> <div class="title">'+t._ssrEscape(t._s(t.message))+"</div> "),404===t.statusCode?t._ssrNode('<p class="description">',"</p>",[n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._ssrNode(' <div class="logo"><a href="https://nuxtjs.org" target="_blank" rel="noopener">Nuxt.js</a></div>')],2)])}),[],!1,(function(t){var e=n(36);e.__inject__&&e.__inject__(t)}),null,"90d10ad0").exports,X={name:"Nuxt",components:{NuxtChild:W,NuxtError:J},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured(t){this.displayingNuxtError&&(this.errorFromNuxtError=t,this.$forceUpdate())},computed:{routerViewKey(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||$(this.$route.matched[0].path)(this.$route.params);const[t]=this.$route.matched;if(!t)return this.$route.path;const e=t.components.default;if(e&&e.options){const{options:t}=e;if(t.key)return"function"==typeof t.key?t.key(this.$route):t.key}return/\/$/.test(t.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate(){l.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render(t){return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick(()=>this.errorFromNuxtError=!1),t("div",{},[t("h2","An error occured while showing the error page"),t("p","Unfortunately an error occured and while showing the error page another error occured"),t("p",`Error details: ${this.errorFromNuxtError.toString()}`),t("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick(()=>this.displayingNuxtError=!1),t(J,{props:{error:this.nuxt.err}})):t("NuxtChild",{key:this.routerViewKey,props:this.$props})}},Q={name:"NuxtLoading",data:()=>({percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}),computed:{left(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy(){this.clear()},methods:{clear(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start(){return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout(()=>this.startTimer(),this.throttle):this.startTimer(),this},set(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get(){return this.percent},increase(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause(){return clearInterval(this._timer),this},resume(){return this.startTimer(),this},finish(){return this.percent=this.reversed?0:100,this.hide(),this},hide(){return this.clear(),setTimeout(()=>{this.show=!1,this.$nextTick(()=>{this.percent=0,this.reversed=!1})},500),this},fail(t){return this.canSucceed=!1,this},startTimer(){this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval(()=>{this.skipTimerCount>0?this.skipTimerCount--:(this.reversed?this.decrease(this._cut):this.increase(this._cut),this.continuous&&(this.percent>=100||this.percent<=0)&&(this.skipTimerCount=1,this.reversed=!this.reversed))},100)}},render(t){let e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}};var tt=Object(G.a)(Q,void 0,void 0,!1,(function(t){var e=n(37);e.__inject__&&e.__inject__(t)}),null,"b40b9c68").exports,et=(n(38),n(22)),st=n(14),it=n(7),at=n(26),nt=n(30),ot=n(4),lt={name:"index.vue",props:{value:{default:"",type:Object}},data(){return{search:"working",response:{total:0,results:[]},data:this.value}},methods:{select(img){this.data&&img.id===this.data.id?this.data=null:this.data=this.cleanData(img,["id","urls","user","alt_description"])},fetch(){this.$axios.$get("/general/unsplash/",{params:{search:this.search}}).then(t=>{this.response=t})},handleInput:Object(ot.debounce)((function(){this.fetch()}),1e3)},watch:{data(){this.$emit("input",this.data),this.$store.commit("config/SET_SETTING_BACKGROUND",this.data)}},created(){this.fetch()}};var ct=Object(G.a)(lt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"unsplash"},[t._ssrNode('<div class="field"><label><input placeholder="Search"'+t._ssrAttr("value",t.search)+' class="input"></label></div> <div class="field"><div class="columns is-mobile is-variable is-1 is-multiline">'+t._ssrList(t.response.results,(function(img){return'<div class="column is-6"><div'+t._ssrClass("image clickable is-3by1",{selected:t.data&&t.data.id===img.id})+"><img"+t._ssrAttr("src",img.urls.regular)+t._ssrAttr("alt",img.alt_description)+"></div></div>"}))+"</div></div>")])}),[],!1,(function(t){}),null,"28d8775b").exports,ut=n(3),ht={name:"Setting",props:{value:{default:()=>Object.assign({},ut.a)}},components:{BDropdownItem:et.a,"color-picker":nt.Chrome,Unsplash:ct},data:()=>({data:Object.assign({},ut.a),colors:[],fieldColors:[{field:"--btn-color",label:"Button Background"},{field:"--btn-text-color",label:"Button Text"},{field:"--bg-color-primary",label:"Background"},{field:"--bg-color-primary-text",label:"Text Inside"},{field:"--task-color",label:"Task Background"},{field:"--task-text-color",label:"Task Text"}],activeTab:"c"}),methods:{updateColor(t,e){this.data.color[t]=e.hex},save(){this.$axios.$put(`/auth/users/${this.currentUser.username}/`,{options:this.data}).then(t=>{this.$store.commit("auth/SET_USER",t),this.$store.commit("config/SET_SETTING",t.profile.setting)})},reset(){this.data=Object.assign({},ut.a),this.$store.commit("config/SET_SETTING_BACKGROUND",null)}},watch:{value:{deep:!0,handler:function(){this.data=this.value}},data:{deep:!0,handler:function(){this.$emit("input",this.data)}}},created(){this.data=Object(ot.cloneDeep)(this.$store.state.config.settings),void 0===this.data.notification&&(this.data.notification={wake_me:5})}};var pt=Object(G.a)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"options"},[t._ssrNode('<div class="tabs is-boxed"><ul><li'+t._ssrClass(null,{"is-active":"c"===t.activeTab})+"><a>Customize</a></li> <li"+t._ssrClass(null,{"is-active":"n"===t.activeTab})+"><a>Notification</a></li> <li"+t._ssrClass(null,{"is-active":"t"===t.activeTab})+"><a>Timer</a></li></ul></div> "),"c"===t.activeTab?t._ssrNode('<div class="color-picker">',"</div>",[t._l(t.fieldColors,(function(e){return t._ssrNode('<div class="level is-mobile">',"</div>",[t._ssrNode('<div class="level-left">'+t._ssrEscape("\n                "+t._s(e.label)+"\n            ")+"</div> "),t._ssrNode('<div class="level-right">',"</div>",[n("b-dropdown",[n("div",{staticClass:"button is-square",style:{background:t.data.color[e.field]},attrs:{slot:"trigger"},slot:"trigger"}),t._v(" "),n("b-dropdown-item",{attrs:{paddingless:"",custom:""}},[n("color-picker",{attrs:{value:t.data.color[e.field],"preset-colors":["#f00","#00ff00","#00ff0055","rgb(201, 76, 76)","rgba(0,0,255,1)","hsl(89, 43%, 51%)","hsla(89, 43%, 51%, 0.6)"]},on:{input:function(n){return t.updateColor(e.field,n)}}})],1)],1)],1)],2)})),t._ssrNode(" "),n("b-dropdown",{staticClass:"is-fullwidth",attrs:{"aria-role":"list"}},[n("div",{staticClass:"button is-fullwidth",attrs:{slot:"trigger"},slot:"trigger"},[t._v("Set Background")]),t._v(" "),n("b-dropdown-item",{attrs:{custom:"","aria-role":"listitem"}},[n("Unsplash",{model:{value:t.data.color.background,callback:function(e){t.$set(t.data.color,"background",e)},expression:"data['color']['background']"}})],1)],1)],2):t._e(),t._ssrNode(" "),"n"===t.activeTab?t._ssrNode("<div>","</div>",[t._ssrNode('<div class="columns is-mobile">',"</div>",[t._ssrNode('<div class="column">Wake me in(m)</div> '),t._ssrNode('<div class="column">',"</div>",[t._ssrNode('<div class="field is-grouped">',"</div>",[n("b-number-input",{attrs:{size:"is-small",min:5,type:"is-primary","controls-position":"compact"},model:{value:t.data.notification.wake_me,callback:function(e){t.$set(t.data.notification,"wake_me",e)},expression:"data.notification.wake_me"}})],1)])],2)]):t._e(),t._ssrNode(" "),"t"===t.activeTab?t._ssrNode("<div>","</div>",[t._ssrNode('<div class="columns is-mobile">',"</div>",[t._ssrNode('<div class="column">Pomodoro</div> '),t._ssrNode('<div class="column">',"</div>",[n("b-number-input",{attrs:{size:"is-small",min:25,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.tomato,callback:function(e){t.$set(t.data.timer,"tomato",e)},expression:"data.timer.tomato"}})],1)],2),t._ssrNode(" "),t._ssrNode('<div class="columns is-mobile">',"</div>",[t._ssrNode('<div class="column">Short Break</div> '),t._ssrNode('<div class="column">',"</div>",[n("b-number-input",{attrs:{size:"is-small",min:5,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.short_break,callback:function(e){t.$set(t.data.timer,"short_break",e)},expression:"data.timer.short_break"}})],1)],2),t._ssrNode(" "),t._ssrNode('<div class="columns is-mobile">',"</div>",[t._ssrNode('<div class="column">Long Break</div> '),t._ssrNode('<div class="column">',"</div>",[n("b-number-input",{attrs:{size:"is-small",min:10,type:"is-primary","controls-position":"compact"},model:{value:t.data.timer.long_break,callback:function(e){t.$set(t.data.timer,"long_break",e)},expression:"data.timer.long_break"}})],1)],2)],2):t._e(),t._ssrNode(' <div class="level is-mobile" style="margin-top: 1rem"><div class="level-left"><div class="button is-small is-fullwidth">Reset</div></div> <div class="level-right"><div class="button is-primary is-small is-fullwidth">Save</div></div></div>')],2)}),[],!1,(function(t){var e=n(41);e.__inject__&&e.__inject__(t)}),null,"7f63fb4e").exports,mt=n(5),ft=n(34);const vt={name:null,isPrivate:!1,password:null,isDone:!1,hasBoard:!1,boardName:null};var gt={components:{Template:ft.default,BTaginput:at.a,BInput:it.a,BDropdownItem:et.a,Avatar:st.a,Options:pt},data:()=>({colors:[],burgerActive:!1,logging:!0,form:{email:null,password:null,username:null,first_name:null,last_name:null},formWS:vt,isActive:!1,wsURI:null,wsResponse:{results:[],count:0},wsSearch:"",wsCode:null,wsLoading:!0,wsActive:!1,wsMinimize:!0,wsPassword:null,wsMembers:[],settings:null,notify:{msg:null,ssf:!0},loadingMember:!1,cloneReport:{},is_online:!0,strictTemp:!1}),methods:{initForm(data){this.formWS=data?Object(ot.cloneDeep)(data):this.formWS=vt,this.formWS.isDone=!1},async logout(){await this.$auth.logout(),this.$router.replace({path:"/"}),await this.fetchTasks()},async handleSubmit(){this.logging?await this.$auth.login({email:this.form.email,password:this.form.password}).then(t=>{t?(this.fetchTasks(),this.notify.msg="Login successfully :D"):(this.notify.msg="Login Failed :(",this.notify.ssf=!1)}):this.$axios.post("/auth/rest-auth/registration/",{...this.form,password1:this.form.password,password2:this.form.password}).then(t=>{t?(this.logging=!0,this.notify.msg="Register successfully, please login!"):(this.notify.msg="Register Failed :(",this.notify.ssf=!1)}).catch(t=>{let e=Object.keys(t.response.data);this.notify.msg=[],e.forEach(e=>{this.notify.msg.push(`${e} - ${t.response.data[e][0]}`)}),this.notify.ssf=!1});let t=this;setTimeout((function(){t.notify={msg:null,ssf:!0}}),2e3)},openGroupForm(t){t?this.initForm():this.initForm(this.ws),this.canUpdateWS&&(this.isActive=!0)},saveWS(){void 0===this.formWS.id?this.$axios.$post("/general/workspaces/",this.formWS).then(t=>{this.formWS=vt,this.formWS.isDone=!0,this.wsURI=`https://bubblask.com?ws=${t.id}`,this.joinWS(t)}):this.$axios.$put(`/general/workspaces/${this.formWS.id}/`,this.formWS).then(t=>{this.formWS=vt,this.formWS.isDone=!0,this.wsURI=`https://bubblask.com?ws=${t.id}`})},async fetchWS(){this.wsLoading=!0,this.wsResponse=await this.$axios.$get("/general/workspaces/",{params:{search:this.wsSearch?this.wsSearch:void 0,code:this.wsCode?this.wsCode:void 0,page_size:5}}),this.wsLoading=!1},searchCode:Object(ot.debounce)((function(){this.wsSearch=null,this.fetchWS()}),500),searchWS:Object(ot.debounce)((function(){this.fetchWS()}),500),onOpenSelect(){this.wsActive||this.fetchWS(),this.wsActive=!0},async setStrict(t){this.currentUser&&await this.$axios.$put(`/auth/users/${this.currentUser.username}/`,{is_strict:t}),this.$store.commit("config/SET_STRICT",t),this.settings.timer.is_strict=t},async fetchTasks(){if(await this.$store.commit("task/SET_TASKS",[]),this.currentUser)await this.$axios.$get("/task/tasks/",{params:{board:this.ws&&this.ws.board?this.ws.board.id:void 0}}).then(async t=>{for(let i=0;i<t.length;i++)await this.$store.commit("task/ADD_TASK",new mt.a(t[i]))});else{const t=this,e=async function(){t.$indexedDB.readAll((function(cursor){["complete","stopped"].includes(cursor.value.status)||t.$store.commit("task/ADD_TASK",new mt.a(cursor.value))}))};t.$indexedDB.open(e,()=>{},()=>{},"title","uid",[])}},async fetchMembers(){this.ws?(this.loadingMember=!0,this.wsMembers=await this.$axios.$get(`/general/workspaces/${this.ws.id}/members/`),this.loadingMember=!1):this.wsMembers=[]},async push_late(){let t=this.$store.state.task.tasks.filter(t=>t.updating);for(let i=0;i<t.length;i++){let e=null,n=_.cloneDeep(t[i]);this.ws&&(n.ws=this.ws.id),this.currentUser?(0===n.parent&&(n.parent=null),n.id?this.currentUser.id===n.user&&(e=await this.$axios.$put(`/task/tasks/${n.id}/`,n)):e=await this.$axios.$post("/task/tasks/",n)):(await this.$indexedDB.put(n),e={id:n.uid}),e&&(n.id=e.id,n.force=!0,null===e.parent&&(e.parent=0),n.user=e.user,await this.$store.commit("task/UPDATE_TASK",n))}},joinWS(t){this.$axios.$post(`/general/workspaces/${t.id}/join/`,{password:this.wsPassword}).then(e=>{e.status&&(this.ws&&this.ws.id===t.id?(this.$store.commit("config/SET_WS",null),this.wsMinimize=!0):(this.$store.commit("config/SET_WS",t),this.wsMinimize=!1),this.wsActive=!1,this.isActive=!1)})},getScore(t){return t&&this.ws&&this.cloneReport?this.cloneReport[t.id]/60:0},connectSocket(){if(this.ws){let t=new Pusher("eccf1067acf541fbc5d4",{cluster:"ap1"}).subscribe(`ws_${this.ws.id}`);t.bind("change-user-score",function(data){data&&(this.cloneReport[data.user]=data.score)}.bind(this)),t.bind("change-user-status",function(data){if(data){let t=this.wsMembers.map(u=>u.id).indexOf(data.user);t>=0&&(this.wsMembers[t].profile.extra.status=data.status)}}.bind(this))}},awakeMe(){if(!this.is_online||null===this.currentUser)return;let t=localStorage.getItem("time_off"),e=new Date;if(t){e>new Date(t)&&this.$axios.$put(`/auth/users/${this.currentUser.username}/`,{status:"offline"}).then(()=>{this.is_online=!1})}else{let t=new Date;(new Date).setTime(t.getTime()+3e5)}}},created(){this.settings=Object(ot.cloneDeep)(this.$store.state.config.settings),this.strictTemp=!(!this.settings||!this.settings.timer)&&this.settings.timer.is_strict},computed:{displayTasks(){return this.$store.state.task.tasks.filter(t=>!["stopped","complete"].includes(t.status))},totalTime(){let t=0;return this.settings&&this.displayTasks.forEach(e=>{t+=this.settings.timer.tomato*e.interval}),t},ws(){return this.$store.state.config.ws},isRunning(){return Boolean(this.$store.state.task.running)},canUpdateWS(){return void 0===this.formWS.id||this.currentUser&&this.currentUser.id===this.formWS.user.id},openAuth(){return this.$store.state.auth.openAuth}},watch:{currentUser(){this.settings=Object(ot.cloneDeep)(this.$store.state.config.settings)},"formWS.isPrivate"(){!1===this.formWS.isPrivate&&(this.formWS.password=null)},async ws(){this.ws?(this.wsMinimize=!1,this.cloneReport=Object(ot.cloneDeep)(this.ws.report)):this.cloneReport={},this.fetchTasks(),this.fetchMembers(),this.connectSocket()},is_online(){this.is_online&&this.$axios.$put(`/auth/users/${this.currentUser.username}/`,{status:"online"})},strictTemp(){this.setStrict(this.strictTemp)}},async mounted(){0}};const _t={_default:f(Object(G.a)(gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"has-custom":"/"===t.$route.path},style:t.settings.color},[t.isRunning||t.$route.path.includes("/workspace")?t._e():t._ssrNode('<header class="header">',"</header>",[t._ssrNode('<nav role="navigation" aria-label="main navigation" class="navbar">',"</nav>",[t._ssrNode('<div class="navbar-brand">',"</div>",[n("n-link",{staticClass:"navbar-item logo",attrs:{to:"/"}},[n("img",{attrs:{src:"/logo.svg",alt:"Bubblask"}}),t._v(" "),n("span",{staticClass:"primary"},[t._v("BUBBLASK")]),t._v(" "),n("span",{staticClass:"second"},[t._v(".com")])]),t._ssrNode(' <a role="button" aria-label="menu" aria-expanded="false" class="navbar-burger burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a>')],2),t._ssrNode(" <div"+t._ssrClass("navbar-menu",{"is-active":t.burgerActive})+'><div class="navbar-end"><div class="navbar-item"><div><span class="field">Total: </span> <span class="value">'+t._ssrEscape(t._s(t.displayTasks.length))+'</span></div></div> <div class="navbar-item"><div><span class="field">Time: </span> <span class="value">'+t._ssrEscape(t._s(t.totalTime)+"m")+"</span></div></div></div></div>")],2)]),t._ssrNode(" "),t._ssrNode("<div"+t._ssrClass(null,{"main-content":!t.isRunning})+">","</div>",[t.isRunning?t._e():t._ssrNode('<div class="sidebar">',"</div>",[t._ssrNode('<aside class="menu">',"</aside>",[t._ssrNode('<div class="menu-child">',"</div>",[t._ssrNode('<ul class="menu-list">',"</ul>",[t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Leader board"}},[n("n-link",{class:{"is-active":"/leaderboard"===t.$route.path},attrs:{to:"/leaderboard"}},[n("x-icon",{attrs:{name:"poll"}})],1)],1)],1),t._ssrNode(" "),t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Board"}},[n("n-link",{class:{"is-active":"/board"===t.$route.path},attrs:{to:"/board"}},[n("x-icon",{attrs:{name:"board"}})],1)],1)],1)],2)]),t._ssrNode(" "),t._ssrNode('<div class="menu-child">',"</div>",[t._ssrNode('<ul class="menu-list">',"</ul>",[t.currentUser?t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Setting"}},[n("client-only",[n("b-dropdown",{staticClass:"elm",attrs:{position:"is-top-right","trap-focus":!0}},[n("template",{staticClass:"clickable",slot:"trigger"},[n("x-icon",{attrs:{name:"cogs"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{custom:""}},[n("Options",{model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}})],1)],2)],1)],1)],1):t._e(),t._ssrNode(" "),t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Strict Mode"}},[n("label",{staticClass:"elm b-checkbox checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.strictTemp,expression:"strictTemp"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.strictTemp)?t._i(t.strictTemp,null)>-1:t.strictTemp},on:{change:function(e){var n=t.strictTemp,o=e.target,r=!!o.checked;if(Array.isArray(n)){var l=t._i(n,null);o.checked?l<0&&(t.strictTemp=n.concat([null])):l>-1&&(t.strictTemp=n.slice(0,l).concat(n.slice(l+1)))}else t.strictTemp=r}}})])])],1),t._ssrNode(" "),Boolean(t.currentUser)?t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Report"}},[n("n-link",{attrs:{to:"/me"}},[n("x-icon",{attrs:{name:"report"}})],1)],1)],1):t._ssrNode("<li>","</li>",[n("b-dropdown",{staticClass:"elm",attrs:{"can-close":["escape"],position:"is-top-right","force-active":t.openAuth},on:{"active-change":function(e){return t.openLogin(e)}}},[n("div",{attrs:{slot:"trigger"},slot:"trigger"},[n("x-icon",{attrs:{name:"account"}})],1),t._v(" "),n("div",{staticClass:"dropdown-item",staticStyle:{"min-width":"335px"}},[n("div",{staticClass:"notification is-warning"},[t._v("Login to manage and track your work!")]),t._v(" "),t.logging?t._e():n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),n("div",{staticClass:"control"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})])])]),t._v(" "),t.logging?t._e():n("div",{staticClass:"field"},[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Firstname")]),t._v(" "),n("b-input",{attrs:{type:"text",placeholder:"John"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Lastname")]),t._v(" "),n("b-input",{attrs:{type:"text",placeholder:"Due"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1)])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Email")]),t._v(" "),n("div",{staticClass:"control has-icons-right"},[n("b-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),n("div",{staticClass:"control has-icons-right"},[n("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"level is-mobile"},[n("div",[n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("div",{staticClass:"button",on:{click:function(e){return t.openLogin(!1)}}},[n("x-icon",{attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"button",on:{click:function(e){t.logging=!t.logging}}},[n("span",[t._v(t._s(t.logging?"Register":"Login"))])])])])]),t._v(" "),n("div",{staticClass:"button is-primary",on:{click:t.handleSubmit}},[n("span",[t._v(t._s(t.logging?"Login":"Register"))])])])]),t._v(" "),t.notify.msg?n("div",{staticClass:"field"},[n("div",{class:"content notification "+(t.notify.ssf?"is-light":"is-danger")},["string"==typeof t.notify.msg?n("p",[t._v(t._s(t.notify.msg))]):n("ul",t._l(t.notify.msg,(function(e){return n("li",[t._v(t._s(e))])})),0)])]):t._e()])])],1),t._ssrNode(" "),t.currentUser&&"/me"===t.$route.path?t._ssrNode("<li>","</li>",[n("b-tooltip",{attrs:{position:"is-right",label:"Logout"}},[n("div",{staticClass:"elm",on:{click:function(e){return t.logout()}}},[n("x-icon",{attrs:{name:"logout"}})],1)])],1):t._e()],2)])],2)]),t._ssrNode(" "),t._ssrNode('<main class="main">',"</main>",[n("nuxt",{staticClass:"main-body"}),t._ssrNode(" "),t.isRunning?t._e():t._ssrNode('<footer class="footer">',"</footer>",[t._ssrNode('<div class="container small">',"</div>",[t._ssrNode('<div class="level is-mobile">',"</div>",[t._ssrNode('<div class="level-left">',"</div>",[t._ssrNode('<div class="buttons">',"</div>",[t._ssrNode('<div class="button is-text">About</div> '),n("n-link",{staticClass:"button is-text",attrs:{to:"/privacy"}},[t._v("Privacy")])],2)]),t._ssrNode(' <div class="level-right"><p><strong>Made</strong> with </p></div>')],2)])])],2)],2),t._ssrNode(" "),t._ssrNode('<div class="ws-members"'+t._ssrStyle(null,{height:t.wsMinimize?void 0:"300px"},null)+">","</div>",[t._ssrNode('<div class="header">',"</div>",[t.currentUser?t._ssrNode('<div class="media">',"</div>",[t._ssrNode('<div class="media-content">',"</div>",[t._ssrNode('<div class="buttons has-addons">',"</div>",[t._ssrNode('<button class="button is-small">',"</button>",[n("x-icon",{attrs:{name:"chevron-down"}})],1),t._ssrNode(' <button class="button is-small is-selected"><b class="clickable">'+t._ssrEscape(t._s(t.ws?t.ws.name:"Create Workspace"))+"</b></button>")],2)]),t._ssrNode(" "),t._ssrNode('<div class="media-right">',"</div>",[t._ssrNode('<div class="buttons">',"</div>",[t._ssrNode('<div class="button is-small">',"</div>",[n("x-icon",{attrs:{name:t.wsMinimize?"maximize":"minimize"}})],1)])])],2):t._ssrNode('<div class="button is-small is-fullwidth">Login to join Workspace</div>')]),t._ssrNode(" "),n("transition",{attrs:{name:"fade"}},[!t.wsMinimize&&t.ws?n("div",{staticClass:"members"},[t.wsMembers.length?n("div",{staticClass:"wrapper"},t._l(t.wsMembers,(function(e){return n("div",{key:e.id,staticClass:"level is-mobile"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("avatar",{staticClass:"is-24x24",class:e.profile.extra.status,attrs:{value:e.profile.media}})],1),t._v(" "),n("div",{staticClass:"media-content"},[n("b",[t._v(t._s(t.convertName(e)))])])])]),t._v(" "),n("div",{staticClass:"level-right"},[n("small",[t._v(t._s(t.getScore(e).toFixed(2))+"m")])])])})),0):t._e(),t._v(" "),t.loadingMember?n("div",{staticClass:"wrapper"},t._l(5,(function(i){return n("div",{key:i,staticClass:"level"},[n("div",{staticClass:"skeleton-user"})])})),0):t._e()]):t._e()])],2),t._ssrNode(" "),n("b-modal",{attrs:{active:t.wsActive,scroll:"keep"},on:{"update:active":function(e){t.wsActive=e}}},[n("div",{staticClass:"container small"},[n("div",{staticClass:"group-selector has-background-white"},[n("div",{staticClass:"header"},[n("div",[n("p",{staticClass:"notification is-warning"},[t._v("Focus to work of meeting with others")])]),t._v(" "),n("div",{staticClass:"media"},[n("b-input",{attrs:{expanded:"",placeholder:"Enter keyword..."},on:{input:function(e){return t.searchWS()}},model:{value:t.wsSearch,callback:function(e){t.wsSearch=e},expression:"wsSearch"}})],1)]),t._v(" "),n("div",{staticClass:"list"},t._l(5,(function(i){return t.wsResponse.results[i-1]?n("div",{key:i,staticClass:"media",class:{"is-active":t.ws&&t.ws.id===t.wsResponse.results[i-1].id}},[n("div",{staticClass:"media-content"},[n("div",[t.wsResponse.results[i-1].board?n("x-icon",{staticClass:"is-small",attrs:{name:"board"}}):t._e(),t._v(" "),n("b",[t._v(t._s(t.wsResponse.results[i-1].name))])],1),t._v(" "),n("small",[t._v("By "+t._s(t.convertName(t.wsResponse.results[i-1].user)))])]),t._v(" "),t.ws&&t.ws.id===t.wsResponse.results[i-1].id?n("div",{staticClass:"media-right"},[n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[n("span",[t._v("Left")]),t._v(" "),n("x-icon",{attrs:{name:"logout"}})],1)]):n("div",{staticClass:"media-right"},[t.wsResponse.results[i-1].isPrivate?n("b-dropdown",{attrs:{position:"is-bottom-left","append-to-body":"","aria-role":"menu","trap-focus":""}},[n("div",{staticClass:"button is-small",attrs:{slot:"trigger"},slot:"trigger"},[n("span",[t._v("Join")]),t._v(" "),n("x-icon",{attrs:{name:"shield-lock"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:""}},[n("div",{staticClass:"field has-addons",staticStyle:{"min-width":"280px"}},[n("b-input",{attrs:{expanded:"",placeholder:"Enter Password"},model:{value:t.wsPassword,callback:function(e){t.wsPassword=e},expression:"wsPassword"}}),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"button is-primary",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[t._v("Join\n                                            ")])])],1)])],1):n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.wsResponse.results[i-1])}}},[n("span",[t._v("Join")]),t._v(" "),n("x-icon",{attrs:{name:"shield-open"}})],1)],1)]):t._e()})),0),t._v(" "),n("div",{staticClass:"has-background-light"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("div",{staticClass:"button is-static"},[t._v("OR")])]),t._v(" "),n("div",{staticClass:"media-content"},[n("b-input",{attrs:{placeholder:"Enter Code"},on:{input:t.searchCode},model:{value:t.wsCode,callback:function(e){t.wsCode=e},expression:"wsCode"}})],1)]),t._v(" "),n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("div",{staticClass:"button is-static"},[t._v("OR")])]),t._v(" "),n("div",{staticClass:"media-content"},[n("div",{staticClass:"button is-fullwidth",on:{click:function(e){return t.openGroupForm(!0)}}},[t._v("Create\n                            ")])])])])])])]),t._ssrNode(" "),n("b-modal",{attrs:{active:t.isActive,scroll:"keep"},on:{"update:active":function(e){t.isActive=e}}},[n("div",{staticClass:"container small"},[n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("div",{staticClass:"level is-mobile",staticStyle:{width:"100%"}},[n("h4",{staticClass:"level-left"},[n("b",[t._v("Create new workspace")])]),t._v(" "),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-small",on:{click:function(e){t.isActive=!1}}},[t._v("Cancel")]),t._v(" "),t.ws?n("div",{staticClass:"button is-small",on:{click:function(e){return t.joinWS(t.ws)}}},[t._v("Left")]):t._e()])])])]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t.formWS.isDone?t._e():n("div",[n("ce",{staticClass:"title",attrs:{elm:"h1",placeholder:"Workspace name"},model:{value:t.formWS.name,callback:function(e){t.$set(t.formWS,"name",e)},expression:"formWS.name"}}),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.formWS.isPrivate,callback:function(e){t.$set(t.formWS,"isPrivate",e)},expression:"formWS.isPrivate"}},[t._v("Is private\n                                    ")])],1),t._v(" "),t.formWS.isPrivate?n("div",{staticClass:"field"},[n("b-input",{attrs:{expanded:"",type:"password","password-reveal":"",placeholder:"Password to access workspace"},model:{value:t.formWS.password,callback:function(e){t.$set(t.formWS,"password",e)},expression:"formWS.password"}})],1):t._e()]),t._v(" "),t.formWS.id?t._e():n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-switch",{attrs:{rounded:!1},model:{value:t.formWS.hasBoard,callback:function(e){t.$set(t.formWS,"hasBoard",e)},expression:"formWS.hasBoard"}},[t._v("Create a board")])],1),t._v(" "),t.formWS.hasBoard?n("div",{staticClass:"field"},[n("b-input",{attrs:{expanded:"",placeholder:"Board name"},model:{value:t.formWS.board_name,callback:function(e){t.$set(t.formWS,"board_name",e)},expression:"formWS.board_name"}})],1):t._e()])])],1),t._v(" "),t.formWS.isDone&&t.wsURI?n("div",{staticClass:"notification is-warning content"},[n("p",[t._v("Share with your friends")]),t._v(" "),n("b-input",{attrs:{value:t.wsURI}})],1):t._e()]),t._v(" "),t.canUpdateWS?n("footer",{staticClass:"modal-card-foot"},[t.formWS.isDone?t._e():n("button",{staticClass:"button is-primary is-fullwidth",on:{click:t.saveWS}},[t._v("Save\n                    ")])]):t._e()])])])],2)}),[],!1,(function(t){var e=n(43);e.__inject__&&e.__inject__(t)}),null,"43d5b64c").exports)};var bt={render(t,e){const n=t("NuxtLoading",{ref:"loading"}),o=t(this.layout||"nuxt"),r=t("div",{domProps:{id:"__layout"},key:this.layoutName},[o]),l=t("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter(t){window.$nuxt.$nextTick(()=>{window.$nuxt.$emit("triggerScroll")})}}},[r]);return t("div",{domProps:{id:"__nuxt"}},[n,l])},data:()=>({isOnline:!0,layout:null,layoutName:"",nbFetching:0}),beforeCreate(){l.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created(){l.a.prototype.$nuxt=this,this.error=this.nuxt.error,this.context=this.$options.context},mounted(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline(){return!this.isOnline},isFetching(){return this.nbFetching>0}},methods:{refreshOnlineStatus(){0},async refresh(){const t=function(t,e=!1){return v(t,e,"instances")}(this.$route);if(!t.length)return;this.$loading.start();const e=t.map(t=>{const p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(k(t.$options.fetch,this.context)),t.$fetch)p.push(t.$fetch());else for(const component of function t(e,n=[]){const o=e.$children||[];for(const e of o)e.$fetch?n.push(e):e.$children&&t(e,n);return n}(t.$vnode.componentInstance))p.push(component.$fetch());return t.$options.asyncData&&p.push(k(t.$options.asyncData,this.context).then(e=>{for(const n in e)l.a.set(t.$data,n,e[n])})),Promise.all(p)});try{await Promise.all(e)}catch(t){this.$loading.fail(t),function(t){l.a.config.errorHandler&&l.a.config.errorHandler(t)}(t),this.error(t)}this.$loading.finish()},errorChanged(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish())},setLayout(t){return t&&_t["_"+t]||(t="default"),this.layoutName=t,this.layout=_t["_"+t],this.layout},loadLayout:t=>(t&&_t["_"+t]||(t="default"),Promise.resolve(_t["_"+t]))},components:{NuxtLoading:tt}},yt=n(25),wt=n.n(yt);l.a.use(wt.a);const xt=["state","getters","actions","mutations"];let Ct={};Ct.modules=Ct.modules||{},St(n(44),"auth.js"),St(n(45),"config.js"),St(n(46),"message.js"),St(n(47),"reading.js"),St(n(48),"task.js");const kt=Ct instanceof Function?Ct:()=>new wt.a.Store(Object.assign({strict:!1},Ct));function $t(t,e){if(t.state&&"function"!=typeof t.state){console.warn(`'state' should be a method that returns an object in ${e}`);const n=Object.assign({},t.state);t=Object.assign({},t,{state:()=>n})}return t}function St(t,e){t=t.default||t;const n=e.replace(/\.(js|mjs)$/,"").split("/");let o=n[n.length-1];const r=`store/${e}`;if(t="state"===o?function(t,e){if("function"!=typeof t){console.warn(`${e} should export a method that returns an object`);const n=Object.assign({},t);return()=>n}return $t(t,e)}(t,r):$t(t,r),xt.includes(o)){const e=o;return void Nt(Tt(Ct,n,{isProperty:!0}),t,e)}"index"===o&&(n.pop(),o=n[n.length-1]);const l=Tt(Ct,n);for(const e of xt)Nt(l,t[e],e);!1===t.namespaced&&delete l.namespaced}function Tt(t,e,{isProperty:n=!1}={}){if(!e.length||n&&1===e.length)return t;const o=e.shift();return t.modules[o]=t.modules[o]||{},t.modules[o].namespaced=!0,t.modules[o].modules=t.modules[o].modules||{},Tt(t.modules[o],e,{isProperty:n})}function Nt(t,e,n){e&&("state"===n?t.state=e||t.state:t[n]=Object.assign({},t[n],e))}n(49);var At=async function(t,e){const n={"64x64":"/_nuxt/icons/icon_64.5f6a36.png","120x120":"/_nuxt/icons/icon_120.5f6a36.png","144x144":"/_nuxt/icons/icon_144.5f6a36.png","152x152":"/_nuxt/icons/icon_152.5f6a36.png","192x192":"/_nuxt/icons/icon_192.5f6a36.png","384x384":"/_nuxt/icons/icon_384.5f6a36.png","512x512":"/_nuxt/icons/icon_512.5f6a36.png"};e("icon",t=>n[t+"x"+t]||"")},Vt=n(31),Lt=n.n(Vt),Mt=({req:t,res:e},n)=>{const o=!0;n("ck",Lt()(t,e,o))},Ht=n(12),Et=n.n(Ht),Ot=n(32),Dt=n.n(Ot);const Bt={setBaseURL(t){this.defaults.baseURL=t},setHeader(t,e,n="common"){for(let o of Array.isArray(n)?n:[n]){if(!e)return void delete this.defaults.headers[o][t];this.defaults.headers[o][t]=e}},setToken(t,e,n="common"){const o=t?(e?e+" ":"")+t:null;this.setHeader("Authorization",o,n)},onRequest(t){this.interceptors.request.use(e=>t(e)||e)},onResponse(t){this.interceptors.response.use(e=>t(e)||e)},onRequestError(t){this.interceptors.request.use(void 0,e=>t(e)||Promise.reject(e))},onResponseError(t){this.interceptors.response.use(void 0,e=>t(e)||Promise.reject(e))},onError(t){this.onRequestError(t),this.onResponseError(t)},create(t){return Rt(Dt()(t,this.defaults))}};for(let t of["request","delete","get","head","options","post","put","patch"])Bt["$"+t]=function(){return this[t].apply(this,arguments).then(t=>t&&t.data)};const Rt=t=>{const e=Et.a.create(t);return e.CancelToken=Et.a.CancelToken,e.isCancel=Et.a.isCancel,(t=>{for(let e in Bt)t[e]=Bt[e].bind(t)})(e),jt(e),e},jt=t=>{};var Ft=(t,e)=>{const n={baseURL:process.env._AXIOS_BASE_URL_||"https://api.bubblask.com/v1",headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}};n.headers.common=t.req&&t.req.headers?Object.assign({},t.req.headers):{},delete n.headers.common.accept,delete n.headers.common.host,delete n.headers.common["cf-ray"],delete n.headers.common["cf-connecting-ip"],delete n.headers.common["content-length"],delete n.headers.common["content-md5"],delete n.headers.common["content-type"],n.headers.common["accept-encoding"]="gzip, deflate";const o=Rt(n);t.$axios=o,e("axios",o)},Pt=function(t){t.$axios.onError(async e=>(401===e.response.status&&await t.$auth.logout(),Promise.reject(e))),t.$axios.onRequest(t=>{})};const It=n(50);var Ut=async function(t,e){const n={},o=async()=>{await l(null),await c(null)},r=async()=>{try{return await t.$axios.$get("/auth/users/me/")}catch(t){return await o(),null}},l=async e=>{e?(t.$axios.setHeader("Authorization","JWT "+e),t.store.$ck.set("auth.token",e,{maxAge:604800,path:"/"})):(t.$axios.setHeader("Authorization",void 0),t.store.$ck.remove("auth.token")),await t.store.commit("auth/SET_TOKEN",e)},c=async e=>{if(e){await t.store.commit("config/SET_SETTING",e.profile.setting),await t.store.commit("auth/SET_USER",e);let n=e.profile.setting?e.profile.setting.ws:null;n?await t.$axios.$get(`/general/workspaces/${n}/`).then(e=>{t.store.commit("config/SET_WS",e)}):t.store.commit("config/SET_WS",null)}else 0};await(async()=>{let e=await(async()=>{let e=null;if(t.req.headers.cookie){e=It.parse(t.req.headers.cookie)["auth.token"]}else e=t.store.$ck.get("auth.token");return e})();if(await l(e),e){let t=await r();await c(t)}else 0})(),n.login=async e=>{let n=await t.$axios.$post("/auth/rest-auth/login/",e).catch(t=>{console.log(t)});if(n){await l(n.token);let t=await r();await c(t)}},n.logout=o,t.$auth=n,e("auth",n)},qt=n(9),zt={name:"ContentEditable",render:function(t){let e=this.data;return t(this.elm,{on:{input:this.handleInput,paste:this.handlePaste},attrs:{contentEditable:this.editable},ref:"xxx",domProps:{innerHTML:this.data}},e)},props:{elm:{type:String,default:"div"},value:{type:String,default:""},editable:{type:Boolean,default:!0},allowPasteHtml:{default:!1,type:Boolean},rows:{default:null,type:Number}},data(){return{data:this.value,typing:!1}},methods:{handleInput(t){this.typing=!0,this.allowPasteHtml?this.$emit("input",t.target.innerHTML):this.$emit("input",t.target.innerText)},handlePaste(t){if(!this.allowPasteHtml){let data=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain"),e=/<(?!(\/\s*)?(b|i|em|s|strong|u)[>,\s])([^>])*>/g;data=data.replace(e,""),document.execCommand("insertHTML",!1,data),t.preventDefault()}}},watch:{value(){this.typing&&null!==this.value||(this.$refs.xxx.innerHTML=this.value)}}},Wt=Object(G.a)(zt,void 0,void 0,!1,null,null,"7d49ec15").exports;let Zt;var Kt={bind:(t,{value:e=!0})=>{if(e){const e=(element=t)?element.querySelectorAll("a[href],\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex],\n                                     *[contenteditable]"):null;if(e&&e.length>0){const n=e[0],o=e[e.length-1];Zt=t=>{t.target===n&&t.shiftKey&&"Tab"===t.key?(t.preventDefault(),o.focus()):t.target!==o||t.shiftKey||"Tab"!==t.key||(t.preventDefault(),n.focus())},t.addEventListener("keydown",Zt)}}var element},unbind:t=>{t.removeEventListener("keydown",Zt)}},Yt=n(8),Gt={name:"BModal",directives:{trapFocus:Kt},props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:()=>["escape","x","outside","button"]},onCancel:{type:Function,default:()=>{}},scroll:{type:String,default:()=>"clip",validator:t=>["clip","keep"].indexOf(t)>=0},fullScreen:Boolean,trapFocus:{type:Boolean,default:!1},customClass:String,ariaRole:{type:String,validator:t=>["dialog","alertdialog"].indexOf(t)>=0},ariaModal:Boolean},data(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width,animating:!0}},computed:{cancelOptions(){return"boolean"==typeof this.canCancel?!this.canCancel&&[]:this.canCancel},showX(){return this.cancelOptions.indexOf("x")>=0},customStyle(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active(t){this.isActive=t},isActive(t){this.handleScroll(),this.$nextTick(()=>{t&&this.$el&&this.$el.focus&&this.$el.focus()})}},methods:{handleScroll(){"undefined"!=typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top=`-${this.savedScrollTop}px`:(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel(t){this.cancelOptions.indexOf(t)<0||(this.onCancel.apply(null,arguments),this.close())},close(){this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{this.$destroy(),Object(Yt.b)(this.$el)},150))},keyPress(t){this.isActive&&27===t.keyCode&&this.cancel("escape")},afterEnter(){this.animating=!1},beforeLeave(){this.animating=!0}},created(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount(){this.programmatic&&document.body.appendChild(this.$el)},mounted(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy(){if("undefined"!=typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");const t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}}},Jt=Object(G.a)(Gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation},on:{"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":t.fullScreen},t.customClass],attrs:{tabindex:"-1",role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){return t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"animation-content",class:{"modal-content":!t.hasModalCard},style:t.customStyle},[t.component?n(t.component,t._g(t._b({tag:"component",on:{close:t.close}},"component",t.props,!1),t.events)):t.content?n("div",{domProps:{innerHTML:t._s(t.content)}}):t._t("default"),t._v(" "),t.showX?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.animating,expression:"!animating"}],staticClass:"modal-close is-large",attrs:{type:"button"},on:{click:function(e){return t.cancel("x")}}}):t._e()],2)]):t._e()])}),[],!1,null,null,"0558f83a").exports,Xt=n(2);const Qt=["escape","outside"];var te={name:"BDropdown",directives:{trapFocus:Kt},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator:t=>["is-top-right","is-top-left","is-bottom-left"].indexOf(t)>-1},mobileModal:{type:Boolean,default:()=>Xt.a.defaultDropdownMobileModal},ariaRole:{type:String,default:""},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:Xt.a.defaultTrapFocus},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean,forceActive:{type:Boolean,default:!1}},data(){return{selected:this.value,isActive:this.forceActive,isHoverable:this.hoverable,_isDropdown:!0}},computed:{rootClasses(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded}]},isMobileModal(){return this.mobileModal&&!this.inline&&!this.hoverable},cancelOptions(){return"boolean"==typeof this.canClose?this.canClose?Qt:[]:this.canClose},ariaRoleMenu(){return"menu"===this.ariaRole||"list"===this.ariaRole?this.ariaRole:null}},watch:{value(t){this.selected=t},isActive(t){this.$emit("active-change",t)},forceActive(){this.isActive=this.forceActive}},methods:{selectItem(t){if(this.multiple){if(this.selected){const e=this.selected.indexOf(t);-1===e?this.selected.push(t):this.selected.splice(e,1)}else this.selected=[t];this.$emit("change",this.selected)}else this.selected!==t&&(this.selected=t,this.$emit("change",this.selected));this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList(t){if(t===this.$refs.dropdownMenu)return!0;if(t===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){const e=this.$refs.dropdownMenu.querySelectorAll("*");for(const n of e)if(t===n)return!0}if(void 0!==this.$refs.trigger){const e=this.$refs.trigger.querySelectorAll("*");for(const n of e)if(t===n)return!0}return!1},clickedOutside(t){this.cancelOptions.indexOf("outside")<0||this.inline||this.isInWhiteList(t.target)||(this.isActive=!1)},keyPress(t){if(this.isActive&&27===t.keyCode){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},toggle(){this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick(()=>{const t=!this.isActive;this.isActive=t,setTimeout(()=>this.isActive=t)}))},checkHoverable(){this.hoverable&&(this.isHoverable=!0)}},created(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))}},ee=Object(G.a)(te,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown",class:t.rootClasses},[t.inline?t._e():t._ssrNode('<div role="button" aria-haspopup="true" class="dropdown-trigger">',"</div>",[t._t("trigger")],2),t._ssrNode(" "),n("transition",{attrs:{name:t.animation}},[t.isMobileModal?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!t.isActive}}):t._e()]),t._ssrNode(" "),n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(t.isActive||t.isHoverable)||t.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{"aria-hidden":!t.isActive}},[n("div",{staticClass:"dropdown-content",attrs:{role:t.ariaRoleMenu}},[t._t("default")],2)])])],2)}),[],!1,null,null,"4da05da7").exports,se=n(6),ie={name:"BNumberInput",components:{"b-icon":qt.a,"b-input":it.a},mixins:[se.a],inheritAttrs:!1,props:{value:Number,min:[Number,String],max:[Number,String],step:[Number,String],disabled:Boolean,type:{type:String,default:"is-text"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsRounded:{type:Boolean,default:!1},controlsPosition:String},data(){return{newValue:isNaN(this.value)?parseFloat(this.min)||0:this.value,newStep:this.step||1,_elementRef:"input"}},computed:{computedValue:{get(){return this.newValue},set(t){let e=t;""===t&&(e=parseFloat(this.min)||null),this.newValue=e,this.$emit("input",e),!this.isValid&&this.$refs.input.checkHtml5Validity()}},fieldClasses(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},disabledMin(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals(){const t=this.stepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value(t){this.newValue=t}},methods:{decrement(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){const t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){const t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick(t,e){0===t.detail&&"click"!==t.type&&(e?this.increment():this.decrement())},onStartLongPress(t,e){0!==t.button&&"touchstart"!==t.type||(this._$intervalTime=new Date,clearInterval(this._$intervalRef),this._$intervalRef=setInterval(()=>{e?this.increment():this.decrement()},250))},onStopLongPress(t){if(!this._$intervalRef)return;new Date-this._$intervalTime<250&&(t?this.increment():this.decrement()),clearInterval(this._$intervalRef),this._$intervalRef=null}}},ae=Object(G.a)(ie,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t.controls?t._ssrNode('<p class="control">',"</p>",[t._ssrNode('<button type="button"'+t._ssrAttr("disabled",t.disabled||t.disabledMin)+t._ssrClass("button",t.buttonClasses)+">","</button>",[n("b-icon",{attrs:{name:"minus"}})],1)]):t._e(),t._ssrNode(" "),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.newStep,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){return t.$emit("focus",e)},blur:function(e){return t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._ssrNode(" "),t.controls?t._ssrNode('<p class="control">',"</p>",[t._ssrNode('<button type="button"'+t._ssrAttr("disabled",t.disabled||t.disabledMax)+t._ssrClass("button",t.buttonClasses)+">","</button>",[n("b-icon",{attrs:{name:"plus"}})],1)]):t._e()],2)}),[],!1,null,null,"5ee0aa4b").exports,ne={name:"BRate",props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array},data(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle(){return`width:${this.valueDecimal}%`},showMe(){let t="";return this.showScore?(t=this.disabled?this.value:this.newValue,0===t&&(t="")):this.showText&&(t=this.texts[Math.ceil(this.newValue)-1]),t},valueDecimal(){return 100*this.value-100*Math.floor(this.value)}},watch:{value(t){this.newValue=t}},methods:{resetNewValue(){this.disabled||(this.hoverValue=0)},previewRate(t,e){this.disabled||(this.hoverValue=t,e.stopPropagation())},confirmValue(t){this.disabled||(this.newValue=t,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf(t){return this.disabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value},rateClass(t){let output="";return t<=(0!==this.hoverValue?this.hoverValue:this.newValue)?output="set-on":this.disabled&&Math.ceil(this.value)===t&&(output="set-half"),output}}},oe=Object(G.a)(ne,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":t.disabled,"is-spaced":t.spaced,"is-rtl":t.rtl}},[t._l(t.max,(function(e,o){return t._ssrNode("<div"+t._ssrClass("rate-item",t.rateClass(e))+">","</div>",[n("x-icon",{attrs:{name:"square",size:t.size}}),t._ssrNode(" "),t.checkHalf(e)?n("x-icon",{staticClass:"is-half",style:t.halfStyle,attrs:{name:"square"}}):t._e()],2)})),t._ssrNode(" "+(t.showText||t.showScore||t.customText?"<div"+t._ssrClass("rate-text",t.size)+"><span>"+t._ssrEscape(t._s(t.showMe))+"</span> "+(t.customText&&!t.showText?"<span>"+t._ssrEscape(t._s(t.customText))+"</span>":"\x3c!----\x3e")+"</div>":"\x3c!----\x3e"))],2)}),[],!1,null,null,"5a865607").exports,re={name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array,Date],nativeValue:[String,Number,Boolean,Function,Object,Array,Date],disabled:Boolean,type:String,name:String,required:Boolean,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!1},rounded:{type:Boolean,default:!0},outlined:{type:Boolean,default:!1}},data(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get(){return this.newValue},set(t){this.newValue=t,this.$emit("input",t)}},newClass(){return[this.size,{"is-disabled":this.disabled},{"is-rounded":this.rounded},{"is-outlined":this.outlined}]}},watch:{value(t){this.newValue=t}},methods:{focus(){this.$refs.input.focus()}}},le=Object(G.a)(re,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{ref:"label",staticClass:"switch",class:t.newClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())},mousedown:function(e){t.isMouseDown=!0},mouseup:function(e){t.isMouseDown=!1},mouseout:function(e){t.isMouseDown=!1},blur:function(e){t.isMouseDown=!1}}},[t._ssrNode('<input type="checkbox"'+t._ssrAttr("disabled",t.disabled)+t._ssrAttr("name",t.name)+t._ssrAttr("required",t.required)+t._ssrAttr("true-value",t.trueValue)+t._ssrAttr("false-value",t.falseValue)+t._ssrAttr("value",t.nativeValue)+t._ssrAttr("checked",Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue))+"> <span"+t._ssrClass("check",[{"is-elastic":t.isMouseDown&&!t.disabled},t.type])+"></span> "),t._ssrNode('<span class="control-label">',"</span>",[t._t("default")],2)],2)}),[],!1,null,null,"5478c072").exports;const ce=n(4);var de={name:"Task",props:{value:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},tree:{type:Boolean,default:!1}},data(){let t=this.value;return null===t.settings&&(t.settings={}),t.children&&t.settings.order&&(t.children.forEach(e=>{e.order=e.id?t.settings.order.indexOf(e.id):0}),t.children.sort((a,b)=>a.order-b.order)),{editing:!1,task:t,updateTree:!1,children:t.children}},computed:{dragOptions(){return{animation:0,group:"description",disabled:this.readonly,ghostClass:"ghost"}}},watch:{value:{deep:!0,handler:function(){this.task=new mt.a({...this.value,settings:this.value.settings?this.value.settings:{}})}},"value.children":{deep:!0,handler:function(t){let e=ce.cloneDeep(t);e.forEach(t=>{t.order=t.id&&this.task.settings.order?this.task.settings.order.indexOf(t.id):0}),e.sort((a,b)=>a.order-b.order),this.children=e}},task:{deep:!0,handler:function(){this.$emit("input",{...this.task,children:this.children})}},editing(){this.$emit("editing",this.editing)}},methods:{dblClick(){0===this.task.id?this.$emit("board-update"):this.editing=!0,this.tree&&(this.updateTree=!0)},close(){this.tree?this.updateTree=!1:this.editing=!1},on_input:ce.debounce((function(){this.task.id&&this.sendUpdate()}),500),async task_run(){this.playSource("audio_press"),0===this.children.length?await this.$store.commit("task/SET_RUNNING",this.task):this.editing=!0},async task_done(){0===this.children.length?(this.task.changeStatus("complete"),await this.$store.commit("task/UPDATE_TASK",this.task)):this.editing=!0},async task_add(){let t=this.$store.state.config.settings.timer,e=new mt.a({tomato:t.tomato,updating:!0,parent:0!==this.task.id?this.task.id:void 0,board:this.task.board});this.$emit("add",e)},async handle_add(t){this.$emit("add",t)},async handle_delete(){await this.$axios.$delete(`/task/tasks/${this.task.id}/`),this.$store.commit("task/REMOVE_TASK",this.task),this.editing=!1,this.$emit("deleted",this.task)},re_order(){this.task.settings.order=this.children.map(t=>t.id),this.sendUpdate()},setPriority(t){this.task.settings.priority=t,this.sendUpdate()},async sendUpdate(){this.task.updating=!0,await this.$store.commit("task/UPDATE_TASK",ce.cloneDeep(this.task))}}};var ue=Object(G.a)(de,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task",class:{"is-active":t.updateTree}},[t._ssrNode("<div"+t._ssrAttr("id","task-"+t.task.id)+">","</div>",[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"notification media",class:{"is-warning":"running"===t.task.status}},[n("div",{staticClass:"media-left"},[t.tree?n("div",{staticClass:"button",class:{"is-static":!t.children||0===t.children.length},on:{click:function(e){t.editing=!t.editing,t.updateTree=!1}}},[n("x-icon",{attrs:{name:"tree"}})],1):n("div",{staticClass:"button is-small",class:{"is-static":["stopped","complete"].includes(t.task.status)},on:{click:function(e){return t.task_done()}}},[n("x-icon",{attrs:{name:"check"}})],1)]),t._v(" "),n("div",{staticClass:"media-content",on:{click:t.dblClick}},[n("ce",{staticClass:"title",attrs:{placeholder:"Untitled",elm:"h4",editable:"running"!==t.task.status&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}}),t._v(" "),t.tree?n("small",{staticClass:"field"},[t._v(t._s(t.task.interval*t.task.tomato)+"m")]):n("b-rate",{staticClass:"is-small",attrs:{disabled:!t.editing||t.readonly},on:{input:t.setPriority},model:{value:t.task.settings.priority,callback:function(e){t.$set(t.task.settings,"priority",e)},expression:"task.settings.priority"}})],1),t._v(" "),["stopped","complete"].includes(t.task.status)||t.tree?t.tree?n("div",{staticClass:"media-right"},[n("b-rate",{attrs:{disabled:t.readonly,value:t.task.settings.priority},on:{input:t.setPriority}})],1):t._e():n("div",{staticClass:"media-right clickable"},[t.readonly?n("div",{staticClass:"button is-small",on:{click:t.task_add}},[n("x-icon",{attrs:{name:"plus"}})],1):n("div",{staticClass:"buttons"},[n("div",{staticClass:"button is-hidden-mobile is-text"},[t._v("\n                            "+t._s(t.task.times.length)+" / "+t._s(t.task.interval)+"\n                        ")]),t._v(" "),"running"!==t.task.status?n("div",{staticClass:"button is-text is-hidden-mobile"},[t._v("\n                            "+t._s(t.fancyTimeFormat(t.task.totalTimeLeft()))+"\n                        ")]):t._e(),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){return t.task_run()}}},[n("x-icon",{staticClass:"is-medium",attrs:{name:"running"===t.task.status?"pause":"play"}})],1)])])])]),t._ssrNode(" "),n("transition",{attrs:{name:"bounce"}},[t.editing?n("div",{staticClass:"card"},[t.task.parent&&!t.tree?n("div",{staticClass:"card-header"},[n("ce",{staticClass:"card-header-title title",attrs:{placeholder:"Untitled",elm:"h4",editable:"running"!==t.task.status&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1):t._e(),t._v(" "),t.task.parent&&!t.tree?n("div",{staticClass:"card-content"},[n("b-rate",{staticClass:"is-small",attrs:{"custom-text":"Priority",disabled:!t.editing},on:{input:t.setPriority},model:{value:t.task.settings.priority,callback:function(e){t.$set(t.task.settings,"priority",e)},expression:"task.settings.priority"}})],1):t._e(),t._v(" "),n("div",{staticClass:"card-content"},[!t.tree||t.updateTree?n("ce",{staticClass:"note",attrs:{elm:"div",placeholder:"Note","allow-paste-html":"",editable:!t.task.isRunning()&&!t.readonly},on:{input:function(e){return t.on_input()}},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}}):t._e(),t._v(" "),n("draggable",t._b({staticClass:"tasks",attrs:{list:t.children},on:{change:t.re_order}},"draggable",t.dragOptions,!1),t._l(t.children,(function(e){return n("task",{key:e.id,attrs:{value:e,readonly:t.readonly,tree:t.tree},on:{add:t.handle_add,deleted:function(e){return t.$emit("deleted",e)}}})})),1),t._v(" "),!t.task.id||t.tree&&!t.updateTree||t.readonly?t._e():n("div",{staticClass:"field"},[n("div",{staticClass:"button is-text is-small is-fullwidth",on:{click:t.task_add}},[n("x-icon",{attrs:{name:"plus"}}),t._v(" "),n("span",[t._v("Add child")])],1)]),t._v(" "),!t.tree||t.updateTree?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Estimate")]),t._v(" "),n("b-number-input",{attrs:{disabled:t.task.isRunning()||t.readonly,min:1,max:10,controlsPosition:"compact",expanded:"",size:"is-small"},on:{input:function(e){return t.on_input()}},model:{value:t.task.interval,callback:function(e){t.$set(t.task,"interval",e)},expression:"task.interval"}})],1):t._e()],1),t._v(" "),t.tree&&!t.updateTree||t.readonly?t._e():n("div",{staticClass:"card-footer"},[n("div",{staticClass:"card-footer-item",on:{click:t.handle_delete}},[n("x-icon",{attrs:{name:"trash"}})],1)]),t._v(" "),!t.tree||t.updateTree?n("div",{staticClass:"close",on:{click:function(e){return t.close()}}},[n("x-icon",{attrs:{name:"close"}})],1):t._e()]):t._e()])],2)])}),[],!1,(function(t){}),null,"62865b9d").exports,he={name:"Task",props:{value:{type:Object,default:()=>({})}},data(){return{task:this.value}},computed:{style(){return this.task.temp_setting?{top:this.task.temp_setting.top+"px",left:this.task.temp_setting.left+"px"}:{}}},watch:{value(){this.task=this.value},task:{deep:!0,handler:function(){this.$emit("input",this.task)}}},methods:{handle(data){this.$emit("down",data)},async task_add(){let t=this.$store.state.config.settings.timer,e=new mt.a({tomato:t.tomato,updating:!0,parent:0!==this.task.id?this.task.id:void 0,board:this.task.board});this.$emit("add",e)},async handle_add(t){this.$emit("add",t)}}};var pe=Object(G.a)(he,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task",style:t.style},[t._ssrNode("<div"+t._ssrAttr("id","task-"+t.task.id)+">","</div>",[t._ssrNode('<div class="notification media">',"</div>",[t._ssrNode('<div class="media-content"><h4 class="title">'+t._ssrEscape(t._s(t.task.title))+'</h4> <small class="field">'+t._ssrEscape(t._s(t.task.interval*t.task.tomato)+"m")+"</small></div> "),["stopped","complete"].includes(t.task.status)?t._e():t._ssrNode('<div class="media-right clickable">',"</div>",[t._ssrNode('<div class="button is-small">',"</div>",[n("x-icon",{attrs:{name:"plus"}})],1)])],2)]),t._ssrNode(" "),t.task.children&&t.task.children.length?t._ssrNode('<div class="tasks">',"</div>",t._l(t.task.children,(function(e){return n("task-graph",{key:e.id,attrs:{value:e},on:{down:t.handle,add:t.handle_add,deleted:function(e){return t.$emit("deleted",e)}}})})),1):t._e()],2)}),[],!1,(function(t){}),null,"67e66ee1").exports,me=n(33),fe=n.n(me);const ve=n(51);var ge={name:"Chart",props:{width:{type:String,default:"100%"},height:{type:String,default:"250px"},data:{default:()=>[],type:Array}},computed:{style(){return{width:this.width,height:this.height}}},methods:{init(){const t=this.$refs.myChart.getContext("2d");ve.defaults.global.defaultColor="#333333",ve.defaults.global.defaultFontColor="#333333",ve.defaults.global.defaultFontSize=14,new ve(t,{type:"line",data:{labels:["0H","1H","2H","3H","4H","5H","6H","7H","8H","9H","10H","11H","12H","13H","14H","15H","16H","17H","18H","19H","20H","21H","22H","23H"],datasets:[{label:"",data:this.data,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1}})}},mounted(){this.init()},watch:{data(){this.init()}}};var _e=Object(G.a)(ge,(function(){var t=this.$createElement;return(this._self._c||t)("div",{style:this.style},[this._ssrNode("<canvas data-v-67521fac></canvas>")])}),[],!1,(function(t){}),"67521fac","12941129").exports,be={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:String,label:String,position:{type:String,default:"is-top",validator:t=>["is-top","is-bottom","is-left","is-right"].indexOf(t)>-1},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},delay:Number},computed:{newType(){return this.type||Xt.a.defaultTooltipType},newAnimated(){return this.animated||Xt.a.defaultTooltipAnimated},newDelay(){return this.delay||Xt.a.defaultTooltipDelay}}},ye=Object(G.a)(be,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:[t.newType,t.position,t.size,{"b-tooltip":t.active,"is-square":t.square,"is-animated":t.newAnimated,"is-always":t.always,"is-multiline":t.multilined,"is-dashed":t.dashed}],style:{"transition-delay":t.newDelay+"ms"},attrs:{"data-label":t.label}},[t._t("default")],2)}),[],!1,null,null,"46a86b0f").exports;l.a.component("x-icon",qt.a),l.a.component("ce",Wt),l.a.component("b-modal",Jt),l.a.component("b-tooltip",ye),l.a.component("b-dropdown",ee),l.a.component("b-number-input",ae),l.a.component("b-switch",le),l.a.component("b-rate",oe),l.a.component("task",ue),l.a.component("task-graph",pe),l.a.component("draggable",fe.a),l.a.component("time-chart",_e),l.a.config.devtools=!0;var we=n(13),xe=n.n(we);l.a.mixin({data:()=>({moment:xe.a}),methods:{cleanURI:t=>t?t.split("?")[0].split("#")[0]:null,cleanURL:t=>t.replace(/^https?:\/\//,"").replace(/\/+$/,""),timeSince(t){let e=xe()().diff(this.momentTime(t),"seconds",!1);return this.convertTime(e)},convertTime(t){var e=Math.floor(t/31536e3);return e>1?e+" years":(e=Math.floor(t/2592e3))>1?e+" month":(e=Math.floor(t/86400))>1?e+" day":(e=Math.floor(t/3600))>1?e+" hours":(e=Math.floor(t/60))>1?e+" minutes":Math.floor(t)+" seconds"},capitalizeFirst:t=>t.charAt(0).toUpperCase()+t.slice(1),convertName:t=>t.profile&&t.profile.nick?t.profile.nick:t.first_name||t.last_name?t.first_name+" "+t.last_name:t.username,formatDate:t=>new xe.a(t,"YYYY-MM-DD").format("YYYY-MM-DD"),cleanData(data,t){let e={};return void 0===t&&(t=Object.keys(data)),t.forEach(i=>{void 0!==data[i]&&(["created","updated","start_date","due_date"].includes(i)?e[i]=this.momentTime(data[i]).format("YYYY-MM-DD HH:mm"):Array.isArray(data[i])?e[i]=data[i].map(t=>t.id?t.id:t):"object"==typeof data[i]&&data[i]&&data[i].id?e[i]=data[i].id:e[i]=data[i])}),e},cleanFilter(data,t){let e={};return void 0===t&&(t=Object.keys(data)),t.forEach(i=>{void 0!==data[i]&&(Array.isArray(data[i])?e[i]=data[i].map(t=>t.id?t.id:t.value?t.value:t):"object"==typeof data[i]&&null!==data[i]?data[i].id?e[i]=data[i].id:void 0!==data[i].value?e[i]=data[i].value:e[i]=data[i]:e[i]=data[i])}),e},convertDate:t=>t?new Date(t+" UTC"):null,momentTime:t=>xe()(t,"YYYY-MM-DDTHH:mm").utc(),formatMomentTime:t=>t.format("YYYY-MM-DD HH:mm:ss"),fancyTimeFormat(time){let t=~~(time/3600),e=~~(time%3600/60),s=~~time%60;if(t>24)return"00:00:00";let n=t<10?"0":"";return n+=t+":"+(e<10?"0":""),n+=e+":"+(s<10?"0":""),n+=""+s,n},avatarName(t,e){let n=t.match(/\b(\w)/g);return e?n.join("").substr(0,e):n.join("")},toTop(t=0){let e=document.querySelector(".main-content .main");null===e&&(e=document.getElementById("__nuxt")),e.scrollTop=t,document.body.scrollTop=t,document.documentElement.scrollTop=t},playSource(t){this[t]&&this[t].play()},getAngle(t,e,n){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),l=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)),c=180*Math.acos((Math.pow(o,2)+Math.pow(r,2)-Math.pow(l,2))/(2*o*r))/Math.PI;return n.x<t.x&&(c=360-c),c},hierarchy(data=[],{idKey:t="id",parentKey:e="parentId",childrenKey:n="children"}={}){const o=[],r={};return data.forEach(l=>{void 0===(l=new mt.a(l)).id&&(l.id=0);const{[t]:c,[e]:d=0}=l;r[c]=r[c]||[],l[n]=r[c],d?(r[d]=r[d]||[]).push(l):o.push(l)}),o},getOffset(t){let rect=t.getBoundingClientRect(),e=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,o={y:rect.top+n-40,x:rect.left+e},r=[o,{x:o.x+rect.width/2,y:o.y},{x:o.x+rect.width,y:o.y},{x:o.x+rect.width,y:o.y+rect.height/2},{x:o.x+rect.width,y:o.y+rect.height},{x:o.x+rect.width/2,y:o.y+rect.height},{x:o.x,y:o.y+rect.height},{x:o.x,y:o.y+rect.height/2}];return{width:rect.width,height:rect.height,...o,points:r,center:{x:o.x+rect.width/2,y:o.y+rect.height/2}}},openLogin(t){t!==this.$store.state.auth.openAuth&&this.$store.commit("auth/SET_OPEN_AUTH",t)},navigate(t){this.$router.replace({path:t})}},computed:{currentUser:{get(){return this.$store.getters["auth/getUser"]},set(){}},audio_rang:()=>new Audio("/sound/001.wav"),audio_press:()=>new Audio("/sound/002.mp3")}}),l.a.component(B.a.name,B.a),l.a.component(j.a.name,{...j.a,render:(t,e)=>j.a.render(t,e)}),l.a.component(W.name,W),l.a.component("NChild",W),l.a.component(X.name,X),l.a.use(O.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});const Ce={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};async function ke(t){const e=await new P.a(z),n=kt(t);n.$router=e;const o=n.registerModule;n.registerModule=(path,t,e)=>o.call(n,path,t,Object.assign({preserveState:!1},e));const r={head:{titleTemplate:"%s - Bubblask.com",title:"Bubblask",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"Bubblask is the flexible and easy app that use pomodoro technique to manage your time in working, studying. More over Bubblask help you improve the ability to estimate the time of work by analytic how you work!"},{hid:"mobile-web-app-capable",name:"mobile-web-app-capable",content:"yes"},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:"bubblask"},{hid:"author",name:"author",content:"lam"},{hid:"theme-color",name:"theme-color",content:"#FFF"},{hid:"og:type",name:"og:type",property:"og:type",content:"website"},{hid:"og:title",name:"og:title",property:"og:title",content:"bubblask"},{hid:"og:site_name",name:"og:site_name",property:"og:site_name",content:"bubblask"},{hid:"og:description",name:"og:description",property:"og:description",content:"Bubble Task"}],link:[{rel:"apple-touch-icon",sizes:"57x57",type:"image/x-icon",href:"/icon/apple-icon-57x57.png"},{rel:"icon",sizes:"96x96",type:"image/png",href:"/icon/favicon-96x96.png"},{rel:"icon",sizes:"32x32",type:"image/png",href:"/icon/favicon-32x32.png"},{rel:"icon",sizes:"16x16",type:"image/png",href:"/icon/favicon-16x16.png"},{rel:"manifest",href:"/_nuxt/manifest.dba99f66.json"},{rel:"shortcut icon",href:"/_nuxt/icons/icon_64.5f6a36.png"}],script:[{src:"https://js.pusher.com/6.0/pusher.min.js"}],style:[],htmlAttrs:{lang:"en"}},store:n,router:e,nuxt:{defaultTransition:Ce,transitions:[Ce],setTransitions(t){return Array.isArray(t)||(t=[t]),t=t.map(t=>t=t?"string"==typeof t?Object.assign({},Ce,{name:t}):Object.assign({},Ce,t):Ce),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error(e){e=e||null,r.context._errored=Boolean(e),e=e?S(e):null;let n=r.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}},...bt};n.app=r;const c=t?t.next:t=>r.router.push(t);let d;if(t)d=e.resolve(t.url).route;else{const path=function(base,t){let path=decodeURI(window.location.pathname);return"hash"===t?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}(e.options.base,e.options.mode);d=e.resolve(path).route}await x(r,{store:n,route:d,next:c,error:r.nuxt.error.bind(r),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});const h=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===e)throw new Error(`inject('${t}', value) has no value provided`);r[t="$"+t]=e,n[t]=r[t];const o="__nuxt_"+t+"_installed__";l.a[o]||(l.a[o]=!0,l.a.use(()=>{Object.prototype.hasOwnProperty.call(l.a,t)||Object.defineProperty(l.a.prototype,t,{get(){return this.$root.$options[t]}})}))};return await At(r.context,h),await Mt(r.context,h),await Ft(r.context,h),await Pt(r.context),await Ut(r.context,h),t&&t.url&&await new Promise((n,o)=>{e.push(t.url,n,()=>{const o=e.afterEach(async(e,l,c)=>{t.url=e.fullPath,r.context.route=await w(e),r.context.params=e.params||{},r.context.query=e.query||{},o(),n()})})}),{store:n,app:r,router:e}}var $e={name:"NuxtLink",extends:l.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}}};l.a.config.optionMergeStrategies.serverPrefetch=l.a.config.optionMergeStrategies.created,l.a.__nuxt__fetch__mixin__||(l.a.mixin(H),l.a.__nuxt__fetch__mixin__=!0),l.a.component($e.name,$e),l.a.component("NLink",$e),global.fetch||(global.fetch=d.a);const Se=()=>new l.a({render:t=>t("div")});const Te=t=>e=>{if(t.redirected=e,!t.res)return void(t.nuxt.serverRendered=!1);e.query=Object(o.stringify)(e.query),e.path=e.path+(e.query?"?"+e.query:"");e.path.startsWith("http"),e.path!==t.url?(t.res.writeHead(e.status,{Location:e.path}),t.res.end()):t.redirected=!1};e.default=async t=>{t.redirected=!1,t.next=Te(t),t.beforeRenderFns=[],t.nuxt={layout:"default",data:[],fetch:[],error:null,state:null,serverRendered:!0,routePath:""};const{app:e,router:n,store:o}=await ke(t),r=new l.a(e);t.nuxt.routePath=e.context.route.path,t.meta=r.$meta(),t.asyncData={};const c=async()=>{await Promise.all(t.beforeRenderFns.map(e=>k(e,{Components:_,nuxtState:t.nuxt}))),t.rendered=()=>{t.nuxt.state=o.state}},d=async()=>{const n=(J.options||J).layout,o="function"==typeof n?n.call(J,e.context):n;return t.nuxt.layout=o||"default",await r.loadLayout(o),r.setLayout(o),await c(),r},m=()=>(e.context.error({statusCode:404,path:t.url,message:"This page could not be found"}),d()),_=v(n.match(t.url));if(o._actions&&o._actions.nuxtServerInit)try{await o.dispatch("nuxtServerInit",e.context)}catch(t){throw console.debug("Error occurred when calling nuxtServerInit: ",t.message),t}if(t.redirected)return Se();if(t.nuxt.error)return d();let y=[];if(y=y.map(t=>"function"==typeof t?t:("function"!=typeof h[t]&&e.context.error({statusCode:500,message:"Unknown middleware "+t}),h[t])),await C(y,e.context),t.redirected)return Se();if(t.nuxt.error)return d();let w=_.length?_[0].options.layout:J.layout;if("function"==typeof w&&(w=w(e.context)),await r.loadLayout(w),t.nuxt.error)return d();if(w=r.setLayout(w),t.nuxt.layout=r.layoutName,y=[],w=f(w),w.options.middleware&&(y=y.concat(w.options.middleware)),_.forEach(t=>{t.options.middleware&&(y=y.concat(t.options.middleware))}),y=y.map(t=>"function"==typeof t?t:("function"!=typeof h[t]&&e.context.error({statusCode:500,message:"Unknown middleware "+t}),h[t])),await C(y,e.context),t.redirected)return Se();if(t.nuxt.error)return d();let x=!0;try{for(const t of _)if("function"==typeof t.options.validate&&(x=await t.options.validate(e.context),!x))break}catch(t){return e.context.error({statusCode:t.statusCode||"500",message:t.message}),d()}if(!x)return t._generate&&(t.nuxt.serverRendered=!1),m();if(!_.length)return m();const $=await Promise.all(_.map(n=>{const o=[];if(n.options.asyncData&&"function"==typeof n.options.asyncData){const r=k(n.options.asyncData,e.context);r.then(e=>(t.asyncData[n.cid]=e,function(t,e){if(!e&&t.options.__hasNuxtData)return;const n=t.options._originDataFn||t.options.data||function(){return{}};t.options._originDataFn=n,t.options.data=function(){const data=n.call(this,this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),{...data,...e}},t.options.__hasNuxtData=!0,t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data)}(n),e)),o.push(r)}else o.push(null);return n.options.fetch&&n.options.fetch.length?o.push(n.options.fetch(e.context)):o.push(null),Promise.all(o)}));return t.nuxt.data=$.map(t=>t[0]||{}),t.redirected?Se():t.nuxt.error?d():(await c(),r)}},function(t,e){t.exports=require("@svgdotjs/svg.js")}]);