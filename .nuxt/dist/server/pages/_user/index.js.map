{"version":3,"file":"pages/_user/index.js","sources":["webpack:///./components/CalendarHeatMap/index.vue?2e91","webpack:///./components/CalendarHeatMap/index.vue?2ceb","webpack:///./components/CalendarHeatMap/index.vue?14d5","webpack:///./components/CalendarHeatMap/index.vue?5abc","webpack:///./pages/_user/index.vue?3c3a","webpack:///./components/CalendarHeatMap/index.vue?2c6b","webpack:///./components/CalendarHeatMap/consts.js","webpack:///./components/CalendarHeatMap/Heatmap.js","webpack:///./components/CalendarHeatMap/index.vue","webpack:///./components/CalendarHeatMap/index.vue?fcec","webpack:///./components/CalendarHeatMap/index.vue?17fa","webpack:///./pages/_user/index.vue","webpack:///./pages/_user/index.vue?1c04","webpack:///./pages/_user/index.vue?1fc2"],"sourcesContent":["// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n","import mod from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5592a248&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5592a248&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-1!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-1!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div class=\\\"hero is-light is-small\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"hero-body\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"media\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"media-left\\\" style=\\\"margin-right: 2rem;\\\" data-v-e8604c02>\",\"</div>\",[_c('avatar',{staticClass:\"is-96x96\",attrs:{\"can-update\":_vm.updating},model:{value:(_vm.profile.media),callback:function ($$v) {_vm.$set(_vm.profile, \"media\", $$v)},expression:\"profile.media\"}})],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"media-content\\\" data-v-e8604c02>\",\"</div>\",[(!_vm.updating)?_vm._ssrNode(\"<h1 class=\\\"title\\\" data-v-e8604c02>\",\"</h1>\",[_vm._ssrNode(_vm._ssrEscape(_vm._s(_vm.convertName(_vm.user))))],2):_vm._ssrNode(\"<div class=\\\"columns is-grapless\\\" style=\\\"margin-bottom: 0\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column\\\" data-v-e8604c02>\",\"</div>\",[_c('ce',{staticClass:\"title\",attrs:{\"elm\":\"h1\",\"editable\":true,\"placeholder\":\"First name\"},model:{value:(_vm.user.first_name),callback:function ($$v) {_vm.$set(_vm.user, \"first_name\", $$v)},expression:\"user.first_name\"}})],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"column\\\" data-v-e8604c02>\",\"</div>\",[_c('ce',{staticClass:\"title\",attrs:{\"elm\":\"h1\",\"editable\":true,\"placeholder\":\"Last name\"},model:{value:(_vm.user.last_name),callback:function ($$v) {_vm.$set(_vm.user, \"last_name\", $$v)},expression:\"user.last_name\"}})],1)],2),_vm._ssrNode(\" \"),_c('ce',{staticClass:\"subtitle\",attrs:{\"elm\":\"div\",\"editable\":_vm.updating,\"placeholder\":\"Bio\"},model:{value:(_vm.profile.bio),callback:function ($$v) {_vm.$set(_vm.profile, \"bio\", $$v)},expression:\"profile.bio\"}}),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"buttons\\\" data-v-e8604c02>\",\"</div>\",_vm._l((Object.keys(_vm.profile.links)),function(field){return (_vm.profile.links[field])?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.profile.links[field]))+\" target=\\\"_blank\\\" class=\\\"button is-small\\\" data-v-e8604c02>\",\"</a>\",[_c('x-icon',{attrs:{\"name\":field}})],1):_vm._e()}),0)],2),_vm._ssrNode(\" \"),(_vm.currentUser && _vm.currentUser.id === _vm.user.id)?_vm._ssrNode(\"<div class=\\\"media-right\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"button is-text\\\" data-v-e8604c02>\",\"</div>\",[_c('x-icon',{attrs:{\"name\":\"pen\"}})],1)]):_vm._e()],2)])])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"section\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-e8604c02>\",\"</div>\",[(!_vm.updating)?_vm._ssrNode(\"<div class=\\\"columns is-multiline\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-12\\\" data-v-e8604c02>\",\"</div>\",[_c('calendar-heat-map',{attrs:{\"values\":_vm.chartValues,\"end-date\":new Date()}})],1),_vm._ssrNode(\" <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>Focus</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.reportData.total_focus.toFixed(1)))+\"</span> <span data-v-e8604c02>h</span></div></div></div></div></div> <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>Accurate estimates</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(100 - _vm.reportData.accurate_estimates.toFixed(1)))+\"</span> <span data-v-e8604c02>%</span></div></div></div></div></div> <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>AVG focus</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s((_vm.reportData.avg_focus / 60).toFixed(1)))+\"</span> <span data-v-e8604c02>h/day</span></div></div></div></div></div> <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>Total complete</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.reportData.total_task_done))+\"</span> <span data-v-e8604c02>tasks</span></div></div></div></div></div> <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>Total Delays/Interruptions</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.reportData.total_task_delay))+\"</span> <span data-v-e8604c02>tasks</span></div></div></div></div></div> <div class=\\\"column is-4\\\" data-v-e8604c02><div class=\\\"card\\\" data-v-e8604c02><div class=\\\"card-content\\\" data-v-e8604c02><div class=\\\"media\\\" data-v-e8604c02><div class=\\\"media-content\\\" data-v-e8604c02><h4 data-v-e8604c02>Ranking</h4></div> <div class=\\\"media-right\\\" data-v-e8604c02><span class=\\\"title\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.reportData.rank))+\"</span> <span data-v-e8604c02>th</span></div></div></div></div></div> \"),_vm._ssrNode(\"<div class=\\\"column is-12\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card-content\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"level\\\" data-v-e8604c02><div class=\\\"level-left\\\" data-v-e8604c02><h4 data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.convertName(_vm.user))+\"'s work time\")+\"</h4></div> <div class=\\\"level-right\\\" data-v-e8604c02>\"+_vm._ssrEscape(_vm._s(_vm.convertName(_vm.user))+\"'s timezone: \"+_vm._s(_vm.user.profile.time_zone))+\"</div></div> \"),_c('time-chart',{attrs:{\"data\":_vm.time_works}})],2)])])],2):_vm._ssrNode(\"<div data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<h4 class=\\\"widget_title\\\" data-v-e8604c02>Links</h4> \"),_vm._ssrNode(\"<div class=\\\"columns is-gapless is-mobile\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-3 v-center is-text field\\\" data-v-e8604c02><span data-v-e8604c02>Website</span></div> \"),_vm._ssrNode(\"<div class=\\\"column is-9\\\" data-v-e8604c02>\",\"</div>\",[_c('b-input',{attrs:{\"placeholder\":\"https://bubblask.com\",\"expanded\":\"\"},model:{value:(_vm.profile.links.ws),callback:function ($$v) {_vm.$set(_vm.profile.links, \"ws\", $$v)},expression:\"profile.links.ws\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"columns is-gapless is-mobile\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-3 v-center is-text field\\\" data-v-e8604c02><span data-v-e8604c02>Facebook</span></div> \"),_vm._ssrNode(\"<div class=\\\"column is-9\\\" data-v-e8604c02>\",\"</div>\",[_c('b-input',{attrs:{\"placeholder\":\"https://facebook.com/bubblask\",\"expanded\":\"\"},model:{value:(_vm.profile.links.fb),callback:function ($$v) {_vm.$set(_vm.profile.links, \"fb\", $$v)},expression:\"profile.links.fb\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"columns is-gapless is-mobile\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-3 v-center is-text field\\\" data-v-e8604c02><span data-v-e8604c02>Twitter</span></div> \"),_vm._ssrNode(\"<div class=\\\"column is-9\\\" data-v-e8604c02>\",\"</div>\",[_c('b-input',{attrs:{\"placeholder\":\"https://twitter.com@/bubblask\",\"expanded\":\"\"},model:{value:(_vm.profile.links.tw),callback:function ($$v) {_vm.$set(_vm.profile.links, \"tw\", $$v)},expression:\"profile.links.tw\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"columns is-gapless is-mobile\\\" data-v-e8604c02>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"column is-3 v-center is-text field\\\" data-v-e8604c02><span data-v-e8604c02>LinkedIn</span></div> \"),_vm._ssrNode(\"<div class=\\\"column is-9\\\" data-v-e8604c02>\",\"</div>\",[_c('b-input',{attrs:{\"placeholder\":\"https://linkedin.com/bubblask\",\"expanded\":\"\"},model:{value:(_vm.profile.links.li),callback:function ($$v) {_vm.$set(_vm.profile.links, \"li\", $$v)},expression:\"profile.links.li\"}})],1)],2)],2)])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"vch__wrapper\",attrs:{\"viewBox\":_vm.viewBox}},[_vm._ssrNode(\"<g\"+(_vm._ssrAttr(\"transform\",_vm.monthsLabelWrapperTransform[_vm.position]))+\" class=\\\"vch__months__labels__wrapper\\\" data-v-5592a248>\"+(_vm._ssrList((_vm.heatMap.firstFullWeekOfMonths),function(month,index){return (\"<text\"+(_vm._ssrAttr(\"x\",_vm.getMonthLabelPosition(month).x))+(_vm._ssrAttr(\"y\",_vm.getMonthLabelPosition(month).y))+\" class=\\\"vch__month__label\\\" data-v-5592a248>\"+_vm._ssrEscape(_vm._s(_vm.lo.months[month.value])+\"\\n        \")+\"</text>\")}))+\"</g> <g\"+(_vm._ssrAttr(\"transform\",_vm.daysLabelWrapperTransform[_vm.position]))+\" class=\\\"vch__days__labels__wrapper\\\" data-v-5592a248><text\"+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 1 : 0))+(_vm._ssrAttr(\"y\",_vm.vertical ? _vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE : 20))+\" class=\\\"vch__day__label\\\" data-v-5592a248>\"+_vm._ssrEscape(_vm._s(_vm.lo.days[1])+\"\\n        \")+\"</text> <text\"+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 3 : 0))+(_vm._ssrAttr(\"y\",_vm.vertical ? _vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE : 44))+\" class=\\\"vch__day__label\\\" data-v-5592a248>\"+_vm._ssrEscape(_vm._s(_vm.lo.days[3])+\"\\n        \")+\"</text> <text\"+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 5 : 0))+(_vm._ssrAttr(\"y\",_vm.vertical ? _vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE : 69))+\" class=\\\"vch__day__label\\\" data-v-5592a248>\"+_vm._ssrEscape(_vm._s(_vm.lo.days[5])+\"\\n        \")+\"</text></g> <g\"+(_vm._ssrAttr(\"transform\",_vm.legendWrapperTransform[_vm.position]))+\" class=\\\"vch__legend__wrapper\\\" data-v-5592a248><text\"+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 1.25 : -25))+(_vm._ssrAttr(\"y\",_vm.vertical ? 8 : _vm.SQUARE_SIZE + 1))+\" data-v-5592a248>\"+_vm._ssrEscape(_vm._s(_vm.lo.less))+\"</text> \"+(_vm._ssrList((_vm.rangeColor),function(color,index){return (\"<rect\"+(_vm._ssrAttr(\"width\",_vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE))+(_vm._ssrAttr(\"height\",_vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE))+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 1.75 : _vm.SQUARE_SIZE * index))+(_vm._ssrAttr(\"y\",_vm.vertical ? _vm.SQUARE_SIZE * (index + 1) : 5))+(_vm._ssrStyle(null,{ fill: color }, null))+\" data-v-5592a248></rect>\")}))+\" <text\"+(_vm._ssrAttr(\"x\",_vm.vertical ? _vm.SQUARE_SIZE * 1.25 : _vm.SQUARE_SIZE * _vm.rangeColor.length + 1))+(_vm._ssrAttr(\"y\",_vm.vertical ? _vm.SQUARE_SIZE * (_vm.rangeColor.length + 2) - _vm.SQUARE_BORDER_SIZE : _vm.SQUARE_SIZE + 1))+\" data-v-5592a248>\"+_vm._ssrEscape(\"\\n            \"+_vm._s(_vm.lo.more)+\"\\n        \")+\"</text></g> <g\"+(_vm._ssrAttr(\"transform\",_vm.yearWrapperTransform))+\" class=\\\"vch__year__wrapper\\\" data-v-5592a248>\"+(_vm._ssrList((_vm.heatMap.calendar),function(week,weekIndex){return (\"<g\"+(_vm._ssrAttr(\"transform\",_vm.getWeekPosition(weekIndex)))+\" class=\\\"vch__month__wrapper\\\" data-v-5592a248>\"+(_vm._ssrList((week),function(day,dayIndex){return (((day.date < _vm.now)?(\"<rect\"+(_vm._ssrAttr(\"transform\",_vm.getDayPosition(dayIndex)))+(_vm._ssrAttr(\"width\",_vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE))+(_vm._ssrAttr(\"height\",_vm.SQUARE_SIZE - _vm.SQUARE_BORDER_SIZE))+\" class=\\\"vch__day__square\\\"\"+(_vm._ssrStyle(null,{ fill: _vm.rangeColor[day.colorIndex] }, null))+\" data-v-5592a248></rect>\"):\"<!---->\"))}))+\"</g>\")}))+\"</g>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const DEFAULT_RANGE_COLOR = ['#ebedf0', '#dae2ef', '#c0ddf9', '#73b3f3', '#3886e1', '#17459e']\n\nexport const DEFAULT_LOCALE = {\n  months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  days: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  on: 'on',\n  less: 'Less',\n  more: 'More'\n}\n\nexport const DEFAULT_TOOLTIP_UNIT = 'contributions'\n\nexport const DAYS_IN_ONE_YEAR = 365\n\nexport const DAYS_IN_WEEK = 7\n\nexport const SQUARE_SIZE = 10\n","import {DAYS_IN_ONE_YEAR, DAYS_IN_WEEK} from './consts'\n\nexport default class CalendarHeatMap {\n    constructor(endDate, values, max) {\n        this.endDate = this._parseDate(endDate)\n        this.max = max || Math.ceil((Math.max(...values.map(day => day.count)) / 5) * 4)\n        this.startDate = this._shiftDate(endDate, -DAYS_IN_ONE_YEAR)\n        this.values = values\n    }\n\n    get activities() {\n        return this.values.reduce((newValues, day) => {\n            newValues[this._keyDayParser(day.date)] = {\n                count: day.count,\n                colorIndex: this.getColorIndex(day.count)\n            }\n            return newValues\n        }, {})\n    }\n\n    get weekCount() {\n        return this.getDaysCount() / DAYS_IN_WEEK\n    }\n\n    get calendar() {\n        let date = this._shiftDate(this.startDate, -this.getCountEmptyDaysAtStart())\n        return Array.from({length: this.weekCount},\n            () => Array.from({length: DAYS_IN_WEEK},\n                () => {\n                    let dDate = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n                    let dayValues = this.activities[this._keyDayParser(dDate)]\n                    date.setDate(date.getDate() + 1)\n                    return {\n                        date: dDate,\n                        count: dayValues ? dayValues.count : null,\n                        colorIndex: dayValues ? dayValues.colorIndex : 0\n                    }\n                }\n            )\n        )\n    }\n\n    get firstFullWeekOfMonths() {\n        return this.calendar.reduce((months, week, index, weeks) => {\n            if (index > 0) {\n                let lastWeek = weeks[index - 1][0].date\n                let currentWeek = week[0].date\n                if (lastWeek.getFullYear() < currentWeek.getFullYear() || lastWeek.getMonth() < currentWeek.getMonth()) {\n                    months.push({value: currentWeek.getMonth(), index})\n                }\n            }\n            return months\n        }, [])\n    }\n\n    getColorIndex(value) {\n        if (value === null || value === undefined) {\n            return 0\n        } else if (value <= 0) {\n            return 1\n        } else if (value >= this.max) {\n            return 5\n        } else {\n            return (Math.ceil(((value * 100) / this.max) * (0.03))) + 1\n        }\n    }\n\n    getCountEmptyDaysAtStart() {\n        return this.startDate.getDay()\n    }\n\n    getCountEmptyDaysAtEnd() {\n        return (DAYS_IN_WEEK - 1) - this.endDate.getDay()\n    }\n\n    getDaysCount() {\n        return DAYS_IN_ONE_YEAR + 1 + this.getCountEmptyDaysAtStart() + this.getCountEmptyDaysAtEnd()\n    }\n\n    _shiftDate(date, numDays) {\n        const newDate = new Date(date)\n        newDate.setDate(newDate.getDate() + numDays)\n        return newDate\n    }\n\n    _parseDate(entry) {\n        return (entry instanceof Date) ? entry : (new Date(entry))\n    }\n\n    _keyDayParser(date) {\n        let day = this._parseDate(date)\n        return `${day.getFullYear()}-${day.getMonth()}-${day.getDate()}`\n    }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport HeatMap from './Heatmap'\nimport {DAYS_IN_WEEK, DEFAULT_LOCALE, DEFAULT_RANGE_COLOR, DEFAULT_TOOLTIP_UNIT, SQUARE_SIZE} from './consts.js'\n\nexport default {\n    directives: {},\n\n    props: {\n        endDate: {\n            required: true\n        },\n        max: {\n            type: Number\n        },\n        rangeColor: {\n            type: Array,\n            default: () => DEFAULT_RANGE_COLOR\n        },\n        values: {\n            required: true,\n            type: Array\n        },\n        locale: {\n            type: Object\n        },\n        tooltip: {\n            type: Boolean,\n            default: true\n        },\n        tooltipUnit: {\n            type: String,\n            default: DEFAULT_TOOLTIP_UNIT\n        },\n        vertical: {\n            type: Boolean,\n            default: false\n        },\n        noDataText: {\n            type: String,\n            default: null\n        }\n    },\n\n    data() {\n        return {\n            now: new Date(),\n            DAYS_IN_WEEK, DEFAULT_LOCALE, DEFAULT_RANGE_COLOR, DEFAULT_TOOLTIP_UNIT\n        }\n    },\n\n    computed: {\n        position() {\n            return this.vertical ? 'vertical' : 'horizontal'\n        },\n        heatMap() {\n            return new HeatMap(this.endDate, this.values, this.max)\n        },\n        width() {\n            return {\n                horizontal: this.LEFT_SECTION_WIDTH + (this.SQUARE_SIZE * this.heatMap.weekCount) + this.SQUARE_BORDER_SIZE,\n                vertical: this.LEFT_SECTION_WIDTH + (this.SQUARE_SIZE * DAYS_IN_WEEK) + this.RIGHT_SECTION_WIDTH\n            }\n        },\n        height() {\n            return {\n                horizontal: this.TOP_SECTION_HEIGTH + (this.SQUARE_SIZE * DAYS_IN_WEEK) + this.SQUARE_BORDER_SIZE + this.BOTTOM_SECTION_HEIGTH,\n                vertical: this.TOP_SECTION_HEIGTH + (this.SQUARE_SIZE * this.heatMap.weekCount) + this.SQUARE_BORDER_SIZE\n            }\n        },\n        viewBox() {\n            return `0 0 ${this.width[this.position]} ${this.height[this.position]}`\n        },\n        daysLabelWrapperTransform() {\n            return {\n                horizontal: `translate(0, ${this.TOP_SECTION_HEIGTH})`,\n                vertical: `translate(${this.LEFT_SECTION_WIDTH}, 0)`\n            }\n        },\n        monthsLabelWrapperTransform() {\n            return {\n                horizontal: `translate(${this.LEFT_SECTION_WIDTH}, 0)`,\n                vertical: `translate(0, ${this.TOP_SECTION_HEIGTH})`\n            }\n        },\n        legendWrapperTransform() {\n            return {\n                horizontal: `translate(${this.width[this.position] - (this.SQUARE_SIZE * this.rangeColor.length) - 30}, ${this.height[this.position] - this.BOTTOM_SECTION_HEIGTH})`,\n                vertical: `translate(${this.LEFT_SECTION_WIDTH + (this.SQUARE_SIZE * DAYS_IN_WEEK)}, ${this.TOP_SECTION_HEIGTH})`\n            }\n        },\n        yearWrapperTransform() {\n            return `translate(${this.LEFT_SECTION_WIDTH}, ${this.TOP_SECTION_HEIGTH})`\n        },\n\n        SQUARE_BORDER_SIZE: () => SQUARE_SIZE / 5,\n        SQUARE_SIZE() {\n            return SQUARE_SIZE + this.SQUARE_BORDER_SIZE\n        },\n        /**\n         * @return {number}\n         */\n        TOP_SECTION_HEIGTH() {\n            return SQUARE_SIZE + (SQUARE_SIZE / 2)\n        },\n        /**\n         * @return {number}\n         */\n        RIGHT_SECTION_WIDTH() {\n            return this.SQUARE_SIZE * 3\n        },\n        /**\n         * @return {number}\n         */\n        BOTTOM_SECTION_HEIGTH() {\n            return SQUARE_SIZE + (SQUARE_SIZE / 2)\n        },\n        /**\n         * @return {number}\n         */\n        LEFT_SECTION_WIDTH() {\n            return Math.ceil(SQUARE_SIZE * 2.5)\n        },\n\n        lo() {\n            if (this.locale) {\n                return {\n                    months: this.locale.months || DEFAULT_LOCALE.months,\n                    days: this.locale.days || DEFAULT_LOCALE.days,\n                    on: this.locale.on || DEFAULT_LOCALE.on,\n                    less: this.locale.less || DEFAULT_LOCALE.less,\n                    more: this.locale.more || DEFAULT_LOCALE.more\n                }\n            }\n            return DEFAULT_LOCALE\n        }\n    },\n\n    methods: {\n        getWeekPosition(index) {\n            if (this.vertical) {\n                return `translate(0, ${(this.SQUARE_SIZE * this.heatMap.weekCount) - ((index + 1) * this.SQUARE_SIZE)})`\n            }\n            return `translate(${index * this.SQUARE_SIZE}, 0)`\n        },\n        getDayPosition(index) {\n            if (this.vertical) {\n                return `translate(${index * this.SQUARE_SIZE}, 0)`\n            }\n            return `translate(0, ${index * this.SQUARE_SIZE})`\n        },\n        getMonthLabelPosition(month) {\n            let position = {x: 0, y: 0}\n            position.x = this.vertical ? 3 : this.SQUARE_SIZE * month.index\n            position.y = this.vertical ? (this.SQUARE_SIZE * this.heatMap.weekCount) - (this.SQUARE_SIZE * (month.index)) - (this.SQUARE_SIZE / 4) : this.SQUARE_SIZE - this.SQUARE_BORDER_SIZE\n            return position\n        }\n    }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5592a248&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=5592a248&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\nvar style1 = require(\"./index.vue?vue&type=style&index=1&lang=scss&\")\nif (style1.__inject__) style1.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5592a248\",\n  \"074b086e\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CalendarHeatMap from \"../../components/CalendarHeatMap/index.vue\";\nimport Avatar from \"../../components/Avatar\";\nimport Input from \"../../components/input/Input\";\n\nArray.range = function (a, b, step) {\n    let A = [];\n    A[0] = a;\n    step = step || 1;\n    while (a + step <= b) {\n        A[A.length] = a += step;\n    }\n    return A;\n};\n\nArray.prototype.fill = function (val) {\n    for (let i = 0; i < this.length; i++) {\n        this[i] = val;\n    }\n    return this;\n};\nexport default {\n    name: \"index\",\n    components: {\n        Avatar,\n        CalendarHeatMap,\n        'b-input': Input\n    },\n    async asyncData({$axios, params}) {\n        return {\n            user: await $axios.$get(`/auth/users/${params.user}/`)\n        }\n    },\n    data() {\n        return {\n            profile: {\n                links: {}\n            },\n            updating: false,\n            report: {\n                total_task_done: 0,\n                total_task_delay: 0,\n                tracking: [],\n                accurate_estimates: 0\n            },\n            time_works: []\n        }\n    },\n    created() {\n        if (this.user.profile) {\n            this.profile = this.user.profile;\n            if (!Boolean(this.profile.links)) {\n                this.profile.links = {};\n            }\n            if (!Boolean(this.profile.extra)) {\n                this.profile.extra = {};\n            }\n        }\n        this.fetchReport();\n    },\n    methods: {\n        handleUpdate() {\n            if (this.updating === false) {\n                this.updating = true;\n            } else {\n                this.save();\n            }\n        },\n        save() {\n            this.$axios.$put(`/auth/users/${this.user.username}/`, {\n                ...this.user,\n                profile: this.cleanData(this.profile)\n            }).finally(() => {\n                this.updating = false;\n            })\n        },\n        async fetchReport() {\n            this.report = await this.$axios.$get(`/auth/users/${this.user.id}/reports/`);\n            this.report.tracking.forEach(x => {\n                x.total_time = x.data.map(y => y.time_taken).reduce(function (a, b) {\n                    return a + b;\n                }, 0);\n            });\n            let time_working = new Array(24).fill(0);\n            this.report.tracking.forEach(record => {\n                record.data.forEach(d => {\n                    let str_start = d['time_start'];\n                    let str_stop = d['time_stop'];\n                    if (str_start && str_stop) {\n                        let time_start = new Date(str_start);\n                        let time_stop = new Date(str_stop);\n                        let ranges = Array.range(time_start.getHours(), time_stop.getHours());\n                        ranges.forEach(r => {\n                            time_working[r] = time_working[r] + 1;\n                        })\n                    }\n                })\n            });\n            let max = Math.max(...time_working);\n            this.time_works = time_working.map(x => x / max);\n        }\n    },\n    computed: {\n        reportData() {\n            let total = this.report.tracking.map(x => x.total_time).reduce(function (a, b) {\n                return a + b;\n            }, 0);\n            return {\n                total_task_done: this.report.total_task_done,\n                total_task_delay: this.report.total_task_delay,\n                total_focus: (this.user.profile.extra && this.user.profile.extra.temp_score ? this.user.profile.extra.temp_score : 0) / 3600,\n                avg_focus: this.report.tracking.length ? (((total ? total : 0) / this.report.tracking.length) / 60) : 0,\n                accurate_estimates: this.report.accurate_estimates / 60, // in minutes\n                rank: 0\n            }\n        },\n        chartValues() {\n            return this.report.tracking.map(x => {\n                return {\n                    date: new Date(x.date_record),\n                    count: x.total_time\n                }\n            })\n        },\n        timeChart() {\n            if (this.report.tracking.length) {\n\n            }\n            return [] // Numbers\n        }\n    },\n    mounted() {\n        this.toTop();\n    }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e8604c02&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"e8604c02\",\n  \"35ffa041\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;;;;;;;;ACDA;AACA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;ACFA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AAEA;AAEA;;AChBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AA3FA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AA9BA;AACA;AAmCA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;;;AAGA;AACA;AACA;AACA;AAAA;;;AAGA;AACA;AACA;AACA;AAAA;;;AAGA;AACA;AACA;AACA;AAAA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AACA;AArFA;AAuFA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAnBA;AArIA;;AC9CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAXA;AAaA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCA;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AANA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AA5BA;AACA;AA4BA;AACA;AACA;AACA;AAjHA;;AC/MA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}